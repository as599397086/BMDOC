
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="贝格迈思数据库使用手册">
      
      
      
      
        <link rel="prev" href="../05-%E6%95%B0%E6%8D%AE%E8%BF%81%E7%A7%BB.html">
      
      
        <link rel="next" href="%E6%9B%B4%E6%94%B9%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE.html">
      
      
      <link rel="icon" href="../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.6">
    
    
      
        <title>集群管理与监控 - 手册</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.35e1ed30.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="mo" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine classes -->


  


<!-- Header -->
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="页眉"
  >

    <!-- Link to home -->
    <a
      href="../index.html"
      title="手册"
      class="md-header__button md-logo"
      aria-label="手册"
      data-md-component="logo"
    >
      
  <img src="../assets/new-logo.png" alt="logo">

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            手册
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              集群管理与监控
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette toggle -->
    
      
    

    <!-- User preference: color palette -->
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <a href="https://github.com/as599397086/BMDOC" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="手册" class="md-nav__button md-logo" aria-label="手册" data-md-component="logo">
      
  <img src="../assets/new-logo.png" alt="logo">

    </a>
    手册
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/as599397086/BMDOC" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AiSQL简介
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    快速上手
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/JAVA.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    应用开发
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../%E9%83%A8%E7%BD%B2%E9%9B%86%E7%BE%A4/%E8%BD%AF%E7%A1%AC%E4%BB%B6%E7%8E%AF%E5%A2%83%E9%9C%80%E6%B1%82.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    部署集群
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../05-%E6%95%B0%E6%8D%AE%E8%BF%81%E7%A7%BB.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据迁移
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    管理数据库
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            管理数据库
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    集群管理与监控
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86%E4%B8%8E%E7%9B%91%E6%8E%A7.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    集群管理与监控
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    安装部署
  </a>
  
    <nav class="md-nav" aria-label="安装部署">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    资源管理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    添加主机
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    集群管理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    参数配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    任务状态
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    监控告警
  </a>
  
    <nav class="md-nav" aria-label="监控告警">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    集群总览
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    集群监控
  </a>
  
    <nav class="md-nav" aria-label="集群监控">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    集群信息
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    慢查询分析
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sql" class="md-nav__link">
    SQL分析
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    日志分析
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    集群告警
  </a>
  
    <nav class="md-nav" aria-label="集群告警">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    告警列表
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    接收人设置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    规则设置
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    系统与安全
  </a>
  
    <nav class="md-nav" aria-label="系统与安全">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    操作审计
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    通知服务器设置
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    权限管理
  </a>
  
    <nav class="md-nav" aria-label="权限管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    用户管理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    角色管理
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    管理工具
  </a>
  
    <nav class="md-nav" aria-label="管理工具">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sql_1" class="md-nav__link">
    SQL客户端
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyterlab" class="md-nav__link">
    JupyterLab
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    应用
  </a>
  
    <nav class="md-nav" aria-label="应用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#brightgpt" class="md-nav__link">
    BrightGPT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    图文检索
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brightbi" class="md-nav__link">
    BrightBI
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="%E6%9B%B4%E6%94%B9%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    更改集群配置
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="%E8%AF%8A%E6%96%AD%E6%8A%A5%E5%91%8A.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    诊断报告
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="%E5%AE%89%E5%85%A8%E6%9D%83%E9%99%90/%E5%AE%89%E5%85%A8%E6%A3%80%E6%9F%A5%E6%B8%85%E5%8D%95.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    安全权限
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D/%E5%A4%87%E4%BB%BD%E5%92%8C%E8%BF%98%E5%8E%9F.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    备份修复
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="%E7%9B%91%E6%8E%A7%E6%8C%87%E6%A0%87.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    监控指标
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    问题排查
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/%E5%BC%95%E8%A8%80.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    性能调优
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="%E9%AB%98%E5%8F%AF%E7%94%A8.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    高可用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="%E9%AB%98%E6%89%A9%E5%B1%95%E6%80%A7.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    高扩展性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="%E5%A4%9A%E5%8C%BA%E5%9F%9F%E9%83%A8%E7%BD%B2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    多区域部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../管理数据库/变更数据获取.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    变更数据获取
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="%E5%8D%87%E7%BA%A7%E9%83%A8%E7%BD%B2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    升级部署
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../07-%E5%90%91%E9%87%8F%E7%89%B9%E6%80%A7.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    向量特性
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../AI%E7%89%B9%E6%80%A7/%E6%A6%82%E8%BF%B0.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    AI特性
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="../%E6%9E%B6%E6%9E%84/%E8%AE%BE%E8%AE%A1%E7%9B%AE%E6%A0%87.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    参考
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    安装部署
  </a>
  
    <nav class="md-nav" aria-label="安装部署">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    资源管理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    添加主机
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    集群管理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    参数配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    任务状态
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    监控告警
  </a>
  
    <nav class="md-nav" aria-label="监控告警">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    集群总览
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    集群监控
  </a>
  
    <nav class="md-nav" aria-label="集群监控">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    集群信息
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    慢查询分析
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sql" class="md-nav__link">
    SQL分析
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    日志分析
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    集群告警
  </a>
  
    <nav class="md-nav" aria-label="集群告警">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    告警列表
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    接收人设置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    规则设置
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    系统与安全
  </a>
  
    <nav class="md-nav" aria-label="系统与安全">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    操作审计
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    通知服务器设置
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    权限管理
  </a>
  
    <nav class="md-nav" aria-label="权限管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    用户管理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    角色管理
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    管理工具
  </a>
  
    <nav class="md-nav" aria-label="管理工具">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sql_1" class="md-nav__link">
    SQL客户端
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jupyterlab" class="md-nav__link">
    JupyterLab
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    应用
  </a>
  
    <nav class="md-nav" aria-label="应用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#brightgpt" class="md-nav__link">
    BrightGPT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    图文检索
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brightbi" class="md-nav__link">
    BrightBI
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/as599397086/BMDOC/edit/master/docs/管理数据库/集群管理与监控.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/as599397086/BMDOC/raw/master/docs/管理数据库/集群管理与监控.md" title="查看本页的源代码" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
    </a>
  


  <h1>集群管理与监控</h1>

<p>BrightStudio明睿智能数据管理平台，以AiSQL数据库为核心，实现一站式、可视化的管理，专用于管理和监控企业级数据库环境及数据， 提供全面的数据库安装、管理、监控、运维、安全、数据分析、自动化等功能，帮助企业提高数据库运维及数据智能效率和可靠性，具体如下：
<strong>安装部署</strong>：支持数据库的安装、配置、备份、恢复、升级、迁移、监控、优化等功能。
<strong>监控告警</strong>：实时监控数据库的性能、资源使用情况、故障等，并提供报警和通知功能。
<strong>系统与安全</strong>：提供数据库的数据加密、审计等功能，保障数据安全。
<strong>权限管理</strong>：提供项目的访问控制、权限管理。
<strong>管理工具</strong>：支持数据库的自动化运维，如自动化备份、自动化恢复、自动化升级等，提高运维效率。
<strong>应用</strong>：支持数据库的数据查询、报表生成、数据挖掘等功能，帮助企业进行数据分析和决策。</p>
<h2 id="_1"><strong>安装部署</strong><a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>用于完成集群的资源管理，安装部署和参数控制。</p>
<h3 id="_2"><strong>资源管理</strong><a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>对主机资源进行创建、扩容、缩容、重启、停止、删除管理。</p>
<p>1.添加主机
根据提供的IP和账户密码，添加对应的主机，用于后续创建集群，扩容集群等需要主机资源的时候进行分配。</p>
<p>2.删除主机
对未分配的主机，可以进行删除。</p>
<h3 id="_3"><strong>添加主机</strong><a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>根据提供的IP和账户密码，添加对应的主机，用于后续创建集群，扩容集群等需要主机资源的时候进行分配。</p>
<p><img alt="" src="../assets/chapter6/1.png" /></p>
<h3 id="_4"><strong>集群管理</strong><a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>对集群资源进行创建、扩容、缩容、重启、停止、删除管理。
1.集群创建：创建集群，可手动选择需要部署的机器，也可以自动分配部署的机器，且节点数量必须大于等于复制因子。若出现创建失败，可能是网络出现问题或者是端口已被占用等情况，若出现失败的情况，可删除重新创建。
2.集群扩容：集群扩容需要选择要扩容多少节点，以及节点需要加载的服务。如扩容失败，可能是资源不足或网络错误导致。 若是资源不足，可以选择继续导入主机；若是网络问题，可检查网络状态后重试。具体错误信息请查看工作流信息。
3.集群缩容：集群缩容需要选择要卸载多少节点，以及节点需要卸载的服务。如缩容失败，可能是网络错误导致，可检查网络状态后重试。具体错误信息请查看工作流信息。
4.集群重启：集群重启会先将集群停止，然后再进行启动。如果出现重启后失败的情况，可能存在网络错误，可检查网络状态后重试。
5.集群停止：集群停止会直接停止进程，若出现停止后失败的情况，可能存在网络错误，可检查网络状态后重试。
6.集群删除：集群删除会将集群信息全部删除，包括但不限于集群的进程，回收集群所拥有的机器，删除集群机器中的资源。若出现停止后失败的情况，可能存在网络错误，可检查网络状态后重试。</p>
<p><img alt="" src="../assets/chapter6/2.png" /></p>
<h3 id="_5"><strong>参数配置</strong><a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>参数配置用于复制和管理参数组。参数组用于定义集群的参数值，在创建集群时需要选择参数组。
1.参数组的编辑: 编辑参数组中的某些参数值。
2.参数组的复制: 基于该参数组创建一个新的参数组。
3.参数组的删除: 删除某个参数组。</p>
<p><img alt="" src="../assets/chapter6/3.png" /></p>
<h3 id="_6"><strong>任务状态</strong><a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>用于查看每个任务的状态（例如新增主机，创建集群等），关联资源类型表示这是一个针对主机的操作，还是一个针对集群的操作，关联资源ID表示操作资源的ID值，如果是主机类型，则为主机的ID，如果是集群类型，则为集群的ID。
1任务列表：用于查看每个任务的状态（例如新增主机，创建集群等），关联资源类型表示这是一个针对主机的操作，还是一个针对集群的操作，关联资源ID表示操作资源的ID值，如果是主机类型，则为主机的ID，如果是集群类型，则为集群的ID。
2.点击任务记录前的加号，查看任务每个步骤的执行情况。
3.点击具体步骤的名称，查看步骤执行的返回信息。</p>
<p><img alt="" src="../assets/chapter6/4.png" /></p>
<h2 id="_7"><strong>监控告警</strong><a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<h3 id="_8"><strong>集群总览</strong><a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p>集群信息页面包括实例和主机信息。</p>
<p><img alt="" src="../assets/chapter6/5.png" /></p>
<h3 id="_9"><strong>集群监控</strong><a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<h4 id="_10"><strong>集群信息</strong><a class="headerlink" href="#_10" title="Permanent link">&para;</a></h4>
<p>该页面是对整个系统的一个概览，显示集群状况和集群总数。对每个集群，显示监控状态、状态、集群ID、创建时间、存储容量、更新时间、数据库版本、复制因子、节点数量及节点IP。
实例列表</p>
<p><img alt="" src="../assets/chapter6/6.png" /></p>
<p>下面介绍右侧两个按钮的作用
1.图表按钮
点进对应实例的图表，将详细展示记录实例各项数据的时间图表，该部分内容由grafana嵌入而来。可以通过用上面的时间范围来选择展示的对应时间范围数据。 </p>
<p><img alt="" src="../assets/chapter6/7.png" /></p>
<p>2.参数按钮
参数按钮，将指向老版的BrightDB监控。</p>
<p><img alt="" src="../assets/chapter6/8.png" /></p>
<p>主机列表
记录主机的详细信息，点击右侧图表按钮可以看见主机的资源历史使用记录。</p>
<p><img alt="" src="../assets/chapter6/9.png" /></p>
<h4 id="_11"><strong>慢查询分析</strong><a class="headerlink" href="#_11" title="Permanent link">&para;</a></h4>
<p>该页面会筛选出时间超过指定耗时(默认1s)的SQL语句,。来源于日志抓取程序，用户可自行选择是否开启日志抓取程序来获取相关页面数据。需要注意的是，开启日志抓取程序有可能会影响到BrightDB数据库的性能，而且会导致日志增长速度加快，请用户自行选择！</p>
<p><img alt="" src="../assets/chapter6/10.png" /></p>
<h4 id="sql"><strong>SQL分析</strong><a class="headerlink" href="#sql" title="Permanent link">&para;</a></h4>
<p>该页面记录了所有非事务的语句，默认显示30分钟内数据。来源于日志抓取程序，用户可自行选择是否开启日志抓取程序来获取相关页面数据。需要注意的是，开启日志抓取程序有可能会影响到BrightDB数据库的性能，而且会导致日志增长速度加快，请用户自行选择！</p>
<p><img alt="" src="../assets/chapter6/11.png" /></p>
<h4 id="_12"><strong>日志分析</strong><a class="headerlink" href="#_12" title="Permanent link">&para;</a></h4>
<p>该页面记录DBserver和MServer的日志，程序出现意外可以尝试从这里进行分析。来源于日志抓取程序，用户可自行选择是否开启日志抓取程序来获取相关页面数据。需要注意的是，开启日志抓取程序有可能会影响到BrightDB数据库的性能，而且会导致日志增长速度加快，请用户自行选择！</p>
<p><img alt="" src="../assets/chapter6/12.png" /></p>
<p>1.分析页面
慢查询分析页面、SQL分析页面、日志分析页面的数据都来源于日志抓取程序，用户可自行选择是否开启日志抓取程序来获取相关页面数据。需要注意的是，开启日志抓取程序有可能会影响到BrightDB数据库的性能，而且会导致日志增长速度加快，请用户自行选择！</p>
<p>2.SQL分析、慢查询分析，对应fluentbit的配置文件fluent-bit.conf的以下内容。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a> [INPUT]  
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a>      name                tail  
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3"></a>      path                /root/biginsights-data/node-1/disk-1/bi-data/tserver/logs/postgresql*.log  
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4"></a>      Buffer_Max_Size     5M  
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5"></a>      Buffer_Chunk_Size   1M  
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6"></a>      tag                 pglog  
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7"></a>      multiline.parser    multiline-pglog  
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8"></a>      Rotate_Wait         30  
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9"></a>      db                  /var/lib/fluentbit/pg.db  
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10"></a>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11"></a>[OUTPUT]  
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12"></a>      name  http  
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13"></a>      match pglog  
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14"></a>      host  127.0.0.1  
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15"></a>      port  9050  
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16"></a>      uri   /sql/write  
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17"></a>      format json  
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18"></a>      Workers 0  
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19"></a>      net.keepalive on
</span></code></pre></div></td></tr></table></div>
<p>3.日志分析页面对应fluent-bit.conf的以下内容 </p>
<p><div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1"></a> [INPUT]  
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2"></a>        name                tail  
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3"></a>        path                /root/biginsights-data/node-1/disk-1/bi-data/tserver/logs/bi-tserve.*ERROR.*,/root/biginsights-data/node-1/disk-1/bi-data/tserver/logs/bi-tserver.*WARNING.*  
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4"></a>        tag                 glog  
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5"></a>        Rotate_Wait         30  
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6"></a>        db                  /var/lib/fluentbit/logs.db  
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7"></a>        Path_Key            logName  
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8"></a>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9"></a>[OUTPUT]  
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10"></a>    name  http  
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11"></a>    match glog  
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12"></a>    host  127.0.0.1  
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13"></a>    port  9050  
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14"></a>    uri   /log/write  
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15"></a>    format json
</span></code></pre></div></td></tr></table></div>
用户可自行选择抓取哪部分内容，不需要的部分注释掉即可</p>
<h3 id="_13"><strong>集群告警</strong><a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<p>支持通过邮件、钉钉等方式发送报警通知。</p>
<h4 id="_14"><strong>告警列表</strong><a class="headerlink" href="#_14" title="Permanent link">&para;</a></h4>
<p>告警列表记录了prometheus的组件alertmanager发送的警报，用户可以翻找该列表查看告警信息，默认显示30分钟内的告警信息。</p>
<p><img alt="" src="../assets/chapter6/13.png" /></p>
<h4 id="_15"><strong>接收人设置</strong><a class="headerlink" href="#_15" title="Permanent link">&para;</a></h4>
<p>该页面可以选择将告警信息发送给对应的接收人，目前支持邮件和钉钉告警两种方式。</p>
<p><img alt="" src="../assets/chapter6/14.png" /></p>
<h4 id="_16"><strong>规则设置</strong><a class="headerlink" href="#_16" title="Permanent link">&para;</a></h4>
<p>该页面预置了数个模板，大部分是针对主机资源的告警。 </p>
<p><img alt="" src="../assets/chapter6/15.png" /></p>
<p><img alt="" src="../assets/chapter6/16.png" /></p>
<p><img alt="" src="../assets/chapter6/17.png" /></p>
<p>添加钉钉机器人的流程：</p>
<p>1.创建钉钉群组，打开群设置</p>
<p><img alt="" src="../assets/chapter6/18.png" /></p>
<p>2.添加自定义机器人</p>
<p><img alt="" src="../assets/chapter6/19.png" /></p>
<p>3.设置安全参数 目前支持两种方式，一是ip字段，一是自定义关键字的方式 </p>
<p>4.自定义关键字
添加关键字"告警"，使得消息能通过钉钉验证</p>
<p><img alt="" src="../assets/chapter6/20.png" /></p>
<p>5.IP地址
用户需要将prometheus服务所在机器的ip填入。</p>
<p><img alt="" src="../assets/chapter6/21.png" /></p>
<p>6.获取token地址
设置成功后就可以获得web机器人的地址</p>
<p><img alt="" src="../assets/chapter6/22.png" /></p>
<p>7.将该webhook复制到接收人页面即可</p>
<p><img alt="" src="../assets/chapter6/23.png" /></p>
<p>8.测试 可以试着将CPU的上限调高，如果钉钉能收到如下消息，则代表测试成功</p>
<p><img alt="" src="../assets/chapter6/24.png" /></p>
<h2 id="_17"><strong>系统与安全</strong><a class="headerlink" href="#_17" title="Permanent link">&para;</a></h2>
<h3 id="_18"><strong>操作审计</strong><a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<p>显示Bright Studio系统自身的操作日志，支持灵活的过滤和查找功能。 </p>
<p><img alt="" src="../assets/chapter6/25.png" /></p>
<h3 id="_19"><strong>通知服务器设置</strong><a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<p>通过配置邮件服务器和邮箱，在对集群进行监控并产生告警时，可以将告警通过邮件发送给接收人。</p>
<p><img alt="" src="../assets/chapter6/26.png" /></p>
<h2 id="_20"><strong>权限管理</strong><a class="headerlink" href="#_20" title="Permanent link">&para;</a></h2>
<p>负责Bright Studio系统本身权限的管理，包括用户管理和角色管理。</p>
<h3 id="_21"><strong>用户管理</strong><a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<p>支持项目的用户。如新增、编辑、删除、查看用户列表、查看用户权限、给用户分配角色、重置用户密码等。
1.新增用户：增加一个用户账户。</p>
<p><img alt="" src="../assets/chapter6/27.png" /></p>
<p>2.编辑用户：编辑已有用户的账户信息。 </p>
<p><img alt="" src="../assets/chapter6/28.png" /></p>
<p>3.删除用户：删除已有用户的账户信息。</p>
<p><img alt="" src="../assets/chapter6/29.png" /></p>
<p>4.查看用户列表：显示所有用户的列表。</p>
<p><img alt="" src="../assets/chapter6/30.png" /></p>
<p>5.查看用户权限：查看用户的所有权限。 </p>
<p><img alt="" src="../assets/chapter6/31.png" /></p>
<p>6.给用户分配角色：用户可绑定多个角色，每个角色所拥有的权限用户都拥有，且对于同一权限，取所有角色中的最高权限。</p>
<p><img alt="" src="../assets/chapter6/32.png" /></p>
<p>7.重置用户密码：将用户密码重置成与登录账号的值相同。 </p>
<p><img alt="" src="../assets/chapter6/33.png" /></p>
<h3 id="_22"><strong>角色管理</strong><a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<p>支持项目的角色控制。如创建角色、给角色分配权限、删除角色等。
1.创建角色：创建一个新角色，新创建的角色默认无任何权限。</p>
<p><img alt="" src="../assets/chapter6/34.png" /></p>
<p>2.给角色分配权限：显示所有角色的列表。</p>
<p><img alt="" src="../assets/chapter6/35.png" /></p>
<p>3.角色列表：为角色分配权限，所有绑定了该角色的用户都会拥有该角色所拥有的权限。</p>
<p><img alt="" src="../assets/chapter6/36.png" /></p>
<p>4.删除角色：将角色进行删除，若有用户绑定了此角色，也会将此进行解绑，删除角色时请确认绑定了该角色的用户在删除后的权限是否符合自己的需求。</p>
<p><img alt="" src="../assets/chapter6/37.png" /></p>
<h2 id="_23"><strong>管理工具</strong><a class="headerlink" href="#_23" title="Permanent link">&para;</a></h2>
<h3 id="sql_1"><strong>SQL客户端</strong><a class="headerlink" href="#sql_1" title="Permanent link">&para;</a></h3>
<p>集成的第三方postgres sql客户端pgweb。</p>
<p><img alt="" src="../assets/chapter6/38.png" /></p>
<h3 id="jupyterlab"><strong>JupyterLab</strong><a class="headerlink" href="#jupyterlab" title="Permanent link">&para;</a></h3>
<p>是一个基于浏览器的交互式开发环境，支持运行 Jupyter 笔记本、编辑代码和文本文件，以及进行数据分析和可视化，适用于 Python 等多种编程语言。</p>
<p><img alt="" src="../assets/chapter6/39.png" /></p>
<h2 id="_24"><strong>应用</strong><a class="headerlink" href="#_24" title="Permanent link">&para;</a></h2>
<h3 id="brightgpt"><strong>BrightGPT</strong><a class="headerlink" href="#brightgpt" title="Permanent link">&para;</a></h3>
<p>通过数据库关键字提取来达到自动对话。</p>
<p><img alt="" src="../assets/chapter6/40.png" /></p>
<h3 id="_25"><strong>图文检索</strong><a class="headerlink" href="#_25" title="Permanent link">&para;</a></h3>
<p>支持数据库关键向量信息，返回相应的结果。</p>
<p><img alt="" src="../assets/chapter6/41.png" /></p>
<h3 id="brightbi"><strong>BrightBI</strong><a class="headerlink" href="#brightbi" title="Permanent link">&para;</a></h3>
<p>能够连接多种数据源、提供丰富的可视化图表，支持自定义仪表盘，帮助用户轻松探索和呈现数据。</p>
<p><img alt="" src="../assets/chapter6/42.png" /></p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../05-%E6%95%B0%E6%8D%AE%E8%BF%81%E7%A7%BB.html" class="md-footer__link md-footer__link--prev" aria-label="上一页: 数据迁移">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                数据迁移
              </div>
            </div>
          </a>
        
        
          
          <a href="%E6%9B%B4%E6%94%B9%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE.html" class="md-footer__link md-footer__link--next" aria-label="下一页: 更改集群配置">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                更改集群配置
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2023 - 2024 贝格迈思（深圳）技术有限公司 粤ICP备17054434号-1
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/as599397086/BMDOC" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.path", "navigation.prune", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.aecac24b.min.js"></script>
      
        <script src="../javascripts/extra.js"></script>
      
    
  </body>
</html>