
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="贝格迈思数据库使用手册">
      
      
      
      
        <link rel="prev" href="%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6.html">
      
      
      
      <link rel="icon" href="../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.6">
    
    
      
        <title>BCQL语言 - AiSQL数据库</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.35e1ed30.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="mo" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#alter-keyspace" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine classes -->


  


<!-- Header -->
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="页眉"
  >

    <!-- Link to home -->
    <a
      href="../index.html"
      title="AiSQL数据库"
      class="md-header__button md-logo"
      aria-label="AiSQL数据库"
      data-md-component="logo"
    >
      
  <img src="../assets/new-logo.png" alt="logo">

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AiSQL数据库
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              BCQL语言
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette toggle -->
    
      
    

    <!-- User preference: color palette -->
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <a href="https://github.com/as599397086/BMDOC" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="AiSQL数据库" class="md-nav__button md-logo" aria-label="AiSQL数据库" data-md-component="logo">
      
  <img src="../assets/new-logo.png" alt="logo">

    </a>
    AiSQL数据库
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/as599397086/BMDOC" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AiSQL简介
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    快速上手
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            快速上手
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    快速安装部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/SQL%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SQL基本操作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/BCQL%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BCQL基本操作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/%E5%88%9B%E5%BB%BAJava%E7%A4%BA%E4%BE%8B%E5%BA%94%E7%94%A8.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    创建Java示例应用程序
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    应用开发
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            应用开发
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    构建应用
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            构建应用
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/JAVA.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Java
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/Go.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/Python.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/Node.js.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node.js
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/C.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/C%2B%2B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C++
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/C%23.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C#
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/Ruby.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ruby
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/Rust.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rust
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/PHP.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PHP
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%85%A8%E5%B1%80%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    构建全局应用程序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%A4%9A%E4%BA%91%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    构建多云应用程序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E5%B8%B8%E8%A7%81%E6%A8%A1%E5%BC%8F.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常见模式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    学习应用程序开发
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            学习应用程序开发
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E5%AD%A6%E4%B9%A0%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/%E6%95%B0%E6%8D%AE%E5%BB%BA%E6%A8%A1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据建模
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E5%AD%A6%E4%B9%A0%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E5%AD%A6%E4%B9%A0%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/SQLvsNoSQL.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SQL vs NoSQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E5%AD%A6%E4%B9%A0%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/%E4%BA%8B%E5%8A%A1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    事务
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E5%AD%A6%E4%B9%A0%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/%E6%96%87%E6%9C%AC%E6%90%9C%E7%B4%A2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文本搜索
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E5%AD%A6%E4%B9%A0%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/%E8%81%9A%E9%9B%86.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    聚集
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E5%AD%A6%E4%B9%A0%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/%E6%89%B9%E5%A4%84%E7%90%86%E6%93%8D%E4%BD%9C.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    批处理操作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E5%AD%A6%E4%B9%A0%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/Date%26Time.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Date and time
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E5%AD%A6%E4%B9%A0%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%96%87%E6%9C%AC.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    字符串和文本
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E5%AD%A6%E4%B9%A0%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/%E6%95%B0%E6%8D%AE%E8%BF%87%E6%9C%9F%E7%9A%84TTL.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据过期的TTL
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    最佳实践
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    驱动与对象关系映射
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            驱动与对象关系映射
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E4%B8%8E%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84/%E6%A6%82%E8%BF%B0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    概述
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E4%B8%8E%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84/BSQL%E6%99%BA%E8%83%BD%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BSQL智能驱动程序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E4%B8%8E%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84/Java.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Java
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E4%B8%8E%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84/Go.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E4%B8%8E%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84/Python.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E4%B8%8E%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84/Node.js.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node.js
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E4%B8%8E%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84/C.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E4%B8%8E%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84/C%2B%2B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C++
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E4%B8%8E%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84/C%23.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C#
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E4%B8%8E%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84/Ruby.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ruby
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E7%9C%9F%E5%AE%9E%E7%A4%BA%E4%BE%8B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    真实示例
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9C%8D%E5%8A%A1%E8%B4%A8%E9%87%8F.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    服务质量
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E4%BA%91%E5%8E%9F%E7%94%9F%E5%BC%80%E5%8F%91.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    云原生开发
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_11" >
        
          
          <label class="md-nav__link" for="__nav_3_11" id="__nav_3_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    驱动和ORMs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_11">
            <span class="md-nav__icon md-icon"></span>
            驱动和ORMs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E5%92%8CORMs/JDBC_Drivers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JDBC Drivers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E5%92%8CORMs/Node.js_Drivers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node.js Drivers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E5%92%8CORMs/C%23_Drivers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C# Drivers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E5%92%8CORMs/Go_Drivers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go Drivers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E5%92%8CORMs/Python_Drivers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Drivers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E5%92%8CORMs/Rust_Drivers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rust Drivers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E5%92%8CORMs/Client_drivers_for_BSQL.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Client drivers for BSQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E9%A9%B1%E5%8A%A8%E5%92%8CORMs/Client_drivers_for_BCQL.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Client drivers for BCQL
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%B7%A5%E5%85%B7.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第三方工具
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/BSQL%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86%E6%B1%A0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BSQL连接管理池
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    部署集群
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            部署集群
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%83%A8%E7%BD%B2%E9%9B%86%E7%BE%A4/%E8%BD%AF%E7%A1%AC%E4%BB%B6%E7%8E%AF%E5%A2%83%E9%9C%80%E6%B1%82.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    软硬件环境需求
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%83%A8%E7%BD%B2%E9%9B%86%E7%BE%A4/%E7%8E%AF%E5%A2%83%E4%B8%8E%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE%E6%A3%80%E6%9F%A5.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    环境与系统配置检查
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%83%A8%E7%BD%B2%E9%9B%86%E7%BE%A4/%E6%9C%80%E5%B0%8F%E9%83%A8%E7%BD%B2%E6%8B%93%E6%89%91%E7%BB%93%E6%9E%84.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    最小部署拓扑结构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%83%A8%E7%BD%B2%E9%9B%86%E7%BE%A4/%E9%80%9A%E8%BF%87%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2%E9%83%A8%E7%BD%B2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    通过图形化界面部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%83%A8%E7%BD%B2%E9%9B%86%E7%BE%A4/%E9%80%9A%E8%BF%87%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%83%A8%E7%BD%B2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    通过命令行部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%83%A8%E7%BD%B2%E9%9B%86%E7%BE%A4/%E5%A4%9A%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83%E9%83%A8%E7%BD%B2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    多数据中心部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%83%A8%E7%BD%B2%E9%9B%86%E7%BE%A4/%E6%B5%8B%E8%AF%95%E9%9B%86%E7%BE%A4%E6%80%A7%E8%83%BD.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    测试集群性能
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../05-%E6%95%B0%E6%8D%AE%E8%BF%81%E7%A7%BB.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据迁移
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    管理数据库
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            管理数据库
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86%E4%B8%8E%E7%9B%91%E6%8E%A7.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    集群管理与监控
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%9B%B4%E6%94%B9%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    更改集群配置
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E8%AF%8A%E6%96%AD%E6%8A%A5%E5%91%8A.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    诊断报告
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    安全权限
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            安全权限
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%AE%89%E5%85%A8%E6%9D%83%E9%99%90/%E5%AE%89%E5%85%A8%E6%A3%80%E6%9F%A5%E6%B8%85%E5%8D%95.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    安全检查清单
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%AE%89%E5%85%A8%E6%9D%83%E9%99%90/%E5%90%AF%E7%94%A8%E8%AE%A4%E8%AF%81.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    启用认证
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%AE%89%E5%85%A8%E6%9D%83%E9%99%90/%E8%AE%A4%E8%AF%81%E6%96%B9%E5%BC%8F.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    认证方式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%AE%89%E5%85%A8%E6%9D%83%E9%99%90/%E5%9F%BA%E4%BA%8E%E8%A7%92%E8%89%B2%E7%9A%84%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基于角色的访问控制
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%AE%89%E5%85%A8%E6%9D%83%E9%99%90/%E4%BC%A0%E8%BE%93%E5%8A%A0%E5%AF%86.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    传输加密
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%AE%89%E5%85%A8%E6%9D%83%E9%99%90/%E9%9D%99%E6%80%81%E5%8A%A0%E5%AF%86.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    静态加密
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%AE%89%E5%85%A8%E6%9D%83%E9%99%90/%E5%88%97%E7%BA%A7%E5%8A%A0%E5%AF%86.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    列级加密
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%AE%89%E5%85%A8%E6%9D%83%E9%99%90/%E5%AE%A1%E8%AE%A1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    审计
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    备份修复
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            备份修复
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D/%E5%A4%87%E4%BB%BD%E5%92%8C%E8%BF%98%E5%8E%9F.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    备份和还原
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D/%E6%97%B6%E9%97%B4%E7%82%B9%E5%9B%9E%E5%A4%8D.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    时间点回复
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%9B%91%E6%8E%A7%E6%8C%87%E6%A0%87.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    监控指标
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    问题排查
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_8" >
        
          
          <label class="md-nav__link" for="__nav_6_8" id="__nav_6_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    性能调优
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_8">
            <span class="md-nav__icon md-icon"></span>
            性能调优
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/%E5%BC%95%E8%A8%80.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    引言
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/%E6%94%B6%E9%9B%86%E6%9F%A5%E8%AF%A2%E7%BB%9F%E8%AE%A1%E4%BF%A1%E6%81%AF.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    收集查询统计信息
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/%E6%9F%A5%E7%9C%8B%E5%AE%9E%E6%97%B6%E6%9F%A5%E8%AF%A2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    查看实时查询
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/%E6%9F%A5%E7%9C%8B%E5%B7%B2%E7%BB%88%E6%AD%A2%E7%9A%84%E6%9F%A5%E8%AF%A2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    查看已终止的查询
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/%E6%9F%A5%E7%9C%8B%E5%A4%8D%E5%88%B6%E7%8A%B6%E6%80%81.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    查看复制状态
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/%E6%9F%A5%E7%9C%8B%E7%B4%A2%E5%BC%95%E5%88%9B%E5%BB%BA%E7%8A%B6%E6%80%81.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    查看索引创建状态
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/%E6%9F%A5%E8%AF%A2%E8%AE%A1%E5%88%92.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    查询计划
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/%E4%BC%98%E5%8C%96BSQL%E6%9F%A5%E8%AF%A2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    优化BSQL查询
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E9%AB%98%E5%8F%AF%E7%94%A8.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    高可用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E9%AB%98%E6%89%A9%E5%B1%95%E6%80%A7.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    高扩展性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%A4%9A%E5%8C%BA%E5%9F%9F%E9%83%A8%E7%BD%B2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    多区域部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../管理数据库/变更数据获取.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    变更数据获取
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%8D%87%E7%BA%A7%E9%83%A8%E7%BD%B2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    升级部署
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../07-%E5%90%91%E9%87%8F%E7%89%B9%E6%80%A7.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    向量特性
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    AI特性
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            AI特性
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../AI%E7%89%B9%E6%80%A7/%E6%A6%82%E8%BF%B0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    概述
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../AI%E7%89%B9%E6%80%A7/%E6%9E%B6%E6%9E%84.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    架构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../AI%E7%89%B9%E6%80%A7/%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基本原理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4" >
        
          
          <label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    详细功能说明
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4">
            <span class="md-nav__icon md-icon"></span>
            详细功能说明
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../AI特性/详细功能说明/表单数据服务模型.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    表单数据服务模型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../AI特性/详细功能说明/简洁数据服务模型.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    简洁数据服务模型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../AI特性/详细功能说明/算法扩展.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    算法扩展
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../AI%E7%89%B9%E6%80%A7/%E8%AF%A6%E7%BB%86%E5%8A%9F%E8%83%BD%E8%AF%B4%E6%98%8E/%E6%95%B0%E6%8D%AE%E5%90%91%E9%87%8F%E5%8C%96%E5%92%8C%E6%A3%80%E7%B4%A2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据向量化和检索
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../AI%E7%89%B9%E6%80%A7/%E8%AF%A6%E7%BB%86%E5%8A%9F%E8%83%BD%E8%AF%B4%E6%98%8E/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%B0%83%E7%94%A8.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    大模型调用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../AI%E7%89%B9%E6%80%A7/%E8%AF%A6%E7%BB%86%E5%8A%9F%E8%83%BD%E8%AF%B4%E6%98%8E/%E6%93%8D%E4%BD%9C%E5%AE%A1%E8%AE%A1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    操作审计
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../AI%E7%89%B9%E6%80%A7/%E8%AF%A6%E7%BB%86%E5%8A%9F%E8%83%BD%E8%AF%B4%E6%98%8E/%E5%A4%87%E4%BB%BD%E5%92%8C%E6%81%A2%E5%A4%8D.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    备份和恢复
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../AI%E7%89%B9%E6%80%A7/%E8%AF%A6%E7%BB%86%E5%8A%9F%E8%83%BD%E8%AF%B4%E6%98%8E/%E5%86%85%E7%BD%AE%E5%B8%AE%E5%8A%A9%E6%9C%8D%E5%8A%A1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    内置帮助服务
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    参考
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            参考
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1" >
        
          
          <label class="md-nav__link" for="__nav_9_1" id="__nav_9_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    架构
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1">
            <span class="md-nav__icon md-icon"></span>
            架构
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/%E8%AE%BE%E8%AE%A1%E7%9B%AE%E6%A0%87.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    设计目标
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基本概念
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    核心功能
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    分层架构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/%E6%9F%A5%E8%AF%A2%E5%B1%82.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    查询层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1_6" >
        
          
          <label class="md-nav__link" for="__nav_9_1_6" id="__nav_9_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CoreDB事务层
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1_6">
            <span class="md-nav__icon md-icon"></span>
            CoreDB事务层
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/CoreDB%E4%BA%8B%E5%8A%A1%E5%B1%82/%E6%A6%82%E8%BF%B0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    概述
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/CoreDB%E4%BA%8B%E5%8A%A1%E5%B1%82/%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    隔离级别
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/CoreDB%E4%BA%8B%E5%8A%A1%E5%B1%82/%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    并发控制
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/CoreDB%E4%BA%8B%E5%8A%A1%E5%B1%82/%E4%BA%8B%E5%8A%A1%E4%BC%98%E5%85%88%E7%BA%A7.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    事务优先级
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/CoreDB%E4%BA%8B%E5%8A%A1%E5%B1%82/%E8%AF%BB%E5%B7%B2%E6%8F%90%E4%BA%A4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    读已提交
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/CoreDB%E4%BA%8B%E5%8A%A1%E5%B1%82/%E5%8D%95%E8%A1%8C%E4%BA%8B%E5%8A%A1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    单行事务
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/CoreDB%E4%BA%8B%E5%8A%A1%E5%B1%82/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    分布式事务
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/CoreDB%E4%BA%8B%E5%8A%A1%E5%B1%82/%E4%BA%8B%E5%8A%A1IO%E8%B7%AF%E5%BE%84.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    事务I/O路径
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1_7" >
        
          
          <label class="md-nav__link" for="__nav_9_1_7" id="__nav_9_1_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CoreDB分片层
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1_7">
            <span class="md-nav__icon md-icon"></span>
            CoreDB分片层
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/CoreDB%E5%88%86%E7%89%87%E5%B1%82/%E5%93%88%E5%B8%8C%E5%92%8C%E8%8C%83%E5%9B%B4%E5%88%86%E7%89%87.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    哈希和范围分片
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/CoreDB%E5%88%86%E7%89%87%E5%B1%82/Tile%E5%88%86%E8%A3%82.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tile分裂
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/CoreDB%E5%88%86%E7%89%87%E5%B1%82/Colocated_tables.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Colocated tables
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1_8" >
        
          
          <label class="md-nav__link" for="__nav_9_1_8" id="__nav_9_1_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CoreDB复制层
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1_8">
            <span class="md-nav__icon md-icon"></span>
            CoreDB复制层
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/CoreDB%E5%A4%8D%E5%88%B6%E5%B1%82/%E5%90%8C%E6%AD%A5.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    同步
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/CoreDB%E5%A4%8D%E5%88%B6%E5%B1%82/xDCR.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    xDCR
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/CoreDB%E5%A4%8D%E5%88%B6%E5%B1%82/Read_replicas.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Read replicas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/CoreDB%E5%A4%8D%E5%88%B6%E5%B1%82/Change_data_capture%28CDC%29.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Change data capture (CDC)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1_9" >
        
          
          <label class="md-nav__link" for="__nav_9_1_9" id="__nav_9_1_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CoreDB存储层
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1_9">
            <span class="md-nav__icon md-icon"></span>
            CoreDB存储层
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/CoreDB%E5%AD%98%E5%82%A8%E5%B1%82/%E6%8C%81%E4%B9%85%E5%8C%96.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    持久化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9E%B6%E6%9E%84/CoreDB%E5%AD%98%E5%82%A8%E5%B1%82/%E6%80%A7%E8%83%BD.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    性能
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_2" >
        
          
          <label class="md-nav__link" for="__nav_9_2" id="__nav_9_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CLIs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_2">
            <span class="md-nav__icon md-icon"></span>
            CLIs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_2_1" >
        
          
          <label class="md-nav__link" for="__nav_9_2_1" id="__nav_9_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    sqlsh
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_2_1">
            <span class="md-nav__icon md-icon"></span>
            sqlsh
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/sqlsh/%E6%A6%82%E8%BF%B0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    概述
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/sqlsh/%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基本语法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/sqlsh/%E6%A0%87%E5%BF%97.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    标志
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/sqlsh/%E5%8F%98%E9%87%8F.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    变量
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/sqlsh/SQL%E4%B8%AD%E6%8F%92%E5%85%A5%E5%8F%98%E9%87%8F.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SQL中插入变量
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/sqlsh/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    环境变量
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/sqlsh/%E6%8F%90%E7%A4%BA%E7%AC%A6.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    提示符
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/sqlsh/%E6%96%87%E4%BB%B6.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文件
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/sqlsh/sqlsh%E5%85%83%E5%91%BD%E4%BB%A4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sqlsh元命令
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/sqlsh/%E6%A8%A1%E5%BC%8F%28Pattern%29.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    模式(Pattern)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/sqlsh/%E7%A4%BA%E4%BE%8B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    示例
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/cqlsh.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cqlsh
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_2_3" >
        
          
          <label class="md-nav__link" for="__nav_9_2_3" id="__nav_9_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    bm-admin
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_2_3">
            <span class="md-nav__icon md-icon"></span>
            bm-admin
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/bm-admin/%E9%9B%86%E7%BE%A4%E5%91%BD%E4%BB%A4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    集群命令
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/bm-admin/%E8%A1%A8%E5%91%BD%E4%BB%A4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    表命令
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/bm-admin/%E5%A4%87%E4%BB%BD%E4%B8%8E%E5%BF%AB%E7%85%A7%E5%91%BD%E4%BB%A4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    备份与快照命令
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/bm-admin/%E5%A4%9A%E5%8C%BA%EF%BC%8C%E5%A4%9A%E5%9C%B0%E5%9F%9F%E9%83%A8%E7%BD%B2%E5%91%BD%E4%BB%A4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    多区，多地域部署命令
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/bm-admin/%E8%AF%BB%E5%89%AF%E6%9C%AC%E9%83%A8%E7%BD%B2%E5%91%BD%E4%BB%A4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    读副本部署命令
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/bm-admin/%E5%AE%89%E5%85%A8%E5%91%BD%E4%BB%A4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    安全命令
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/bm-admin/%E6%9B%B4%E6%94%B9%E6%95%B0%E6%8D%AE%E6%8D%95%E8%8E%B7%E5%91%BD%E4%BB%A4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    更改数据捕获命令
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/bm-admin/xDCR%E5%A4%8D%E5%88%B6%E5%91%BD%E4%BB%A4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    xDCR复制命令
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/bm-admin/Decommissioning_commands.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Decommissioning commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/bm-admin/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%91%BD%E4%BB%A4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    负载均衡命令
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/bm-admin/%E6%9B%B4%E6%96%B0BSQL%E7%B3%BB%E7%BB%9F%E7%9B%AE%E5%BD%95.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    更新BSQL系统目录
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/dbserver-ctl.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dbserver-ctl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/bm-dump.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    bm-dump
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/bm-dumpall.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    bm-dumpall
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../CLIs/bm-dev-ctl.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    bm-dev-ctl
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3" >
        
          
          <label class="md-nav__link" for="__nav_9_3" id="__nav_9_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    配置
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_3">
            <span class="md-nav__icon md-icon"></span>
            配置
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%85%8D%E7%BD%AE/bm-mserver.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    bm-mserver
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%85%8D%E7%BD%AE/bm-dbserver.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    bm-dbserver
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%85%8D%E7%BD%AE/bm-ctl.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    bm-ctl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%85%8D%E7%BD%AE/%E9%BB%98%E8%AE%A4%E7%AB%AF%E5%8F%A3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    默认端口
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_4" >
        
          
          <label class="md-nav__link" for="__nav_9_4" id="__nav_9_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    BSQL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_4">
            <span class="md-nav__icon md-icon"></span>
            BSQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_4_1" >
        
          
          <label class="md-nav__link" for="__nav_9_4_1" id="__nav_9_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数据类型
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_4_1">
            <span class="md-nav__icon md-icon"></span>
            数据类型
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/%E6%95%B0%E7%BB%84.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数组
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/PLpgSQL%E4%B8%AD%E7%9A%84%E6%95%B0%E7%BB%84%E5%BE%AA%E7%8E%AF.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PL/pgSQL中的数组循环
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/%E4%BD%BF%E7%94%A8DOMAIN%E5%80%BC%E6%95%B0%E7%BB%84.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用DOMAIN值数组
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/%E6%95%B0%E7%BB%84%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数组函数和运算符
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/Binary.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Binary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/Boolean.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Boolean
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/Character.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Character
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/date%E4%B8%8Etime.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    date与time
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/json.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    json
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/Money.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Money
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数字类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/%E8%8C%83%E5%9B%B4%E7%B1%BB%E5%9E%8B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    范围类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/Serial.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Serial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/UUID.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UUID
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    枚举类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/%E5%87%A0%E4%BD%95%E7%B1%BB%E5%9E%8B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    几何类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E7%B1%BB%E5%9E%8B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    网络地址类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/%E4%BD%8D%E4%B8%B2%E7%B1%BB%E5%9E%8B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    位串类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/%E6%96%87%E6%9C%AC%E6%90%9C%E7%B4%A2%E7%B1%BB%E5%9E%8B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文本搜索类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/%E5%9F%9F%E7%B1%BB%E5%9E%8B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    域类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/%E4%BC%AA%E7%B1%BB%E5%9E%8B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    伪类型
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/BSQL%E8%AF%AD%E8%A8%80.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BSQL语言
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_4_3" >
        
          
          <label class="md-nav__link" for="__nav_9_4_3" id="__nav_9_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    内置函数和运算符
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_4_3">
            <span class="md-nav__icon md-icon"></span>
            内置函数和运算符
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/%E9%80%BB%E8%BE%91%E6%93%8D%E4%BD%9C%E7%AC%A6.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    逻辑操作符
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/%E6%AF%94%E8%BE%83%E5%87%BD%E6%95%B0%E5%92%8C%E6%93%8D%E4%BD%9C%E7%AC%A6.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    比较函数和操作符
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0%E5%92%8C%E6%93%8D%E4%BD%9C%E7%AC%A6.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数学函数和操作符
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%87%BD%E6%95%B0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据类型格式化函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    模式匹配
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    条件表达式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/%E5%AD%90%E6%9F%A5%E8%AF%A2%E8%A1%A8%E8%BE%BE%E5%BC%8F.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    子查询表达式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/%E8%A1%8C%E5%92%8C%E6%95%B0%E7%BB%84%E6%AF%94%E8%BE%83.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    行和数组比较
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/%E9%9B%86%E5%90%88%E8%BF%94%E5%9B%9E%E5%87%BD%E6%95%B0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    集合返回函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    窗口函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/%E8%81%9A%E9%9B%86%E5%87%BD%E6%95%B0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    聚集函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    系统信息函数和运算符
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E5%85%B3%E9%94%AE%E8%AF%8D.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关键词
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E4%BF%9D%E7%95%99%E5%90%8D%E7%A7%B0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    保留名称
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../BSQL/%E7%B3%BB%E7%BB%9F%E8%A1%A8%E8%A7%86%E5%9B%BE.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    系统表/视图
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_5" checked>
        
          
          <label class="md-nav__link" for="__nav_9_5" id="__nav_9_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    BCQL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9_5">
            <span class="md-nav__icon md-icon"></span>
            BCQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    函数和运算符
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    BCQL语言
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="BCQL%E8%AF%AD%E8%A8%80.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    BCQL语言
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#alter-keyspace" class="md-nav__link">
    ALTER KEYSPACE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alter-role" class="md-nav__link">
    ALTER ROLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alter-table" class="md-nav__link">
    ALTER TABLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-index" class="md-nav__link">
    CREATE INDEX
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-keyspace" class="md-nav__link">
    CREATE KEYSPACE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-role" class="md-nav__link">
    CREATE ROLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-table" class="md-nav__link">
    CREATE TABLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-type" class="md-nav__link">
    CREATE TYPE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drop-index" class="md-nav__link">
    DROP INDEX
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drop-keyspace" class="md-nav__link">
    DROP KEYSPACE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drop-role" class="md-nav__link">
    DROP ROLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drop-table" class="md-nav__link">
    DROP TABLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drop-type" class="md-nav__link">
    DROP TYPE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grant-permission" class="md-nav__link">
    GRANT PERMISSION
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grant-role" class="md-nav__link">
    GRANT ROLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#revoke-permission" class="md-nav__link">
    REVOKE PERMISSION
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#revoke-role" class="md-nav__link">
    REVOKE ROLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use" class="md-nav__link">
    USE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#insert" class="md-nav__link">
    INSERT
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#select" class="md-nav__link">
    SELECT
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explain" class="md-nav__link">
    EXPLAIN
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    UPDATE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delete" class="md-nav__link">
    DELETE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transaction" class="md-nav__link">
    TRANSACTION
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#truncate" class="md-nav__link">
    TRUNCATE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simple-expressions" class="md-nav__link">
    Simple expressions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subscripted-expressions" class="md-nav__link">
    Subscripted expressions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-call" class="md-nav__link">
    Function call
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operators" class="md-nav__link">
    Operators
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#blob" class="md-nav__link">
    BLOB
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boolean" class="md-nav__link">
    BOOLEAN
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#collection" class="md-nav__link">
    Collection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frozen" class="md-nav__link">
    FROZEN
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inet" class="md-nav__link">
    INET
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integer-and-counter" class="md-nav__link">
    Integer and counter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#non-integer" class="md-nav__link">
    Non-integer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#text" class="md-nav__link">
    TEXT
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#date-time-and-timestamp" class="md-nav__link">
    DATE, TIME, and TIMESTAMP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uuid-and-timeuuid" class="md-nav__link">
    UUID and TIMEUUID
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jsonb" class="md-nav__link">
    JSONB
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#date-and-time" class="md-nav__link">
    Date and time
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#batch" class="md-nav__link">
    BATCH
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apache-superset" class="md-nav__link">
    Apache Superset
  </a>
  
    <nav class="md-nav" aria-label="Apache Superset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    准备
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#superset-bmdb" class="md-nav__link">
    将 Superset 连接到 BMDB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    进一步使用
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arctype" class="md-nav__link">
    Arctype
  </a>
  
    <nav class="md-nav" aria-label="Arctype">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    准备
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arctype_1" class="md-nav__link">
    安装Arctype
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    创建数据库连接
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    进一步使用
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dbeaver" class="md-nav__link">
    DBeaver
  </a>
  
    <nav class="md-nav" aria-label="DBeaver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    先决条件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bsql" class="md-nav__link">
    创建BSQL连接
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dbschema" class="md-nav__link">
    DbSchema
  </a>
  
    <nav class="md-nav" aria-label="DbSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    准备
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dbschema_1" class="md-nav__link">
    安装 DbSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    创建数据库连接
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    进一步使用
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metabase" class="md-nav__link">
    Metabase
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pgadmin" class="md-nav__link">
    pgAdmin
  </a>
  
    <nav class="md-nav" aria-label="pgAdmin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    准备
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pgadmin_1" class="md-nav__link">
    安装pgAdmin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pgadmin_2" class="md-nav__link">
    配置pgAdmin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    进一步使用
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-workbenchj" class="md-nav__link">
    SQL Workbench/J
  </a>
  
    <nav class="md-nav" aria-label="SQL Workbench/J">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    准备
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sql-workbenchj_1" class="md-nav__link">
    安装 SQL Workbench/J
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sql-workbenchj_2" class="md-nav__link">
    配置 SQL Workbench/J
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    进一步使用
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tableplus" class="md-nav__link">
    TablePlus
  </a>
  
    <nav class="md-nav" aria-label="TablePlus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    准备
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tableplus_1" class="md-nav__link">
    安装TablePlus
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    创建连接
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#alter-keyspace" class="md-nav__link">
    ALTER KEYSPACE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alter-role" class="md-nav__link">
    ALTER ROLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alter-table" class="md-nav__link">
    ALTER TABLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-index" class="md-nav__link">
    CREATE INDEX
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-keyspace" class="md-nav__link">
    CREATE KEYSPACE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-role" class="md-nav__link">
    CREATE ROLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-table" class="md-nav__link">
    CREATE TABLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-type" class="md-nav__link">
    CREATE TYPE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drop-index" class="md-nav__link">
    DROP INDEX
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drop-keyspace" class="md-nav__link">
    DROP KEYSPACE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drop-role" class="md-nav__link">
    DROP ROLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drop-table" class="md-nav__link">
    DROP TABLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drop-type" class="md-nav__link">
    DROP TYPE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grant-permission" class="md-nav__link">
    GRANT PERMISSION
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grant-role" class="md-nav__link">
    GRANT ROLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#revoke-permission" class="md-nav__link">
    REVOKE PERMISSION
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#revoke-role" class="md-nav__link">
    REVOKE ROLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use" class="md-nav__link">
    USE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#insert" class="md-nav__link">
    INSERT
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#select" class="md-nav__link">
    SELECT
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explain" class="md-nav__link">
    EXPLAIN
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    UPDATE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delete" class="md-nav__link">
    DELETE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transaction" class="md-nav__link">
    TRANSACTION
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#truncate" class="md-nav__link">
    TRUNCATE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simple-expressions" class="md-nav__link">
    Simple expressions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subscripted-expressions" class="md-nav__link">
    Subscripted expressions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-call" class="md-nav__link">
    Function call
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operators" class="md-nav__link">
    Operators
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#blob" class="md-nav__link">
    BLOB
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#boolean" class="md-nav__link">
    BOOLEAN
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#collection" class="md-nav__link">
    Collection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frozen" class="md-nav__link">
    FROZEN
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inet" class="md-nav__link">
    INET
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integer-and-counter" class="md-nav__link">
    Integer and counter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#non-integer" class="md-nav__link">
    Non-integer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#text" class="md-nav__link">
    TEXT
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#date-time-and-timestamp" class="md-nav__link">
    DATE, TIME, and TIMESTAMP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uuid-and-timeuuid" class="md-nav__link">
    UUID and TIMEUUID
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jsonb" class="md-nav__link">
    JSONB
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#date-and-time" class="md-nav__link">
    Date and time
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#batch" class="md-nav__link">
    BATCH
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apache-superset" class="md-nav__link">
    Apache Superset
  </a>
  
    <nav class="md-nav" aria-label="Apache Superset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    准备
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#superset-bmdb" class="md-nav__link">
    将 Superset 连接到 BMDB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    进一步使用
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arctype" class="md-nav__link">
    Arctype
  </a>
  
    <nav class="md-nav" aria-label="Arctype">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    准备
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arctype_1" class="md-nav__link">
    安装Arctype
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    创建数据库连接
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    进一步使用
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dbeaver" class="md-nav__link">
    DBeaver
  </a>
  
    <nav class="md-nav" aria-label="DBeaver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    先决条件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bsql" class="md-nav__link">
    创建BSQL连接
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dbschema" class="md-nav__link">
    DbSchema
  </a>
  
    <nav class="md-nav" aria-label="DbSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    准备
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dbschema_1" class="md-nav__link">
    安装 DbSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    创建数据库连接
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    进一步使用
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metabase" class="md-nav__link">
    Metabase
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pgadmin" class="md-nav__link">
    pgAdmin
  </a>
  
    <nav class="md-nav" aria-label="pgAdmin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    准备
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pgadmin_1" class="md-nav__link">
    安装pgAdmin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pgadmin_2" class="md-nav__link">
    配置pgAdmin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    进一步使用
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-workbenchj" class="md-nav__link">
    SQL Workbench/J
  </a>
  
    <nav class="md-nav" aria-label="SQL Workbench/J">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    准备
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sql-workbenchj_1" class="md-nav__link">
    安装 SQL Workbench/J
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sql-workbenchj_2" class="md-nav__link">
    配置 SQL Workbench/J
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    进一步使用
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tableplus" class="md-nav__link">
    TablePlus
  </a>
  
    <nav class="md-nav" aria-label="TablePlus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    准备
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tableplus_1" class="md-nav__link">
    安装TablePlus
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    创建连接
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/as599397086/BMDOC/edit/master/docs/BCQL/BCQL语言.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/as599397086/BMDOC/raw/master/docs/BCQL/BCQL语言.md" title="查看本页的源代码" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
    </a>
  


  <h1>BCQL语言</h1>

<h2 id="alter-keyspace"><strong>ALTER KEYSPACE</strong><a class="headerlink" href="#alter-keyspace" title="Permanent link">&para;</a></h2>
<p>使用ALTER KEYSPACE语句可以更改现有键空间的属性。
仅出于兼容性原因支持此语句，在内部不起作用（无操作语句）。
如果指定的键空间不存在，或者用户（角色）没有键空间ALTER操作的权限，则该语句可能失败。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a>alter_keyspace ::= ALTER { KEYSPACE | SCHEMA } keyspace_name
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a>                       [ WITH REPLICATION &#39;=&#39; &#39;{&#39; keyspace_property &#39;}&#39;]
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3"></a>                       [ AND DURABLE_WRITES &#39;=&#39; { true | false } ]
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4"></a>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5"></a>keyspace_property ::= property_name = property_value
</span></code></pre></div></td></tr></table></div>
<ul>
<li>keyspace_name和property_name是标识符。</li>
<li>property_value是布尔、文本或映射数据类型。</li>
</ul>
<p>描述：</p>
<ul>
<li>如果指定的keyspace_name不存在，则会引发错误。 </li>
<li>如果用户（使用的角色）对此指定的键空间没有ALTER权限，对所有键空间也没有ALTER权限时，将引发错误。 </li>
<li>语法中支持BCQL键空间属性，但在内部不起作用（使用AiSQL 默认值）</li>
</ul>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1"></a>cqlsh&gt; ALTER KEYSPACE example;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1"></a>cqlsh&gt; ALTER KEYSPACE example WITH REPLICATION = {&#39;class&#39;: &#39;SimpleStrategy&#39;, &#39;replication_factor&#39;: &#39;3&#39;} AND DURABLE_WRITES = true;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1"></a>cqlsh&gt; ALTER SCHEMA keyspace_example;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1"></a>SQL error: Keyspace Not Found.
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2"></a>ALTER SCHEMA keyspace_example;
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3"></a>             ^^^^^^
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1"></a>cqlsh&gt; ALTER KEYSPACE example;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1"></a>SQL error: Unauthorized. User test_role has no ALTER permission on &lt;keyspace example&gt; or any of its parents.
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2"></a>ALTER KEYSPACE example;
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3"></a>^^^^^^
</span></code></pre></div></td></tr></table></div>
<h2 id="alter-role"><strong>ALTER ROLE</strong><a class="headerlink" href="#alter-role" title="Permanent link">&para;</a></h2>
<p>使用ALTER ROLE语句可以更改现有角色的属性。它允许修改属性SUPERUSER、PASSWORD和LOGIN。 
通过将dbServer标志--use_cassandra_authentication设置为true，可以启用此语句。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span>
<span class="normal"><a href="#__codelineno-7-3">3</a></span>
<span class="normal"><a href="#__codelineno-7-4">4</a></span>
<span class="normal"><a href="#__codelineno-7-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1"></a>alter_table ::= ALTER ROLE role_name WITH role_property [ AND role_property ...];
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2"></a>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3"></a>role_property ::=  PASSWORD = &#39;&lt;Text Literal&gt;&#39;
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4"></a>                 | LOGIN = &lt;Boolean Literal&gt;&#39;
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5"></a>                 | SUPERUSER = &#39;&lt;Boolean Literal&gt;&#39;
</span></code></pre></div></td></tr></table></div>
<ul>
<li>role_name是一个文本</li>
</ul>
<p>描述：</p>
<ul>
<li>如果role_name不存在，则会引发错误。</li>
</ul>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1"></a>cqlsh:example&gt; CREATE ROLE finance;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1"></a>cqlsh:example&gt; ALTER ROLE finance with LOGIN = true;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1"></a>cqlsh:example&gt; ALTER ROLE finance with SUPERUSER = true;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1"></a>cqlsh:example&gt; ALTER ROLE finance with PASSWORD = &#39;jsfp9ajhufans2&#39; AND SUPERUSER = false;
</span></code></pre></div></td></tr></table></div>
<h2 id="alter-table"><strong>ALTER TABLE</strong><a class="headerlink" href="#alter-table" title="Permanent link">&para;</a></h2>
<p>使用ALTER TABLE语句可以更改现有表的架构或定义。它允许添加、删除或重命名列以及更新表属性。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-12-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-12-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-12-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-12-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-12-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-12-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-12-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-12-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-12-10">10</a></span>
<span class="normal"><a href="#__codelineno-12-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1"></a>alter_table ::= ALTER TABLE table_name alter_operator [ alter_operator ...]
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2"></a>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3"></a>alter_operator ::= add_op | drop_op | rename_op | property_op
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4"></a>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5"></a>add_op ::= ADD column_name column_type [ &#39;,&#39; column_name column_type ...]
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6"></a>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7"></a>drop_op ::= DROP column_name [ &#39;,&#39; column_name ...]
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8"></a>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9"></a>rename_op ::= RENAME column_name TO column_name [ &#39;,&#39; column_name TO column_name ...]
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10"></a>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11"></a>property_op ::= WITH property_name &#39;=&#39; property_literal [ AND property_name &#39;=&#39; property_literal ...]
</span></code></pre></div></td></tr></table></div>
<ul>
<li>table_name、column_name和property_name是标识符（table_name可以用键空间名称限定）。 </li>
<li>property_tliteral是布尔、文本或映射数据类型。</li>
</ul>
<p>描述：</p>
<ul>
<li>如果关联的键空间中不存在table_name，则会引发错误。 </li>
<li>作为PRIMARY KEY一部分的列不能更改。 </li>
<li>添加列时，表中所有现有行的值默认为null。 </li>
<li>删除列后，表中当前为该列存储的所有值都将被丢弃（如果有的话）。</li>
</ul>
<p>示例：
1）增加新列到表中：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span>
<span class="normal"><a href="#__codelineno-13-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1"></a>cqlsh:example&gt; CREATE TABLE employees (id INT, name TEXT, salary FLOAT, PRIMARY KEY((id), name));
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2"></a>cqlsh:example&gt; ALTER TABLE employees ADD title TEXT;
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3"></a>cqlsh:example&gt; DESCRIBE TABLE employees;
</span></code></pre></div></td></tr></table></div>
<p>显示信息如下：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span>
<span class="normal"><a href="#__codelineno-14-2">2</a></span>
<span class="normal"><a href="#__codelineno-14-3">3</a></span>
<span class="normal"><a href="#__codelineno-14-4">4</a></span>
<span class="normal"><a href="#__codelineno-14-5">5</a></span>
<span class="normal"><a href="#__codelineno-14-6">6</a></span>
<span class="normal"><a href="#__codelineno-14-7">7</a></span>
<span class="normal"><a href="#__codelineno-14-8">8</a></span>
<span class="normal"><a href="#__codelineno-14-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1"></a>CREATE TABLE cycling.employees (
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2"></a>    id int,
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3"></a>    name text,
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4"></a>    salary float,
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5"></a>    title text,
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6"></a>    PRIMARY KEY (id, name)
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7"></a>) WITH CLUSTERING ORDER BY (name ASC)
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8"></a>    AND default_time_to_live = 0
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9"></a>    AND transactions = {&#39;enabled&#39;: &#39;false&#39;};
</span></code></pre></div></td></tr></table></div>
<p>2）从表中删除一列</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1"></a>cqlsh:example&gt; ALTER TABLE employees DROP salary;
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2"></a>cqlsh:example&gt; DESCRIBE TABLE employees;
</span></code></pre></div></td></tr></table></div>
<p>显示信息如下：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span>
<span class="normal"><a href="#__codelineno-16-3">3</a></span>
<span class="normal"><a href="#__codelineno-16-4">4</a></span>
<span class="normal"><a href="#__codelineno-16-5">5</a></span>
<span class="normal"><a href="#__codelineno-16-6">6</a></span>
<span class="normal"><a href="#__codelineno-16-7">7</a></span>
<span class="normal"><a href="#__codelineno-16-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1"></a>CREATE TABLE cycling.employees (
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2"></a>    id int,
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3"></a>    name text,
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4"></a>    title text,
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5"></a>    PRIMARY KEY (id, name)
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6"></a>) WITH CLUSTERING ORDER BY (name ASC)
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7"></a>    AND default_time_to_live = 0
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8"></a>    AND transactions = {&#39;enabled&#39;: &#39;false&#39;};
</span></code></pre></div></td></tr></table></div>
<p>3）修改表中的列名</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span>
<span class="normal"><a href="#__codelineno-17-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1"></a>cqlsh:example&gt; ALTER TABLE employees RENAME title TO job_title;
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2"></a>cqlsh:example&gt; DESCRIBE TABLE employees;
</span></code></pre></div></td></tr></table></div>
<p>显示信息如下：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span>
<span class="normal"><a href="#__codelineno-18-2">2</a></span>
<span class="normal"><a href="#__codelineno-18-3">3</a></span>
<span class="normal"><a href="#__codelineno-18-4">4</a></span>
<span class="normal"><a href="#__codelineno-18-5">5</a></span>
<span class="normal"><a href="#__codelineno-18-6">6</a></span>
<span class="normal"><a href="#__codelineno-18-7">7</a></span>
<span class="normal"><a href="#__codelineno-18-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1"></a>CREATE TABLE cycling.employees (
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2"></a>    id int,
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3"></a>    name text,
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4"></a>    job_title text,
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5"></a>    PRIMARY KEY (id, name)
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6"></a>) WITH CLUSTERING ORDER BY (name ASC)
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7"></a>    AND default_time_to_live = 0
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8"></a>    AND transactions = {&#39;enabled&#39;: &#39;false&#39;};
</span></code></pre></div></td></tr></table></div>
<p>4）修改表属性</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span>
<span class="normal"><a href="#__codelineno-19-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1"></a>cqlsh:example&gt; ALTER TABLE employees WITH default_time_to_live = 5;
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2"></a>cqlsh:example&gt; DESCRIBE TABLE employees;
</span></code></pre></div></td></tr></table></div>
<p>显示信息如下：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span>
<span class="normal"><a href="#__codelineno-20-2">2</a></span>
<span class="normal"><a href="#__codelineno-20-3">3</a></span>
<span class="normal"><a href="#__codelineno-20-4">4</a></span>
<span class="normal"><a href="#__codelineno-20-5">5</a></span>
<span class="normal"><a href="#__codelineno-20-6">6</a></span>
<span class="normal"><a href="#__codelineno-20-7">7</a></span>
<span class="normal"><a href="#__codelineno-20-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1"></a>CREATE TABLE cycling.employees (
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2"></a>    id int,
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3"></a>    name text,
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4"></a>    job_title text,
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5"></a>    PRIMARY KEY (id, name)
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6"></a>) WITH CLUSTERING ORDER BY (name ASC)
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7"></a>    AND default_time_to_live = 5
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8"></a>    AND transactions = {&#39;enabled&#39;: &#39;false&#39;};
</span></code></pre></div></td></tr></table></div>
<h2 id="create-index"><strong>CREATE INDEX</strong><a class="headerlink" href="#create-index" title="Permanent link">&para;</a></h2>
<p>使用CREATE INDEX语句可以对表创建新索引。它定义了索引名称、索引列以及要包含的其他列。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-21-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-21-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-21-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-21-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-21-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-21-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-21-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-21-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-21-10">10</a></span>
<span class="normal"><a href="#__codelineno-21-11">11</a></span>
<span class="normal"><a href="#__codelineno-21-12">12</a></span>
<span class="normal"><a href="#__codelineno-21-13">13</a></span>
<span class="normal"><a href="#__codelineno-21-14">14</a></span>
<span class="normal"><a href="#__codelineno-21-15">15</a></span>
<span class="normal"><a href="#__codelineno-21-16">16</a></span>
<span class="normal"><a href="#__codelineno-21-17">17</a></span>
<span class="normal"><a href="#__codelineno-21-18">18</a></span>
<span class="normal"><a href="#__codelineno-21-19">19</a></span>
<span class="normal"><a href="#__codelineno-21-20">20</a></span>
<span class="normal"><a href="#__codelineno-21-21">21</a></span>
<span class="normal"><a href="#__codelineno-21-22">22</a></span>
<span class="normal"><a href="#__codelineno-21-23">23</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1"></a>create_index ::= CREATE [ UNIQUE ] [ DEFERRED ] INDEX
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2"></a>                 [ IF NOT EXISTS ] index_name ON  table_name (
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3"></a>                 partition_key_columns , [ clustering_key_columns ] )
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4"></a>                 [ covering_columns ] [ index_properties ]
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5"></a>                 [ WHERE index_predicate ]
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6"></a>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7"></a>partition_key_columns ::= index_column | ( index_column [ , ... ] )
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8"></a>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9"></a>clustering_key_columns ::= index_column [ , ... ]
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10"></a>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11"></a>index_properties ::= WITH
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12"></a>                     { property_name = property_literal
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13"></a>                       | CLUSTERING ORDER BY (
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14"></a>                         { index_column [ ASC | DESC ] } [ , ... ] ) }
</span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15"></a>                     [ AND ... ]
</span><span id="__span-21-16"><a id="__codelineno-21-16" name="__codelineno-21-16"></a>
</span><span id="__span-21-17"><a id="__codelineno-21-17" name="__codelineno-21-17"></a>index_column ::= column_name | jsonb_attribute
</span><span id="__span-21-18"><a id="__codelineno-21-18" name="__codelineno-21-18"></a>
</span><span id="__span-21-19"><a id="__codelineno-21-19" name="__codelineno-21-19"></a>jsonb_attribute ::= column_name [ -&gt; &#39;attribute_name&#39; [ ... ] ] -&gt;&gt; &#39;attribute_name&#39;
</span><span id="__span-21-20"><a id="__codelineno-21-20" name="__codelineno-21-20"></a>
</span><span id="__span-21-21"><a id="__codelineno-21-21" name="__codelineno-21-21"></a>covering_columns ::= { COVERING | INCLUDE } ( column_name [ , ... ] )
</span><span id="__span-21-22"><a id="__codelineno-21-22" name="__codelineno-21-22"></a>
</span><span id="__span-21-23"><a id="__codelineno-21-23" name="__codelineno-21-23"></a>index_predicate ::= where_expression
</span></code></pre></div></td></tr></table></div>
<ul>
<li>index_name、table_name、property_name和column_name是标识符。 </li>
<li>table_name可以用键空间名称限定。 </li>
<li>index_name不能用键空间名称限定，因为必须在表的键空间中创建索引。 </li>
<li>property_tliteral是布尔型、文本型或映射数据类型。 </li>
<li>index_column可以是除MAP、SET、LIST、JSONB、USER_DEFINED_TYPE之外的任何数据类型。</li>
</ul>
<p>描述：</p>
<ul>
<li>
<p>如果在要索引的表上没有使用WITH transactions=｛'enabled':true｝子句启用事务，则会引发错误。这是因为辅助索引在内部使用分布式事务来确保在对辅助索引和相关主键的更新中提供ACID保证。</p>
</li>
<li>
<p>如果index_name已存在于关联的键空间中，则会引发错误，除非使用了IF NOT EXISTS选项。</p>
</li>
</ul>
<p>1）强一致性
注意： 
只有当您的问题没有其他解决方案时，才选择用户强制的一致性。用户强制的一致性需要大量的用户努力来保持索引和表的同步。</p>
<p>索引要求在表上启用事务。对于在不启用事务的情况下创建表的情况，consistency_level必须设置为user_enforced，例如</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span>
<span class="normal"><a href="#__codelineno-22-2">2</a></span>
<span class="normal"><a href="#__codelineno-22-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1"></a>CREATE TABLE orders (id int PRIMARY KEY, warehouse int);
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2"></a>CREATE INDEX ON orders (warehouse)
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3"></a>      WITH transactions = { &#39;enabled&#39; : false, &#39;consistency_level&#39; : &#39;user_enforced&#39; };
</span></code></pre></div></td></tr></table></div>
<p>注意：
同步表和索引 
在使用未启用事务的索引时，应用程序有责任重试任何插入/更新/删除失败，以确保表和索引同步。 
此外，如果索引是在数据添加到表后创建的，则根据disable_index_backfill_for_non_txn_tables标志的设置，索引可能不会自动回填。如果设置为true，则用户有责任使用bm-admin backfill_indexes_for_table命令触发回填，该命令将在大约一分钟的小延迟后触发回填。此延迟由index_backfill_upperbound_for_user_enforced_txn_duration_ms标志控制。</p>
<p>2）分区键
分区键是必需的，它定义了将索引拆分为多个分区。</p>
<p>3）聚集键</p>
<ul>
<li>聚集键是可选的，它定义了分区内索引行的顺序。</li>
<li>默认排序为升序（ASC），但可以使用CLUSTERING ORDER BY属性将每个集群列设置为升序或降序。 </li>
<li>在index_columns中未显式索引的表的任何主键列都将作为集群列隐式添加到索引中。这是必要的，以便对表的整个主键进行索引。</li>
</ul>
<p>4）index_properties</p>
<ul>
<li>CLUSTERING ORDER BY属性可用于单独设置每个集群列的顺序（默认为ASC）。</li>
<li>tiles=<num>属性指定要用于指定BCQL索引的分片数量。设置此属性将覆盖--bm_num_shards_per_tserver选项中的值。</li>
<li>使用AND运算符可以使用多个索引属性。</li>
<li>使用default_time_to_live在索引上设置TTL时，请确保TTL值与表的TTL值相同。如果它们不同，则会导致索引和表不同步，并导致意外行为。</li>
</ul>
<p>5）包含列</p>
<ul>
<li>包含列是可选的表列，其值除了存储在表中之外，还会复制到索引中。当索引中包含其他列时，它们可以用于直接响应索引中的查询，而不必查询表。</li>
<li>以下内容无法添加到索引的包含列中：表的静态列、表达式以及具有以下类型的表列：frozen、map、set、list、tuple、jsonb和用户自定义。</li>
</ul>
<p>6）唯一索引</p>
<ul>
<li>唯一索引不允许在索引列中插入重复的值。它可用于确保索引列值的唯一性。</li>
</ul>
<p>7）延迟索引
目前，每个创建的索引都会启动一个“索引回填”作业。对于创建表并添加多个索引的情况，需要多次扫描主表以填充每个索引。这是不必要的，也可能导致单点触摸和多点触摸块缓存算法的问题。
在创建了一组延迟回填的索引后，可以通过以下方式之一触发整批索引（在同一表上）的回填作业：</p>
<p>创建一个不延迟的新索引：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1">1</a></span>
<span class="normal"><a href="#__codelineno-23-2">2</a></span>
<span class="normal"><a href="#__codelineno-23-3">3</a></span>
<span class="normal"><a href="#__codelineno-23-4">4</a></span>
<span class="normal"><a href="#__codelineno-23-5">5</a></span>
<span class="normal"><a href="#__codelineno-23-6">6</a></span>
<span class="normal"><a href="#__codelineno-23-7">7</a></span>
<span class="normal"><a href="#__codelineno-23-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1"></a>CREATE DEFERRED INDEX idx_1 on table_name(col_1);        // No backfill launched.
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2"></a>CREATE DEFERRED INDEX idx_2 on table_name(col_2);        // No backfill launched.
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3"></a>CREATE DEFERRED INDEX idx_9 on table_name(col_9);        // No backfill launched.
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4"></a>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5"></a>// To launch backfill ...
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6"></a>CREATE INDEX idx_10 on table_name(col_10);   // Will launch backfill for idx_10 and
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7"></a>                                                    // all deferred indexes idx_1 .. idx_9
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8"></a>                                                    // on the same table viz: table_name.
</span></code></pre></div></td></tr></table></div>
<p>使用bm-admin为表上的延迟索引启动回填。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1"></a>./bm-admin -master_addresses &lt;ip:port&gt;  backfill_indexes_for_table cql.cycling table_name
</span></code></pre></div></td></tr></table></div>
<p>使用Mserver的--defer_index_backfill 标志强制所有索引为DEFERRED，并运行bm-admin backfill_indexes_for_table来回填索引</p>
<p>8）部分索引</p>
<ul>
<li>如果指定了WHERE子句，则仅对满足index_predicate的行进行索引。</li>
<li>index_predicate可以在以下数据类型的列上具有子表达式：TINYINT、SMALLINT、INT/INTEGER、BIGINT、VARINT、BOOLEAN和TEXT以及以下运算符（如适用）：=、！=、&gt;、&lt;、&gt;=、&lt;=。</li>
<li>部分索引可以是唯一的。UNIQUE部分索引强制执行约束，即对于每个可能的索引列元组，表中只允许有一行满足index_predicate。</li>
<li>如果SELECT语句的where _expression=&gt;（逻辑上意味着）index_predicate，则SELECT查询可以使用部分索引进行扫描。</li>
</ul>
<p>注意：</p>
<ul>
<li>
<p>如果有更好的查询计划，也可能不会选择部分索引。</p>
</li>
<li>
<p>如果index_predicate的所有子表达式在where_expression中存在，则逻辑含义成立。例如，假设where_expression=A AND B AND C，index_predicate_1=A  AND  B，index_predicate_2=A AND  B AND D，index_predicate_3=A AND B AND  C AND D。那么其中where_expression仅表示index_prediate_1。</p>
</li>
<li>
<p>目前，在检查逻辑含义时，没有考虑有效的数学含义。例如，即使where_expression=x&gt;5和index_predicate =x&gt;4，SELECT查询也不会使用索引进行扫描。这是因为两个子表达式x&gt;5和x&gt;4不同。</p>
</li>
<li>
<p>当使用预编译的语句时，逻辑检查（决定部分索引是否可用）将只考虑where _expression中没有绑定变量的子表达式。这是因为查询计划是在执行之前（即预编译）决定的。</p>
</li>
</ul>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-25-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-25-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-25-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-25-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-25-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-25-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-25-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-25-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-25-10">10</a></span>
<span class="normal"><a href="#__codelineno-25-11">11</a></span>
<span class="normal"><a href="#__codelineno-25-12">12</a></span>
<span class="normal"><a href="#__codelineno-25-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1"></a>CREATE TABLE orders (customer_id INT,
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2"></a>                                    order_date TIMESTAMP,
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3"></a>                                    product JSONB,
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4"></a>                                    warehouse_id INT,
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5"></a>                                    amount DOUBLE,
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6"></a>                                    PRIMARY KEY ((customer_id), order_date))
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7"></a>                WITH transactions = { &#39;enabled&#39; : true };
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8"></a>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9"></a>CREATE INDEX idx ON orders (warehouse_id)
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10"></a>                WHERE warehouse_id &lt; 100;
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11"></a>
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12"></a>EXPLAIN SELECT product FROM orders
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13"></a>                WHERE warehouse_id &lt; 100 AND order_date &gt;= ?; // Idx can be used
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span>
<span class="normal"><a href="#__codelineno-26-2">2</a></span>
<span class="normal"><a href="#__codelineno-26-3">3</a></span>
<span class="normal"><a href="#__codelineno-26-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1"></a> QUERY PLAN
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2"></a>------------------------------------------
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3"></a> Index Scan using temp.idx on temp.orders
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4"></a>   Filter: (order_date &gt;= :order_date)
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1"></a>EXPLAIN SELECT product FROM orders
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2"></a>                WHERE warehouse_id &lt; ? and order_date &gt;= ?; // Idx cannot be used
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span>
<span class="normal"><a href="#__codelineno-28-2">2</a></span>
<span class="normal"><a href="#__codelineno-28-3">3</a></span>
<span class="normal"><a href="#__codelineno-28-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1"></a> QUERY PLAN
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2"></a>--------------------------------------------------------------------------
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3"></a> Seq Scan on temp.orders
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4"></a>   Filter: (warehouse_id &lt; :warehouse_id) AND (order_date &gt;= :order_date)
</span></code></pre></div></td></tr></table></div>
<ul>
<li>如果没有部分索引，我们不允许在SELECT的where表达式中的同一列上同时使用多个运算符组合，例如：where v1！=NULL and v1＝5。但，若有一个部分索引包含SELECT的where表达式的某些子句，则可能支持两个或多个不支持在一起的运算符。</li>
</ul>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1">1</a></span>
<span class="normal"><a href="#__codelineno-29-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1"></a>EXPLAIN SELECT product FROM orders
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2"></a>                WHERE warehouse_id != NULL AND warehouse_id = ?;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1">1</a></span>
<span class="normal"><a href="#__codelineno-30-2">2</a></span>
<span class="normal"><a href="#__codelineno-30-3">3</a></span>
<span class="normal"><a href="#__codelineno-30-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1"></a>SyntaxException: Invalid CQL Statement. Illogical condition for where clause
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2"></a>EXPLAIN SELECT product from orders where warehouse_id != NULL and warehouse_id = ?;
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3"></a>                                                                  ^^^^^^^^^^^^
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4"></a> (ql error -12)
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span>
<span class="normal"><a href="#__codelineno-31-2">2</a></span>
<span class="normal"><a href="#__codelineno-31-3">3</a></span>
<span class="normal"><a href="#__codelineno-31-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1"></a>CREATE INDEX warehouse_idx ON orders (warehouse_id)
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2"></a>                WHERE warehouse_id != NULL;
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3"></a>EXPLAIN SELECT product FROM orders
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4"></a>                WHERE warehouse_id != NULL AND warehouse_id = ?; // warehouse_idx can be used
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span>
<span class="normal"><a href="#__codelineno-32-2">2</a></span>
<span class="normal"><a href="#__codelineno-32-3">3</a></span>
<span class="normal"><a href="#__codelineno-32-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1"></a> QUERY PLAN
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2"></a>----------------------------------------------------
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3"></a> Index Scan using temp.warehouse_idx on temp.orders
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4"></a>   Key Conditions: (warehouse_id = :warehouse_id)
</span></code></pre></div></td></tr></table></div>
<p>实例：
1）创建要索引的表
'customer_id' 是分区列， 'order_date' 是分簇列。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1">1</a></span>
<span class="normal"><a href="#__codelineno-33-2">2</a></span>
<span class="normal"><a href="#__codelineno-33-3">3</a></span>
<span class="normal"><a href="#__codelineno-33-4">4</a></span>
<span class="normal"><a href="#__codelineno-33-5">5</a></span>
<span class="normal"><a href="#__codelineno-33-6">6</a></span>
<span class="normal"><a href="#__codelineno-33-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1"></a>CREATE TABLE orders (customer_id INT,
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2"></a>                                    order_date TIMESTAMP,
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3"></a>                                    product JSONB,
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4"></a>                                    warehouse_id INT,
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5"></a>                                    amount DOUBLE,
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6"></a>                                    PRIMARY KEY ((customer_id), order_date))
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7"></a>                WITH transactions = { &#39;enabled&#39; : true };
</span></code></pre></div></td></tr></table></div>
<p>2）创建基于order_date列上查询的索引</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1"></a>CREATE INDEX orders_by_date ON orders (order_date) INCLUDE (amount);
</span></code></pre></div></td></tr></table></div>
<p>3）创建基于JSONB 属性的product-&gt;&gt;'name'查询的索引</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1"></a>CREATE INDEX product_name ON orders (product-&gt;&gt;&#39;name&#39;) INCLUDE (amount);
</span></code></pre></div></td></tr></table></div>
<p>4）创建基于warehouse_id列上查询的索引</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1"></a>CREATE INDEX orders_by_warehouse ON orders (warehouse_id, order_date) INCLUDE (amount);
</span></code></pre></div></td></tr></table></div>
<p>5）导入数据</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1">1</a></span>
<span class="normal"><a href="#__codelineno-37-2">2</a></span>
<span class="normal"><a href="#__codelineno-37-3">3</a></span>
<span class="normal"><a href="#__codelineno-37-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1"></a>INSERT INTO orders (customer_id, order_date, product, warehouse_id, amount) VALUES (1001, &#39;2018-01-10&#39;, &#39;{ &quot;name&quot;:&quot;desk&quot; }&#39;, 107, 100.30);
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2"></a>INSERT INTO orders (customer_id, order_date, product, warehouse_id, amount) VALUES (1002, &#39;2018-01-11&#39;, &#39;{ &quot;name&quot;:&quot;chair&quot; }&#39;, 102, 50.45);
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3"></a>INSERT INTO orders (customer_id, order_date, product, warehouse_id, amount) VALUES (1001, &#39;2018-04-09&#39;, &#39;{ &quot;name&quot;:&quot;pen&quot; }&#39;, 102, 20.25);
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4"></a>INSERT INTO orders (customer_id, order_date, product, warehouse_id, amount) VALUES (1003, &#39;2018-04-09&#39;, &#39;{ &quot;name&quot;:&quot;pencil&quot; }&#39;, 108, 200.80);
</span></code></pre></div></td></tr></table></div>
<p>6）通过分区键customer_id查询</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1"></a>SELECT SUM(amount) FROM orders WHERE customer_id = 1001 AND order_date &gt;= &#39;2018-01-01&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1">1</a></span>
<span class="normal"><a href="#__codelineno-39-2">2</a></span>
<span class="normal"><a href="#__codelineno-39-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1"></a>  sum(amount)
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2"></a>----------------
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3"></a>      120.55
</span></code></pre></div></td></tr></table></div>
<p>7）按索引orders_by_date中的分区列order_date查询</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-40-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1"></a>SELECT SUM(amount) FROM orders WHERE order_date = &#39;2018-04-09&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-41-1">1</a></span>
<span class="normal"><a href="#__codelineno-41-2">2</a></span>
<span class="normal"><a href="#__codelineno-41-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1"></a> sum(amount)
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2"></a>-------------
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3"></a>      221.05
</span></code></pre></div></td></tr></table></div>
<p>8）按product_name索引中的分区列product-&gt;&gt;'name'进行查询</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-42-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1"></a> SELECT SUM(amount) FROM orders WHERE product-&gt;&gt;&#39;name&#39; = &#39;desk&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-43-1">1</a></span>
<span class="normal"><a href="#__codelineno-43-2">2</a></span>
<span class="normal"><a href="#__codelineno-43-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1"></a> sum(amount)
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2"></a>-------------
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3"></a>      100.30
</span></code></pre></div></td></tr></table></div>
<p>9）按orders_by_warehouse索引中的分区列warehouse_id进行查询</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-44-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1"></a> SELECT SUM(amount) FROM orders WHERE warehouse_id = 102 AND order_date &gt;= &#39;2018-01-01&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-45-1">1</a></span>
<span class="normal"><a href="#__codelineno-45-2">2</a></span>
<span class="normal"><a href="#__codelineno-45-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1"></a> sum(amount)
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2"></a>-------------
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3"></a>        70.7
</span></code></pre></div></td></tr></table></div>
<p>10）创建带有唯一索引的表</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-46-1">1</a></span>
<span class="normal"><a href="#__codelineno-46-2">2</a></span>
<span class="normal"><a href="#__codelineno-46-3">3</a></span>
<span class="normal"><a href="#__codelineno-46-4">4</a></span>
<span class="normal"><a href="#__codelineno-46-5">5</a></span>
<span class="normal"><a href="#__codelineno-46-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1"></a>CREATE TABLE emp (enum INT primary key,
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2"></a>                                 lastname VARCHAR,
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3"></a>                                 firstname VARCHAR,
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4"></a>                                 userid VARCHAR)
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5"></a>               WITH transactions = { &#39;enabled&#39; : true };
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6"></a>CREATE UNIQUE INDEX emp_by_userid ON emp (userid);
</span></code></pre></div></td></tr></table></div>
<p>11）插入数据</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-47-1">1</a></span>
<span class="normal"><a href="#__codelineno-47-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1"></a>INSERT INTO emp (enum, lastname, firstname, userid) VALUES (1001, &#39;Smith&#39;, &#39;John&#39;, &#39;jsmith&#39;);
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2"></a>INSERT INTO emp (enum, lastname, firstname, userid) VALUES (1002, &#39;Smith&#39;, &#39;Jason&#39;, &#39;jsmith&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-48-1">1</a></span>
<span class="normal"><a href="#__codelineno-48-2">2</a></span>
<span class="normal"><a href="#__codelineno-48-3">3</a></span>
<span class="normal"><a href="#__codelineno-48-4">4</a></span>
<span class="normal"><a href="#__codelineno-48-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1"></a>InvalidRequest: Error from server: code=2200 [Invalid query] message=&quot;SQL error: Execution Error. Duplicate value disallowed by unique index emp_by_userid
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2"></a>INSERT INTO emp (enum, lastname, firstname, userid)
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3"></a>       ^^^^
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4"></a>VALUES (1002, &#39;Smith&#39;, &#39;Jason&#39;, &#39;jsmith&#39;);
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5"></a> (error -300)&quot;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-49-1">1</a></span>
<span class="normal"><a href="#__codelineno-49-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1"></a>INSERT INTO emp (enum, lastname, firstname, userid) VALUES (1002, &#39;Smith&#39;, &#39;Jason&#39;, &#39;jasmith&#39;);
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2"></a>SELECT * FROM emp;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-50-1">1</a></span>
<span class="normal"><a href="#__codelineno-50-2">2</a></span>
<span class="normal"><a href="#__codelineno-50-3">3</a></span>
<span class="normal"><a href="#__codelineno-50-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1"></a> enum | lastname | firstname | userid
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2"></a>------+----------+-----------+---------
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3"></a> 1002 |    Smith |     Jason | jasmith
</span><span id="__span-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4"></a> 1001 |    Smith |      John |  jsmith
</span></code></pre></div></td></tr></table></div>
<p>12）创建指定分片的索引</p>
<p>您可以将CREATE INDEX语句与with tiles=<num>子句一起使用，以指定索引的分片数。这对于根据需求放大或缩小索引非常有用。例如，对于较小或部分索引，拥有大量碎片（分片）可能是浪费。在这种情况下，您可以使用它来减少为索引创建的分片的数量。同样，对于非常大的索引，可以使用此语句将索引预拆分为大量碎片，以提高性能。</p>
<p>请注意，AiSQL 默认情况下会预拆分bm_num_shards_per_tserver*num_of_tserver碎片中的索引。此子句可用于在每个索引的基础上覆盖该设置。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-51-1">1</a></span>
<span class="normal"><a href="#__codelineno-51-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1"></a>CREATE TABLE tracking (id int PRIMARY KEY, a TEXT) WITH transactions = { &#39;enabled&#39; : true };
</span><span id="__span-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2"></a>CREATE INDEX my_indx ON tracking(a) WITH tiles = 10;
</span></code></pre></div></td></tr></table></div>
<h2 id="create-keyspace"><strong>CREATE KEYSPACE</strong><a class="headerlink" href="#create-keyspace" title="Permanent link">&para;</a></h2>
<p>使用CREATE KEYSPACE语句创建一个keyspace ，用作数据库对象（如表或类型）的分组机制。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-52-1">1</a></span>
<span class="normal"><a href="#__codelineno-52-2">2</a></span>
<span class="normal"><a href="#__codelineno-52-3">3</a></span>
<span class="normal"><a href="#__codelineno-52-4">4</a></span>
<span class="normal"><a href="#__codelineno-52-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1"></a>create_keyspace ::= CREATE { KEYSPACE | SCHEMA } [ IF NOT EXISTS ] keyspace_name
</span><span id="__span-52-2"><a id="__codelineno-52-2" name="__codelineno-52-2"></a>                       [ WITH REPLICATION &#39;=&#39; &#39;{&#39; keyspace_property &#39;}&#39;]
</span><span id="__span-52-3"><a id="__codelineno-52-3" name="__codelineno-52-3"></a>                       [ AND DURABLE_WRITES &#39;=&#39; { true | false } ]
</span><span id="__span-52-4"><a id="__codelineno-52-4" name="__codelineno-52-4"></a>
</span><span id="__span-52-5"><a id="__codelineno-52-5" name="__codelineno-52-5"></a>keyspace_property ::= property_name = property_value
</span></code></pre></div></td></tr></table></div>
<ul>
<li>keyspace_name和property_name是标识符。</li>
<li>property_value是布尔、文本或映射数据类型。</li>
</ul>
<p>描述：如果指定的keyspace_name已经存在，则会引发错误，除非使用存在IF NOT EXISTS选项。语法中支持Cassandra的CQL keyspace 属性，但在内部不起作用（使用AiSQL 默认值）。 </p>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-53-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1"></a>cqlsh&gt;CREATE KEYSPACE example;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-54-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1"></a>cqlsh&gt;DESCRIBE KEYSPACES;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-55-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1"></a>example  system_schema  system_auth  system
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-56-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1"></a>cqlsh&gt;DESCRIBE example;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-57-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1"></a>CREATE KEYSPACE example WITH REPLICATION = {&#39;class&#39;: &#39;SimpleStrategy&#39;, &#39;replication_factor&#39;: &#39;3&#39;} AND DURABLE_WRITES = true;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-58-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1"></a>cqlsh&gt;CREATE SCHEMA example;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-59-1">1</a></span>
<span class="normal"><a href="#__codelineno-59-2">2</a></span>
<span class="normal"><a href="#__codelineno-59-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1"></a>SQL error: Keyspace Already Exists
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2"></a>CREATE SCHEMA example;
</span><span id="__span-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3"></a>^^^^^^
</span></code></pre></div></td></tr></table></div>
<h2 id="create-role"><strong>CREATE ROLE</strong><a class="headerlink" href="#create-role" title="Permanent link">&para;</a></h2>
<p>使用CREATE ROLE语句创建一个新角色，该角色用于向BCQL进行身份验证，并作为一组权限用于限制对数据库对象的操作。请注意，用户是启用登录的特定角色。BCQL中没有显式的CREATE USER命令。
通过将dbServer标志--use_cassandra_authentication设置为true，可以启用此语句。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-60-1">1</a></span>
<span class="normal"><a href="#__codelineno-60-2">2</a></span>
<span class="normal"><a href="#__codelineno-60-3">3</a></span>
<span class="normal"><a href="#__codelineno-60-4">4</a></span>
<span class="normal"><a href="#__codelineno-60-5">5</a></span>
<span class="normal"><a href="#__codelineno-60-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1"></a>create_role ::= CREATE ROLE [ IF NOT EXISTS ] role_name 
</span><span id="__span-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2"></a>                [ WITH role_property [ AND ... ] ]
</span><span id="__span-60-3"><a id="__codelineno-60-3" name="__codelineno-60-3"></a>
</span><span id="__span-60-4"><a id="__codelineno-60-4" name="__codelineno-60-4"></a>role_property ::=  PASSWORD = &lt;Text Literal&gt;
</span><span id="__span-60-5"><a id="__codelineno-60-5" name="__codelineno-60-5"></a>                 | LOGIN = &lt;Boolean Literal&gt;
</span><span id="__span-60-6"><a id="__codelineno-60-6" name="__codelineno-60-6"></a>                 | SUPERUSER = &lt;Boolean Literal&gt;
</span></code></pre></div></td></tr></table></div>
<ul>
<li>role_name是一个文本</li>
</ul>
<p>描述：</p>
<ul>
<li>如果角色名称已经存在，则会引发错误，除非使用了IF NOT EXISTS选项。 </li>
<li>默认情况下，角色既不具有LOGIN权限，也不具有SUPERUSER状态。 </li>
<li>状态为SUPERUSER的角色拥有数据库中所有对象的所有权限，即使这些权限没有明确授予。 </li>
<li>只有具有超级用户状态的角色才能创建另一个超级用户角色。 </li>
<li>具有LOGIN权限的角色可以用于对CQL进行身份验证。 </li>
<li>只有对所有角色具有CREATE权限或具有SUPERUSER状态的客户端才能创建另一个角色。</li>
</ul>
<p>示例：
1）创建一个没有属性的简单角色</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-61-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1"></a>CREATE ROLE role1;
</span></code></pre></div></td></tr></table></div>
<p>2）创建一个具有SUPERUSER的角色</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-62-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1"></a>CREATE ROLE role2 WITH SUPERUSER = true;
</span></code></pre></div></td></tr></table></div>
<p>3）创建一个能够登录的常规用户
您可以创建一个具有登录权限的常规用户，如下所示。请注意，SUPERUSER设置为false。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-63-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1"></a>CREATE ROLE role3 WITH SUPERUSER = false AND LOGIN = true AND PASSWORD = &#39;aid8134&#39;;
</span></code></pre></div></td></tr></table></div>
<h2 id="create-table"><strong>CREATE TABLE</strong><a class="headerlink" href="#create-table" title="Permanent link">&para;</a></h2>
<p>使用CREATE TABLE语句在键空间中创建一个新表。它定义了表名、列名和类型、主键和表属性。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-64-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-64-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-64-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-64-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-64-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-64-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-64-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-64-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-64-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-64-10">10</a></span>
<span class="normal"><a href="#__codelineno-64-11">11</a></span>
<span class="normal"><a href="#__codelineno-64-12">12</a></span>
<span class="normal"><a href="#__codelineno-64-13">13</a></span>
<span class="normal"><a href="#__codelineno-64-14">14</a></span>
<span class="normal"><a href="#__codelineno-64-15">15</a></span>
<span class="normal"><a href="#__codelineno-64-16">16</a></span>
<span class="normal"><a href="#__codelineno-64-17">17</a></span>
<span class="normal"><a href="#__codelineno-64-18">18</a></span>
<span class="normal"><a href="#__codelineno-64-19">19</a></span>
<span class="normal"><a href="#__codelineno-64-20">20</a></span>
<span class="normal"><a href="#__codelineno-64-21">21</a></span>
<span class="normal"><a href="#__codelineno-64-22">22</a></span>
<span class="normal"><a href="#__codelineno-64-23">23</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1"></a>create_table ::= CREATE TABLE [ IF NOT EXISTS ] table_name
</span><span id="__span-64-2"><a id="__codelineno-64-2" name="__codelineno-64-2"></a>                     &#39;(&#39; table_element [ &#39;,&#39; table_element ...] &#39;)&#39;
</span><span id="__span-64-3"><a id="__codelineno-64-3" name="__codelineno-64-3"></a>                     [WITH table_properties];
</span><span id="__span-64-4"><a id="__codelineno-64-4" name="__codelineno-64-4"></a>
</span><span id="__span-64-5"><a id="__codelineno-64-5" name="__codelineno-64-5"></a>table_element ::= table_column | table_constraints
</span><span id="__span-64-6"><a id="__codelineno-64-6" name="__codelineno-64-6"></a>
</span><span id="__span-64-7"><a id="__codelineno-64-7" name="__codelineno-64-7"></a>table_column ::= column_name column_type [ column_constraint ...]
</span><span id="__span-64-8"><a id="__codelineno-64-8" name="__codelineno-64-8"></a>
</span><span id="__span-64-9"><a id="__codelineno-64-9" name="__codelineno-64-9"></a>column_constraint ::= PRIMARY KEY | STATIC
</span><span id="__span-64-10"><a id="__codelineno-64-10" name="__codelineno-64-10"></a>
</span><span id="__span-64-11"><a id="__codelineno-64-11" name="__codelineno-64-11"></a>table_constraints ::= PRIMARY KEY &#39;(&#39; partition_key_column_list clustering_key_column_list &#39;)&#39;
</span><span id="__span-64-12"><a id="__codelineno-64-12" name="__codelineno-64-12"></a>
</span><span id="__span-64-13"><a id="__codelineno-64-13" name="__codelineno-64-13"></a>partition_key_column_list ::= &#39;(&#39; column_name [ &#39;,&#39; column_name ...] &#39;)&#39; | column_name
</span><span id="__span-64-14"><a id="__codelineno-64-14" name="__codelineno-64-14"></a>
</span><span id="__span-64-15"><a id="__codelineno-64-15" name="__codelineno-64-15"></a>clustering_key_column_list ::= [ &#39;,&#39; column_name ...]
</span><span id="__span-64-16"><a id="__codelineno-64-16" name="__codelineno-64-16"></a>
</span><span id="__span-64-17"><a id="__codelineno-64-17" name="__codelineno-64-17"></a>table_properties = [table_options]
</span><span id="__span-64-18"><a id="__codelineno-64-18" name="__codelineno-64-18"></a>                    [[AND] CLUSTERING ORDER BY &#39;(&#39; column_ordering_property [ &#39;,&#39; column_ordering_property ...] &#39;)&#39;]
</span><span id="__span-64-19"><a id="__codelineno-64-19" name="__codelineno-64-19"></a>                    [[AND] COMPACT STORAGE]
</span><span id="__span-64-20"><a id="__codelineno-64-20" name="__codelineno-64-20"></a>
</span><span id="__span-64-21"><a id="__codelineno-64-21" name="__codelineno-64-21"></a>table_options = property_name &#39;=&#39; property_literal [AND property_name &#39;=&#39; property_literal ...]
</span><span id="__span-64-22"><a id="__codelineno-64-22" name="__codelineno-64-22"></a>
</span><span id="__span-64-23"><a id="__codelineno-64-23" name="__codelineno-64-23"></a>column_ordering_property ::= column_name [ ASC | DESC ]
</span></code></pre></div></td></tr></table></div>
<ul>
<li>table_name、column_name和property_name是标识符（table_name可以用键空间名称限定）。 </li>
<li>property_tliteral是布尔型、文本型或map 数据类型的文本。</li>
</ul>
<p>描述：</p>
<ul>
<li>如果关联的键空间中已经存在table_name，则会引发错误，除非使用了IF NOT EXISTS选项。</li>
</ul>
<p>主键：</p>
<ul>
<li>主键必须在column_constraint或table_constraint中定义，但不能同时在两者中定义。</li>
<li>表中的每一行都由其主键唯一标识。</li>
<li>主键列可以是分区列，也可以是聚类列（如下所述）。</li>
<li>如果主键设置为列约束，则该列是分区列，并且没有聚类列。</li>
<li>如果将主键设置为表约束，则：</li>
<li>分区列由主键列表中的第一个条目给出：嵌套列列表（如果给定），否则为第一列。</li>
<li>聚类列是主键列表中的其余列（如果有）。</li>
<li>类型MAP, SET, LIST, JSONB, USER_DEFINED_TYPE不能在主键中使用。</li>
</ul>
<p>分区键：</p>
<ul>
<li>分区键是必需的，它定义了将行拆分为分区。</li>
<li>共享相同分区键的行构成一个分区，并将位于同一副本节点上。
  聚类键：</li>
<li>聚类键是可选的，用于定义分区中行的顺序。</li>
<li>默认顺序是升序（ASC），但可以使用 table 属性CLUSTERING ORDER BY将每个聚类列设置为升序或降序。</li>
</ul>
<p>静态列：</p>
<ul>
<li>声明为STATIC 的列将对分区中的所有行（即具有相同分区键的行）共享相同的值。</li>
<li>主键中的列不能是静态的。</li>
<li>没有聚类列的表不能有静态列（如果没有聚类列，主键和分区键是相同的，因此静态列将与常规列相同）。</li>
</ul>
<p>table_properties：</p>
<ul>
<li>该CLUSTERING ORDER BY 属性可用于单独设置每个聚类列的排序（默认值为ASC ）。</li>
<li>该default_time_to_live属性设置表的默认过期时间 （TTL），以秒为单位。可以通过为单个行设置 TTL 来覆盖过期时间。默认值为0 ，表示行不会过期。</li>
<li>该transactions 属性指定是否在表中启用分布式事务。若要启用分布式事务，请使用 transactions = { 'enabled' : true }</li>
<li>使用AND运算符可使用多个表属性。</li>
<li>语法中允许使用其他 BCQL 表属性，但目前在内部被忽略（不起作用）。</li>
<li>该tiles= <num>属性指定要用于BCQL表的分片数。设置此属性将覆盖--bm_num_shards_per_tserver选择。</li>
<li>COMPACT STORAGE仅用于与 Cassandra 的语法兼容性。它不会影响底层存储。</li>
</ul>
<p>示例：
1）使用列约束定义主键
“user_id”是分区列，没有聚类列。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-65-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1"></a>CREATE TABLE users(user_id INT PRIMARY KEY, full_name TEXT);
</span></code></pre></div></td></tr></table></div>
<p>2）使用表约束定义主键
“supplier_id”和“device_id”是分区列，“model_year”是聚类列。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-66-1">1</a></span>
<span class="normal"><a href="#__codelineno-66-2">2</a></span>
<span class="normal"><a href="#__codelineno-66-3">3</a></span>
<span class="normal"><a href="#__codelineno-66-4">4</a></span>
<span class="normal"><a href="#__codelineno-66-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1"></a>CREATE TABLE devices(supplier_id INT,
</span><span id="__span-66-2"><a id="__codelineno-66-2" name="__codelineno-66-2"></a>                     device_id INT,
</span><span id="__span-66-3"><a id="__codelineno-66-3" name="__codelineno-66-3"></a>                     model_year INT,
</span><span id="__span-66-4"><a id="__codelineno-66-4" name="__codelineno-66-4"></a>                     device_name TEXT,
</span><span id="__span-66-5"><a id="__codelineno-66-5" name="__codelineno-66-5"></a>                     PRIMARY KEY((supplier_id, device_id), model_year));
</span></code></pre></div></td></tr></table></div>
<p>3）使用列约束定义静态列
您可以按如下方式执行此操作：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-67-1">1</a></span>
<span class="normal"><a href="#__codelineno-67-2">2</a></span>
<span class="normal"><a href="#__codelineno-67-3">3</a></span>
<span class="normal"><a href="#__codelineno-67-4">4</a></span>
<span class="normal"><a href="#__codelineno-67-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1"></a>CREATE TABLE items(supplier_id INT,
</span><span id="__span-67-2"><a id="__codelineno-67-2" name="__codelineno-67-2"></a>                    item_id INT,
</span><span id="__span-67-3"><a id="__codelineno-67-3" name="__codelineno-67-3"></a>                    supplier_name TEXT STATIC,
</span><span id="__span-67-4"><a id="__codelineno-67-4" name="__codelineno-67-4"></a>                    item_name TEXT,
</span><span id="__span-67-5"><a id="__codelineno-67-5" name="__codelineno-67-5"></a>                    PRIMARY KEY((supplier_id), item_id));
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-68-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1"></a>INSERT INTO items(supplier_id, item_id, supplier_name, item_name) VALUES (1, 1, &#39;Unknown&#39;, &#39;Wrought Anvil&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-69-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1"></a>INSERT INTO items(supplier_id, item_id, supplier_name, item_name) VALUES (1, 2, &#39;Acme Corporation&#39;, &#39;Giant Rubber Band&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-70-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1"></a>SELECT * FROM items;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-71-1">1</a></span>
<span class="normal"><a href="#__codelineno-71-2">2</a></span>
<span class="normal"><a href="#__codelineno-71-3">3</a></span>
<span class="normal"><a href="#__codelineno-71-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1"></a> supplier_id | item_id | supplier_name    | item_name
</span><span id="__span-71-2"><a id="__codelineno-71-2" name="__codelineno-71-2"></a>-------------+---------+------------------+-------------------
</span><span id="__span-71-3"><a id="__codelineno-71-3" name="__codelineno-71-3"></a>           1 |       1 | Acme Corporation |     Wrought Anvil
</span><span id="__span-71-4"><a id="__codelineno-71-4" name="__codelineno-71-4"></a>           1 |       2 | Acme Corporation | Giant Rubber Band
</span></code></pre></div></td></tr></table></div>
<p>4）使用 table 属性定义聚类列的顺序（升序或降序）
时间戳列“ts”将按降序存储（最新值在前）。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-72-1">1</a></span>
<span class="normal"><a href="#__codelineno-72-2">2</a></span>
<span class="normal"><a href="#__codelineno-72-3">3</a></span>
<span class="normal"><a href="#__codelineno-72-4">4</a></span>
<span class="normal"><a href="#__codelineno-72-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1"></a>CREATE TABLE user_actions(user_id INT,
</span><span id="__span-72-2"><a id="__codelineno-72-2" name="__codelineno-72-2"></a>                          ts TIMESTAMP,
</span><span id="__span-72-3"><a id="__codelineno-72-3" name="__codelineno-72-3"></a>                          action TEXT,
</span><span id="__span-72-4"><a id="__codelineno-72-4" name="__codelineno-72-4"></a>                          PRIMARY KEY((user_id), ts))
</span><span id="__span-72-5"><a id="__codelineno-72-5" name="__codelineno-72-5"></a>                          WITH CLUSTERING ORDER BY (ts DESC);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-73-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1"></a>INSERT INTO user_actions(user_id, ts, action) VALUES (1, &#39;2000-12-2 12:30:15&#39;, &#39;log in&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-74-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1"></a>INSERT INTO user_actions(user_id, ts, action) VALUES (1, &#39;2000-12-2 12:30:25&#39;, &#39;change password&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-75-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1"></a>INSERT INTO user_actions(user_id, ts, action) VALUES (1, &#39;2000-12-2 12:30:35&#39;, &#39;log out&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-76-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1"></a>SELECT * FROM user_actions;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-77-1">1</a></span>
<span class="normal"><a href="#__codelineno-77-2">2</a></span>
<span class="normal"><a href="#__codelineno-77-3">3</a></span>
<span class="normal"><a href="#__codelineno-77-4">4</a></span>
<span class="normal"><a href="#__codelineno-77-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1"></a> user_id | ts                              | action
</span><span id="__span-77-2"><a id="__codelineno-77-2" name="__codelineno-77-2"></a>---------+---------------------------------+-----------------
</span><span id="__span-77-3"><a id="__codelineno-77-3" name="__codelineno-77-3"></a>       1 | 2000-12-02 19:30:35.000000+0000 |         log out
</span><span id="__span-77-4"><a id="__codelineno-77-4" name="__codelineno-77-4"></a>       1 | 2000-12-02 19:30:25.000000+0000 | change password
</span><span id="__span-77-5"><a id="__codelineno-77-5" name="__codelineno-77-5"></a>       1 | 2000-12-02 19:30:15.000000+0000 |          log in
</span></code></pre></div></td></tr></table></div>
<p>5）使用 table 属性定义行的默认过期时间
您可以按如下方式执行此操作：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-78-1">1</a></span>
<span class="normal"><a href="#__codelineno-78-2">2</a></span>
<span class="normal"><a href="#__codelineno-78-3">3</a></span>
<span class="normal"><a href="#__codelineno-78-4">4</a></span>
<span class="normal"><a href="#__codelineno-78-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-78-1"><a id="__codelineno-78-1" name="__codelineno-78-1"></a>CREATE TABLE sensor_data(sensor_id INT,
</span><span id="__span-78-2"><a id="__codelineno-78-2" name="__codelineno-78-2"></a>                         ts TIMESTAMP,
</span><span id="__span-78-3"><a id="__codelineno-78-3" name="__codelineno-78-3"></a>                         value DOUBLE,
</span><span id="__span-78-4"><a id="__codelineno-78-4" name="__codelineno-78-4"></a>                         PRIMARY KEY((sensor_id), ts))
</span><span id="__span-78-5"><a id="__codelineno-78-5" name="__codelineno-78-5"></a>                         WITH default_time_to_live = 5;
</span></code></pre></div></td></tr></table></div>
<p>在时间 T 处首次插入（行在 T + 5 处过期）。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-79-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-79-1"><a id="__codelineno-79-1" name="__codelineno-79-1"></a>INSERT INTO sensor_data(sensor_id, ts, value) VALUES (1, &#39;2017-10-1 11:22:31&#39;, 3.1);
</span></code></pre></div></td></tr></table></div>
<p>3 秒后第二次插入（行在 T + 8 处过期）。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-80-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-80-1"><a id="__codelineno-80-1" name="__codelineno-80-1"></a>INSERT INTO sensor_data(sensor_id, ts, value) VALUES (2, &#39;2017-10-1 11:22:34&#39;, 3.4);
</span></code></pre></div></td></tr></table></div>
<p>3 秒后（时间 T + 6）首次选择。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-81-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-81-1"><a id="__codelineno-81-1" name="__codelineno-81-1"></a>SELECT * FROM sensor_data;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-82-1">1</a></span>
<span class="normal"><a href="#__codelineno-82-2">2</a></span>
<span class="normal"><a href="#__codelineno-82-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-82-1"><a id="__codelineno-82-1" name="__codelineno-82-1"></a> sensor_id | ts                              | value
</span><span id="__span-82-2"><a id="__codelineno-82-2" name="__codelineno-82-2"></a>-----------+---------------------------------+-------
</span><span id="__span-82-3"><a id="__codelineno-82-3" name="__codelineno-82-3"></a>         2 | 2017-10-01 18:22:34.000000+0000 |   3.4
</span></code></pre></div></td></tr></table></div>
<p>3 秒后（时间 T + 9）第二次选择。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-83-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-83-1"><a id="__codelineno-83-1" name="__codelineno-83-1"></a>SELECT * FROM sensor_data;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-84-1">1</a></span>
<span class="normal"><a href="#__codelineno-84-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-84-1"><a id="__codelineno-84-1" name="__codelineno-84-1"></a> sensor_id | ts | value
</span><span id="__span-84-2"><a id="__codelineno-84-2" name="__codelineno-84-2"></a>-----------+----+-------
</span></code></pre></div></td></tr></table></div>
<p>6）创建一个指定分片数量的表
可以使用带有子句的语句来指定表的分片数。这对于根据要求扩展或缩减表非常有用。例如，对于较小的静态表，拥有大量分片可能会造成浪费。在这种情况下，您可以使用它来减少为表创建的分片数量。同样，对于非常大的表，您可以使用此语句将表预拆分为大量分片，以提高性能。CREATE TABLEWITH tiles= <num></p>
<p>请注意，AiSQL 默认情况下会将表预拆分为分片。此子句可用于基于每个表覆盖该设置。bm_num_shards_per_tserver * num_of_tserver</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-85-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-85-1"><a id="__codelineno-85-1" name="__codelineno-85-1"></a>CREATE TABLE tracking (id int PRIMARY KEY) WITH tiles = 10;
</span></code></pre></div></td></tr></table></div>
<p>如果为这些表创建索引，还可以指定索引的分片数。</p>
<p>还可以使用AND 来添加其他表属性，如本示例所示。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-86-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-86-1"><a id="__codelineno-86-1" name="__codelineno-86-1"></a>CREATE TABLE tracking (id int PRIMARY KEY) WITH tiles = 10 AND transactions = { &#39;enabled&#39; : true };
</span></code></pre></div></td></tr></table></div>
<h2 id="create-type"><strong>CREATE TYPE</strong><a class="headerlink" href="#create-type" title="Permanent link">&para;</a></h2>
<p>使用CREATE TYPE语句在键空间中创建新的用户定义数据类型。它定义用户定义类型的名称及其字段的名称和数据类型。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-87-1">1</a></span>
<span class="normal"><a href="#__codelineno-87-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-87-1"><a id="__codelineno-87-1" name="__codelineno-87-1"></a>create_type ::= CREATE TYPE [ IF NOT EXISTS ] type_name
</span><span id="__span-87-2"><a id="__codelineno-87-2" name="__codelineno-87-2"></a>                    (field_name field_type [ &#39;,&#39; field_name field_type ...]);
</span></code></pre></div></td></tr></table></div>
<ul>
<li>type_name和field_name是标识符（type_name可以用键空间名称限定）。 </li>
<li>field_type是一种数据类型。</li>
</ul>
<p>描述：</p>
<ul>
<li>如果指定的type_name已存在于关联的键空间中，则会引发错误，除非使用了IF NOT EXISTS选项。 </li>
<li>每个field_name都必须是唯一的（一个类型不能有两个同名字段）。 </li>
<li>每个field_type都必须是非参数类型或frozen 类型。</li>
</ul>
<p>示例：</p>
<p>集合类型必须冻结才能在用户定义的类型中使用。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-88-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-88-1"><a id="__codelineno-88-1" name="__codelineno-88-1"></a>CREATE TYPE person(first_name TEXT, last_name TEXT, emails FROZEN&lt;LIST&lt;TEXT&gt;&gt;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-89-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-89-1"><a id="__codelineno-89-1" name="__codelineno-89-1"></a>DESCRIBE TYPE person;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-90-1">1</a></span>
<span class="normal"><a href="#__codelineno-90-2">2</a></span>
<span class="normal"><a href="#__codelineno-90-3">3</a></span>
<span class="normal"><a href="#__codelineno-90-4">4</a></span>
<span class="normal"><a href="#__codelineno-90-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-90-1"><a id="__codelineno-90-1" name="__codelineno-90-1"></a>CREATE TYPE example.person (
</span><span id="__span-90-2"><a id="__codelineno-90-2" name="__codelineno-90-2"></a>    first_name text,
</span><span id="__span-90-3"><a id="__codelineno-90-3" name="__codelineno-90-3"></a>    last_name text,
</span><span id="__span-90-4"><a id="__codelineno-90-4" name="__codelineno-90-4"></a>    emails frozen&lt;list&lt;text&gt;&gt;
</span><span id="__span-90-5"><a id="__codelineno-90-5" name="__codelineno-90-5"></a>);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-91-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-91-1"><a id="__codelineno-91-1" name="__codelineno-91-1"></a>CREATE TABLE employees(employee_id INT PRIMARY KEY, employee person);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-92-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-92-1"><a id="__codelineno-92-1" name="__codelineno-92-1"></a>INSERT INTO employees(employee_id, employee) VALUES (1, {first_name : &#39;John&#39;, last_name : &#39;Doe&#39;, emails : [&#39;jdoe@example.com&#39;]});
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-93-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-93-1"><a id="__codelineno-93-1" name="__codelineno-93-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-94-1">1</a></span>
<span class="normal"><a href="#__codelineno-94-2">2</a></span>
<span class="normal"><a href="#__codelineno-94-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-94-1"><a id="__codelineno-94-1" name="__codelineno-94-1"></a> employee_id | employee
</span><span id="__span-94-2"><a id="__codelineno-94-2" name="__codelineno-94-2"></a>-------------+---------------------------------------------------------------------------
</span><span id="__span-94-3"><a id="__codelineno-94-3" name="__codelineno-94-3"></a>1 | {first_name: &#39;John&#39;, last_name: &#39;Doe&#39;, emails: [&#39;jdoe@example.com&#39;]}
</span></code></pre></div></td></tr></table></div>
<h2 id="drop-index"><strong>DROP INDEX</strong><a class="headerlink" href="#drop-index" title="Permanent link">&para;</a></h2>
<p>使用DROP INDEX语句从数据库中删除索引及其所有数据。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-95-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-95-1"><a id="__codelineno-95-1" name="__codelineno-95-1"></a>drop_index ::= DROP INDEX [ IF EXISTS ] index_name;
</span></code></pre></div></td></tr></table></div>
<ul>
<li>index_name是一个标识符（可能使用键空间名称限定）</li>
</ul>
<p>描述：</p>
<ul>
<li>如果指定的index_name不存在，则会引发错误，除非存在IF EXISTS选项。 </li>
<li>与index_name相关联的对象（如预编译语句）最终将在drop语句完成后失效。</li>
</ul>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-96-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-96-1"><a id="__codelineno-96-1" name="__codelineno-96-1"></a>CREATE TABLE users(id INT PRIMARY KEY, name TEXT) WITH transactions = { &#39;enabled&#39; : true };
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-97-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-97-1"><a id="__codelineno-97-1" name="__codelineno-97-1"></a>CREATE INDEX users_by_name ON users(name);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-98-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-98-1"><a id="__codelineno-98-1" name="__codelineno-98-1"></a>DROP INDEX users_by_name;
</span></code></pre></div></td></tr></table></div>
<h2 id="drop-keyspace"><strong>DROP</strong> <strong>KEYSPACE</strong><a class="headerlink" href="#drop-keyspace" title="Permanent link">&para;</a></h2>
<p>使用DROP KEYSPACE语句从系统中删除键空间</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-99-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-99-1"><a id="__codelineno-99-1" name="__codelineno-99-1"></a>drop_keyspace ::= DROP { KEYSPACE | SCHEMA } [ IF EXISTS ] keyspace_name;
</span></code></pre></div></td></tr></table></div>
<ul>
<li>keyspace_name 是标识符。</li>
</ul>
<p>描述：</p>
<ul>
<li>如果指定的keyspace_name不存在，则会引发错误，除非存在IF EXISTS选项。 </li>
<li>如果指定的键空间不是空的（包含表或类型），则会引发错误。</li>
</ul>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-100-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-100-1"><a id="__codelineno-100-1" name="__codelineno-100-1"></a>CREATE KEYSPACE example;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-101-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-101-1"><a id="__codelineno-101-1" name="__codelineno-101-1"></a>DROP KEYSPACE example;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-102-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-102-1"><a id="__codelineno-102-1" name="__codelineno-102-1"></a>DROP KEYSPACE IF EXISTS example;
</span></code></pre></div></td></tr></table></div>
<h2 id="drop-role"><strong>DROP ROLE</strong><a class="headerlink" href="#drop-role" title="Permanent link">&para;</a></h2>
<p>使用DROP ROLE语句可以删除现有角色。 
通过将dbServer标志use_cassandra_authentication设置为true，可以启用此语句</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-103-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-103-1"><a id="__codelineno-103-1" name="__codelineno-103-1"></a>drop_role ::=  DROP ROLE [ IF EXISTS ] role_name
</span></code></pre></div></td></tr></table></div>
<ul>
<li>role_name是文本标识符。</li>
</ul>
<p>描述：</p>
<ul>
<li>如果role_name不存在，除非存在IF EXISTS 选项，则会引发错误。 </li>
<li>只有具有超级用户状态的角色才能删除另一个超级用户角色。 </li>
<li>只有对ALL ROLES或指定的role_name具有DROP权限或具有SUPERUSER状态的客户端才能删除另一个角色。</li>
</ul>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-104-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-104-1"><a id="__codelineno-104-1" name="__codelineno-104-1"></a>DROP ROLE role1;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-105-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-105-1"><a id="__codelineno-105-1" name="__codelineno-105-1"></a>DROP ROLE IF EXISTS role2;
</span></code></pre></div></td></tr></table></div>
<h2 id="drop-table"><strong>DROP TABLE</strong><a class="headerlink" href="#drop-table" title="Permanent link">&para;</a></h2>
<p>使用DROP TABLE语句从数据库中删除表及其所有数据</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-106-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-106-1"><a id="__codelineno-106-1" name="__codelineno-106-1"></a>drop_table ::= DROP TABLE [ IF EXISTS ] table_name;
</span></code></pre></div></td></tr></table></div>
<ul>
<li>table_name是一个标识符（可能使用键空间名称限定）。</li>
</ul>
<p>描述：</p>
<ul>
<li>如果指定的表名称不存在，则会引发错误，除非存在IF EXISTS选项。 </li>
<li>与table_name相关联的对象（如预编译语句）最终将在drop语句完成后失效。</li>
</ul>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-107-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-107-1"><a id="__codelineno-107-1" name="__codelineno-107-1"></a>CREATE TABLE users(id INT PRIMARY KEY, name TEXT);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-108-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-108-1"><a id="__codelineno-108-1" name="__codelineno-108-1"></a>DROP TABLE users;
</span></code></pre></div></td></tr></table></div>
<h2 id="drop-type"><strong>DROP TYPE</strong><a class="headerlink" href="#drop-type" title="Permanent link">&para;</a></h2>
<p>使用DROP TYPE语句可以删除现有的用户定义数据类型。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-109-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-109-1"><a id="__codelineno-109-1" name="__codelineno-109-1"></a>drop_type ::= DROP TYPE [ IF EXISTS ] type_name;
</span></code></pre></div></td></tr></table></div>
<ul>
<li>type_name是一个标识符（可能使用键空间名称限定）。</li>
</ul>
<p>描述：</p>
<ul>
<li>如果指定的type_name不存在，则会引发错误，除非使用了IF EXISTS选项。 </li>
<li>如果用户定义的type_name当前正在表或其他类型中使用，则无法删除该类型。</li>
</ul>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-110-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-110-1"><a id="__codelineno-110-1" name="__codelineno-110-1"></a>CREATE TYPE person(first_name TEXT, last_name TEXT, email TEXT);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-111-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-111-1"><a id="__codelineno-111-1" name="__codelineno-111-1"></a>DROP TYPE person;
</span></code></pre></div></td></tr></table></div>
<h2 id="grant-permission"><strong>GRANT PERMISSION</strong><a class="headerlink" href="#grant-permission" title="Permanent link">&para;</a></h2>
<p>使用GRANT PERMISSION语句向角色授予权限（或所有可用权限）。 
创建数据库对象（键空间、表或角色）时，将自动且明确地向创建该对象的角色授予与该对象相关的所有权限。 
通过将dbServer标志--use_cassandra_authentication设置为true，可以启用此语句。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-112-1">1</a></span>
<span class="normal"><a href="#__codelineno-112-2">2</a></span>
<span class="normal"><a href="#__codelineno-112-3">3</a></span>
<span class="normal"><a href="#__codelineno-112-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-112-1"><a id="__codelineno-112-1" name="__codelineno-112-1"></a>grant_permission := GRANT all_permission | permission ON resource TO role_name;
</span><span id="__span-112-2"><a id="__codelineno-112-2" name="__codelineno-112-2"></a>all_permissions := ALL [ PERMISSIONS ]
</span><span id="__span-112-3"><a id="__codelineno-112-3" name="__codelineno-112-3"></a>permission :=  ( CREATE | ALTER | DROP | SELECT | MODIFY | AUTHORIZE | DESCRIBE | EXECUTE ) [ PERMISSION ]
</span><span id="__span-112-4"><a id="__codelineno-112-4" name="__codelineno-112-4"></a>resource := ALL ( KEYSPACES | ROLES ) | KEYSPACE keyspace_name | [ TABLE ] table_name | ROLE role_name;
</span></code></pre></div></td></tr></table></div>
<ul>
<li>keyspace_name、table_name和role_name是文本标识符（table_name可以用keyspace名称限定）。</li>
</ul>
<p>描述：
必须对所有角色或语句中使用的角色授予AUTHORIZE权限。否则，将返回未经授权的错误。</p>
<p>权限：
本节介绍对数据库对象执行操作所需的权限（由ALTER、AUTHORIZE、CREATE、DESCRIBE、DROP、MODIFY和SELECT表示）。可以对特定对象（由资源KEYSPACE、TABLE和ROLE表示）或整个对象组（由资源ALL KEYSPACES和ALL ROLES表示）授予权限。某些权限是隐式授予的，这意味着您在查询 system_auth.role_permissions表时永远不会看到它们列出。隐含授予的权限遵循以下规则：</p>
<ul>
<li>对ALL KEYSPACES 授予的任何权限都会隐式授予数据库中的每个键空间和表。 </li>
<li>对特定KEYSPACE 授予的任何权限都隐式授予该键空间中的任何表。 </li>
<li>对ALL ROLES 授予的任何权限都会隐式授予每个角色。</li>
</ul>
<p>对数据库对象执行特定操作所需的权限：</p>
<table>
<thead>
<tr>
<th>操作</th>
<th>权限</th>
<th>资源</th>
</tr>
</thead>
<tbody>
<tr>
<td>ALTER KEYSPACE</td>
<td>ALTER</td>
<td>ALL KEYSPACES, 或KEYSPACE</td>
</tr>
<tr>
<td>ALTER ROLE</td>
<td>ALTER</td>
<td>ALL ROLES, 或 ROLE</td>
</tr>
<tr>
<td>ALTER TABLE</td>
<td>ALTER</td>
<td>ALL KEYSPACES, KEYSPACE, 或TABLE</td>
</tr>
<tr>
<td>CREATE KEYSPACE</td>
<td>CREATE</td>
<td>ALL KEYSPACES</td>
</tr>
<tr>
<td>CREATE ROLE</td>
<td>CREATE</td>
<td>ALL ROLES</td>
</tr>
<tr>
<td>CREATE TABLE</td>
<td>CREATE</td>
<td>ALL KEYSPACES, KEYSPACE</td>
</tr>
<tr>
<td>DROP KEYSPACE</td>
<td>DROP</td>
<td>ALL KEYSPACES, 或KEYSPACE</td>
</tr>
<tr>
<td>DROP ROLE</td>
<td>DROP</td>
<td>ALL ROLES, 或ROLE</td>
</tr>
<tr>
<td>DROP TABLE</td>
<td>DROP</td>
<td>ALL KEYSPACES, KEYSPACE, 或TABLE</td>
</tr>
<tr>
<td>GRANT PERMISSION 或REVOKE PERMISSION on ALL KEYSPACES</td>
<td>AUTHORIZE</td>
<td>ALL KEYSPACES</td>
</tr>
<tr>
<td>GRANT PERMISSION 或REVOKE PERMISSION on ALL ROLES</td>
<td>AUTHORIZE</td>
<td>ALL ROLES</td>
</tr>
<tr>
<td>GRANT PERMISSION 或REVOKE PERMISSION on a keyspace</td>
<td>AUTHORIZE</td>
<td>ALL KEYSPACES, 或KEYSPACE</td>
</tr>
<tr>
<td>GRANT PERMISSION 或REVOKE PERMISSION on a role</td>
<td>AUTHORIZE</td>
<td>ALL ROLES, 或ROLE</td>
</tr>
<tr>
<td>GRANT PERMISSION 或REVOKE PERMISSION on a table</td>
<td>AUTHORIZE</td>
<td>ALL KEYSPACES, KEYSPACE, 或TABLE</td>
</tr>
<tr>
<td>GRANT ROLE 或REVOKE ROLE</td>
<td>AUTHORIZE</td>
<td>ALL ROLES, 或ROLE</td>
</tr>
<tr>
<td>INSERT, UPDATE, DELETE, 或TRUNCATE</td>
<td>MODIFY</td>
<td>ALL KEYSPACES, KEYSPACE, 或TABLE</td>
</tr>
<tr>
<td>SELECT</td>
<td>SELECT</td>
<td>ALL KEYSPACES, KEYSPACE, 或TABLE</td>
</tr>
</tbody>
</table>
<p>示例：
授予表的MODIFY 权限，以便角色qa可以将行插入表中</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-113-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-113-1"><a id="__codelineno-113-1" name="__codelineno-113-1"></a>GRANT MODIFY ON TABLE performance_tests.metrics TO qa;
</span></code></pre></div></td></tr></table></div>
<p>对表授予SELECT权限，以便角色qa可以读取该表</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-114-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-114-1"><a id="__codelineno-114-1" name="__codelineno-114-1"></a>GRANT SELECT ON performance_tests.metrics TO qa;
</span></code></pre></div></td></tr></table></div>
<p>对ALL KEYSPACES授予CREATE权限，以便角色tests 可以创建新的键空间</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-115-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-115-1"><a id="__codelineno-115-1" name="__codelineno-115-1"></a>GRANT CREATE ON ALL KEYSPACES TO tests;
</span></code></pre></div></td></tr></table></div>
<h2 id="grant-role"><strong>GRANT ROLE</strong><a class="headerlink" href="#grant-role" title="Permanent link">&para;</a></h2>
<p>使用GRANT ROLE语句将角色的权限和SUPERUSER状态授予另一个角色。可以将多个角色授予另一个角色，接收角色将拥有授予它的角色的所有权限的并集（直接或通过继承间接），加上授予它的任何角色的超级用户状态。例如，如果A被授予B，B被授予C，则C将被授予A和B的所有权限，如果A或B是超级用户，则C也将是超级用户。 
被授予的角色形成了一个非循环图，换言之，一个角色不能直接或间接地授予任何被授予它的角色。例如，如果A被授予B，B被授予C，则C既不能被授予A、B也不能被授予C。 
通过将dbServer标志--use_cassandra_authentication 设置为true，可以启用此语句。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-116-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-116-1"><a id="__codelineno-116-1" name="__codelineno-116-1"></a>grant_role ::= GRANT role_name TO role_name
</span></code></pre></div></td></tr></table></div>
<ul>
<li>role_name是文本标识符</li>
</ul>
<p>描述：
两个角色都必须存在，否则将引发错误。 
必须对所有角色或语句中使用的角色授予AUTHORIZE 权限。否则，将返回未经授权的错误。 
如果一个角色被授予（直接或间接）授予它的任何角色，则会引发错误。</p>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-117-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-117-1"><a id="__codelineno-117-1" name="__codelineno-117-1"></a>GRANT eng to robert;
</span></code></pre></div></td></tr></table></div>
<h2 id="revoke-permission"><strong>REVOKE PERMISSION</strong><a class="headerlink" href="#revoke-permission" title="Permanent link">&para;</a></h2>
<p>使用REVOKE PERMISSION语句可以撤销角色的权限（或所有授予的权限）。 
删除数据库对象（键空间、表或角色）时，会自动删除该对象上的所有权限。 
通过将dbServer标志--use_cassandra_authentication 设置为true，可以启用此语句。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-118-1">1</a></span>
<span class="normal"><a href="#__codelineno-118-2">2</a></span>
<span class="normal"><a href="#__codelineno-118-3">3</a></span>
<span class="normal"><a href="#__codelineno-118-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-118-1"><a id="__codelineno-118-1" name="__codelineno-118-1"></a>revoke_permission := REVOKE all_permission | permission ON resource FROM role_name;
</span><span id="__span-118-2"><a id="__codelineno-118-2" name="__codelineno-118-2"></a>all_permissions := ALL [ PERMISSIONS ]
</span><span id="__span-118-3"><a id="__codelineno-118-3" name="__codelineno-118-3"></a>permission :=  ( CREATE | ALTER | DROP | SELECT | MODIFY | AUTHORIZE | DESCRIBE | EXECUTE ) [ PERMISSION ]
</span><span id="__span-118-4"><a id="__codelineno-118-4" name="__codelineno-118-4"></a>resource := ALL ( KEYSPACES | ROLES ) | KEYSPACE keyspace_name | [ TABLE ] table_name | ROLE role_name;
</span></code></pre></div></td></tr></table></div>
<ul>
<li>keyspace_name、table_name和role_name是文本标识符（table_name可以用keyspace名称限定）。</li>
</ul>
<p>描述：
必须对所有角色或语句中使用的角色授予AUTHORIZE 权限。否则，将返回未经授权的错误。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-119-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-119-1"><a id="__codelineno-119-1" name="__codelineno-119-1"></a>REVOKE CREATE ON KEYSPACE qa FROM fred;
</span></code></pre></div></td></tr></table></div>
<h2 id="revoke-role"><strong>REVOKE ROLE</strong><a class="headerlink" href="#revoke-role" title="Permanent link">&para;</a></h2>
<p>使用REVOKE ROLE语句可以从另一个角色撤销一个角色（表示一组权限和SUPERUSER状态）。 
通过将dbServer标志--use_cassandra_authentication 设置为true，可以启用此语句。 </p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-120-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-120-1"><a id="__codelineno-120-1" name="__codelineno-120-1"></a>revoke_role ::= REVOKE role_name FROM role_name
</span></code></pre></div></td></tr></table></div>
<ul>
<li>role_name是文本标识符</li>
</ul>
<p>描述：</p>
<ul>
<li>两个角色都必须存在，否则将引发错误。 </li>
<li>必须对所有角色或语句中使用的角色授予AUTHORIZE 权限。否则，将返回未经授权的错误。 </li>
<li>您不能撤消尚未授予的角色，否则将引发错误</li>
</ul>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-121-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-121-1"><a id="__codelineno-121-1" name="__codelineno-121-1"></a>REVOKE project_y from diana;
</span></code></pre></div></td></tr></table></div>
<h2 id="use"><strong>USE</strong><a class="headerlink" href="#use" title="Permanent link">&para;</a></h2>
<p>使用USE 语句为当前客户端会话指定默认键空间。当数据库对象（如表或类型）名称不能标识键空间时，将使用此默认键空间。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-122-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-122-1"><a id="__codelineno-122-1" name="__codelineno-122-1"></a>use_keyspace ::= USE keyspace_name;
</span></code></pre></div></td></tr></table></div>
<ul>
<li>keyspace_name必须是一个标识符，该标识符不能是任何保留关键字，也不能包含空格，否则必须使用双引号。</li>
</ul>
<p>描述：
如果指定的键空间不存在，则会引发错误。 
任何不合格的表或类型名称都将使用当前默认键空间（如果未设置键空间，则会引发错误）。</p>
<p>示例：
1）创建并使用键空间</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-123-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-123-1"><a id="__codelineno-123-1" name="__codelineno-123-1"></a>CREATE KEYSPACE example;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-124-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-124-1"><a id="__codelineno-124-1" name="__codelineno-124-1"></a>CREATE KEYSPACE other_keyspace;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-125-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-125-1"><a id="__codelineno-125-1" name="__codelineno-125-1"></a>USE example;
</span></code></pre></div></td></tr></table></div>
<p>2）在当前的键空间中创建表</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-126-1">1</a></span>
<span class="normal"><a href="#__codelineno-126-2">2</a></span>
<span class="normal"><a href="#__codelineno-126-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-126-1"><a id="__codelineno-126-1" name="__codelineno-126-1"></a>CREATE TABLE test(id INT PRIMARY KEY);
</span><span id="__span-126-2"><a id="__codelineno-126-2" name="__codelineno-126-2"></a>INSERT INTO test(id) VALUES (1);
</span><span id="__span-126-3"><a id="__codelineno-126-3" name="__codelineno-126-3"></a>SELECT * FROM test;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-127-1">1</a></span>
<span class="normal"><a href="#__codelineno-127-2">2</a></span>
<span class="normal"><a href="#__codelineno-127-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-127-1"><a id="__codelineno-127-1" name="__codelineno-127-1"></a> id
</span><span id="__span-127-2"><a id="__codelineno-127-2" name="__codelineno-127-2"></a>----
</span><span id="__span-127-3"><a id="__codelineno-127-3" name="__codelineno-127-3"></a>  1
</span></code></pre></div></td></tr></table></div>
<p>3）在另一个键空间中创建表</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-128-1">1</a></span>
<span class="normal"><a href="#__codelineno-128-2">2</a></span>
<span class="normal"><a href="#__codelineno-128-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-128-1"><a id="__codelineno-128-1" name="__codelineno-128-1"></a>CREATE TABLE other_keyspace.test(id INT PRIMARY KEY);
</span><span id="__span-128-2"><a id="__codelineno-128-2" name="__codelineno-128-2"></a>INSERT INTO other_keyspace.test(id) VALUES (2);
</span><span id="__span-128-3"><a id="__codelineno-128-3" name="__codelineno-128-3"></a>SELECT * FROM other_keyspace.test;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-129-1">1</a></span>
<span class="normal"><a href="#__codelineno-129-2">2</a></span>
<span class="normal"><a href="#__codelineno-129-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-129-1"><a id="__codelineno-129-1" name="__codelineno-129-1"></a> id
</span><span id="__span-129-2"><a id="__codelineno-129-2" name="__codelineno-129-2"></a>----
</span><span id="__span-129-3"><a id="__codelineno-129-3" name="__codelineno-129-3"></a>  2
</span></code></pre></div></td></tr></table></div>
<h2 id="insert"><strong>INSERT</strong><a class="headerlink" href="#insert" title="Permanent link">&para;</a></h2>
<p>使用INSERT语句将一行添加到指定的表中。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-130-1">1</a></span>
<span class="normal"><a href="#__codelineno-130-2">2</a></span>
<span class="normal"><a href="#__codelineno-130-3">3</a></span>
<span class="normal"><a href="#__codelineno-130-4">4</a></span>
<span class="normal"><a href="#__codelineno-130-5">5</a></span>
<span class="normal"><a href="#__codelineno-130-6">6</a></span>
<span class="normal"><a href="#__codelineno-130-7">7</a></span>
<span class="normal"><a href="#__codelineno-130-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-130-1"><a id="__codelineno-130-1" name="__codelineno-130-1"></a>insert ::= INSERT INTO table_name ( column_name [ , ... ] ) VALUES (
</span><span id="__span-130-2"><a id="__codelineno-130-2" name="__codelineno-130-2"></a>           expression [ , ... ] )
</span><span id="__span-130-3"><a id="__codelineno-130-3" name="__codelineno-130-3"></a>           [ IF { [ NOT ] EXISTS | if_expression } ]
</span><span id="__span-130-4"><a id="__codelineno-130-4" name="__codelineno-130-4"></a>           [ USING using_expression ]
</span><span id="__span-130-5"><a id="__codelineno-130-5" name="__codelineno-130-5"></a>           [ RETURNS STATUS AS ROW ]
</span><span id="__span-130-6"><a id="__codelineno-130-6" name="__codelineno-130-6"></a>
</span><span id="__span-130-7"><a id="__codelineno-130-7" name="__codelineno-130-7"></a>using_expression = ttl_or_timestamp_expression { &#39;AND&#39; ttl_or_timestamp_expression };
</span><span id="__span-130-8"><a id="__codelineno-130-8" name="__codelineno-130-8"></a>ttl_or_timestamp_expression = &#39;TTL&#39; ttl_expression | &#39;TIMESTAMP&#39; timestamp_expression;
</span></code></pre></div></td></tr></table></div>
<ul>
<li>table_name和column 是标识符（table_name可以用键空间名称限定）。 </li>
<li>value 可以是任何表达式，尽管Apache Cassandra要求值必须是文字。 </li>
<li>语义部分介绍了对if_expression和ttl_expression的限制。 </li>
</ul>
<p>描述：</p>
<ul>
<li>如果指定的table_name不存在，则会引发错误。 </li>
<li>列列表必须包括所有主键列。 </li>
<li>USING TIMESTAMP子句表示您希望执行INSERT，就好像它是在用户提供的时间戳执行的一样。时间戳是自epoch以来的微秒数。 </li>
<li>默认情况下，INSERT具有upsert 语义，也就是说，如果行已经存在，它的行为就像UPDATE。如果需要纯INSERT语义，则可以使用 IF NOT EXISTS子句来确保INSERT不会覆盖现有行。 </li>
<li>注意：您应该在所有语句中使用USING TIMESTAMP子句，或者不在其中使用。在某些语句具有Using TIMESTAMP而另一些语句没有的情况下混合使用语句将导致非常混乱的结果。 </li>
<li>在启用了事务的表上不支持插入具有TTL的行。 </li>
<li>无论设置如何，INSERT 始终以QUORUM 一致性级别进行。</li>
</ul>
<p>VALUES子句 </p>
<ul>
<li>值列表的长度必须与列列表的长度相同。 </li>
<li>每个值都必须可转换为相应的（按位置）列类型。 </li>
<li>每个值文字都可以是一个计算结果为简单值的表达式。 </li>
</ul>
<p>IF子句  </p>
<ul>
<li>if_expression 只能应用于非键列（常规列）。 </li>
<li>if_expression可以包含任何逻辑运算符和布尔运算符。 </li>
</ul>
<p>USING子句 </p>
<ul>
<li>ttl_expression必须是一个整数值（或预编译语句的绑定变量标记）。 </li>
<li>timestamp_expression必须是一个整数值（或预编译语句的绑定变量标记）。</li>
</ul>
<p>示例：
1）插入一行数据</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-131-1">1</a></span>
<span class="normal"><a href="#__codelineno-131-2">2</a></span>
<span class="normal"><a href="#__codelineno-131-3">3</a></span>
<span class="normal"><a href="#__codelineno-131-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-131-1"><a id="__codelineno-131-1" name="__codelineno-131-1"></a>CREATE TABLE employees(department_id INT,
</span><span id="__span-131-2"><a id="__codelineno-131-2" name="__codelineno-131-2"></a>                        employee_id INT,
</span><span id="__span-131-3"><a id="__codelineno-131-3" name="__codelineno-131-3"></a>                        name TEXT,
</span><span id="__span-131-4"><a id="__codelineno-131-4" name="__codelineno-131-4"></a>                        PRIMARY KEY(department_id, employee_id));
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-132-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-132-1"><a id="__codelineno-132-1" name="__codelineno-132-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (1, 1, &#39;John&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-133-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-133-1"><a id="__codelineno-133-1" name="__codelineno-133-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (1, 2, &#39;Jane&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-134-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-134-1"><a id="__codelineno-134-1" name="__codelineno-134-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-135-1">1</a></span>
<span class="normal"><a href="#__codelineno-135-2">2</a></span>
<span class="normal"><a href="#__codelineno-135-3">3</a></span>
<span class="normal"><a href="#__codelineno-135-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-135-1"><a id="__codelineno-135-1" name="__codelineno-135-1"></a> department_id | employee_id | name
</span><span id="__span-135-2"><a id="__codelineno-135-2" name="__codelineno-135-2"></a>---------------+-------------+------
</span><span id="__span-135-3"><a id="__codelineno-135-3" name="__codelineno-135-3"></a>             1 |           1 | John
</span><span id="__span-135-4"><a id="__codelineno-135-4" name="__codelineno-135-4"></a>             1 |           2 | Jane
</span></code></pre></div></td></tr></table></div>
<p>2）使用IF子句的条件插入</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-136-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-136-1"><a id="__codelineno-136-1" name="__codelineno-136-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (2, 1, &#39;Joe&#39;) IF name = null;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-137-1">1</a></span>
<span class="normal"><a href="#__codelineno-137-2">2</a></span>
<span class="normal"><a href="#__codelineno-137-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-137-1"><a id="__codelineno-137-1" name="__codelineno-137-1"></a> [applied]
</span><span id="__span-137-2"><a id="__codelineno-137-2" name="__codelineno-137-2"></a>-----------
</span><span id="__span-137-3"><a id="__codelineno-137-3" name="__codelineno-137-3"></a>      True
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-138-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-138-1"><a id="__codelineno-138-1" name="__codelineno-138-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (2, 1, &#39;Jack&#39;) IF NOT EXISTS;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-139-1">1</a></span>
<span class="normal"><a href="#__codelineno-139-2">2</a></span>
<span class="normal"><a href="#__codelineno-139-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-139-1"><a id="__codelineno-139-1" name="__codelineno-139-1"></a> [applied] | department_id | employee_id
</span><span id="__span-139-2"><a id="__codelineno-139-2" name="__codelineno-139-2"></a>-----------+---------------+-------------
</span><span id="__span-139-3"><a id="__codelineno-139-3" name="__codelineno-139-3"></a>     False |             2 |           1
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-140-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-140-1"><a id="__codelineno-140-1" name="__codelineno-140-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-141-1">1</a></span>
<span class="normal"><a href="#__codelineno-141-2">2</a></span>
<span class="normal"><a href="#__codelineno-141-3">3</a></span>
<span class="normal"><a href="#__codelineno-141-4">4</a></span>
<span class="normal"><a href="#__codelineno-141-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-141-1"><a id="__codelineno-141-1" name="__codelineno-141-1"></a> department_id | employee_id | name
</span><span id="__span-141-2"><a id="__codelineno-141-2" name="__codelineno-141-2"></a>---------------+-------------+------
</span><span id="__span-141-3"><a id="__codelineno-141-3" name="__codelineno-141-3"></a>             2 |           1 |  Joe
</span><span id="__span-141-4"><a id="__codelineno-141-4" name="__codelineno-141-4"></a>             1 |           1 | John
</span><span id="__span-141-5"><a id="__codelineno-141-5" name="__codelineno-141-5"></a>             1 |           2 | Jane
</span></code></pre></div></td></tr></table></div>
<p>3）使用using TTL子句插入具有过期时间的行
您可以按如下方式执行此操作：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-142-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-142-1"><a id="__codelineno-142-1" name="__codelineno-142-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (2, 2, &#39;Jack&#39;) USING TTL 10;
</span></code></pre></div></td></tr></table></div>
<p>现在查询employees表。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-143-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-143-1"><a id="__codelineno-143-1" name="__codelineno-143-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-144-1">1</a></span>
<span class="normal"><a href="#__codelineno-144-2">2</a></span>
<span class="normal"><a href="#__codelineno-144-3">3</a></span>
<span class="normal"><a href="#__codelineno-144-4">4</a></span>
<span class="normal"><a href="#__codelineno-144-5">5</a></span>
<span class="normal"><a href="#__codelineno-144-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-144-1"><a id="__codelineno-144-1" name="__codelineno-144-1"></a> department_id | employee_id | name
</span><span id="__span-144-2"><a id="__codelineno-144-2" name="__codelineno-144-2"></a>---------------+-------------+------
</span><span id="__span-144-3"><a id="__codelineno-144-3" name="__codelineno-144-3"></a>             2 |           1 |  Joe
</span><span id="__span-144-4"><a id="__codelineno-144-4" name="__codelineno-144-4"></a>             2 |           2 | Jack
</span><span id="__span-144-5"><a id="__codelineno-144-5" name="__codelineno-144-5"></a>             1 |           1 | John
</span><span id="__span-144-6"><a id="__codelineno-144-6" name="__codelineno-144-6"></a>             1 |           2 | Jane
</span></code></pre></div></td></tr></table></div>
<p>11秒或更长时间后再次查询employees表。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-145-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-145-1"><a id="__codelineno-145-1" name="__codelineno-145-1"></a>SELECT * FROM employees; -- 11 seconds after the insert.
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-146-1">1</a></span>
<span class="normal"><a href="#__codelineno-146-2">2</a></span>
<span class="normal"><a href="#__codelineno-146-3">3</a></span>
<span class="normal"><a href="#__codelineno-146-4">4</a></span>
<span class="normal"><a href="#__codelineno-146-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-146-1"><a id="__codelineno-146-1" name="__codelineno-146-1"></a> department_id | employee_id | name
</span><span id="__span-146-2"><a id="__codelineno-146-2" name="__codelineno-146-2"></a>---------------+-------------+------
</span><span id="__span-146-3"><a id="__codelineno-146-3" name="__codelineno-146-3"></a>             2 |           1 |  Joe
</span><span id="__span-146-4"><a id="__codelineno-146-4" name="__codelineno-146-4"></a>             1 |           1 | John
</span><span id="__span-146-5"><a id="__codelineno-146-5" name="__codelineno-146-5"></a>             1 |           2 | Jane
</span></code></pre></div></td></tr></table></div>
<p>4）使用USING TIMESTAMP子句插入一行</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-147-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-147-1"><a id="__codelineno-147-1" name="__codelineno-147-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (1, 3, &#39;Jeff&#39;) USING TIMESTAMP 1000;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-148-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-148-1"><a id="__codelineno-148-1" name="__codelineno-148-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-149-1">1</a></span>
<span class="normal"><a href="#__codelineno-149-2">2</a></span>
<span class="normal"><a href="#__codelineno-149-3">3</a></span>
<span class="normal"><a href="#__codelineno-149-4">4</a></span>
<span class="normal"><a href="#__codelineno-149-5">5</a></span>
<span class="normal"><a href="#__codelineno-149-6">6</a></span>
<span class="normal"><a href="#__codelineno-149-7">7</a></span>
<span class="normal"><a href="#__codelineno-149-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-149-1"><a id="__codelineno-149-1" name="__codelineno-149-1"></a> department_id | employee_id | name
</span><span id="__span-149-2"><a id="__codelineno-149-2" name="__codelineno-149-2"></a>---------------+-------------+------
</span><span id="__span-149-3"><a id="__codelineno-149-3" name="__codelineno-149-3"></a>             1 |           1 | John
</span><span id="__span-149-4"><a id="__codelineno-149-4" name="__codelineno-149-4"></a>             1 |           2 | Jane
</span><span id="__span-149-5"><a id="__codelineno-149-5" name="__codelineno-149-5"></a>             1 |           3 | Jeff
</span><span id="__span-149-6"><a id="__codelineno-149-6" name="__codelineno-149-6"></a>             2 |           1 |  Joe
</span><span id="__span-149-7"><a id="__codelineno-149-7" name="__codelineno-149-7"></a>
</span><span id="__span-149-8"><a id="__codelineno-149-8" name="__codelineno-149-8"></a>(4 rows)
</span></code></pre></div></td></tr></table></div>
<p>用更高的时间戳覆盖行</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-150-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-150-1"><a id="__codelineno-150-1" name="__codelineno-150-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (1, 3, &#39;Jerry&#39;) USING TIMESTAMP 2000;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-151-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-151-1"><a id="__codelineno-151-1" name="__codelineno-151-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-152-1">1</a></span>
<span class="normal"><a href="#__codelineno-152-2">2</a></span>
<span class="normal"><a href="#__codelineno-152-3">3</a></span>
<span class="normal"><a href="#__codelineno-152-4">4</a></span>
<span class="normal"><a href="#__codelineno-152-5">5</a></span>
<span class="normal"><a href="#__codelineno-152-6">6</a></span>
<span class="normal"><a href="#__codelineno-152-7">7</a></span>
<span class="normal"><a href="#__codelineno-152-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-152-1"><a id="__codelineno-152-1" name="__codelineno-152-1"></a> department_id | employee_id | name
</span><span id="__span-152-2"><a id="__codelineno-152-2" name="__codelineno-152-2"></a>---------------+-------------+-------
</span><span id="__span-152-3"><a id="__codelineno-152-3" name="__codelineno-152-3"></a>             1 |           1 |  John
</span><span id="__span-152-4"><a id="__codelineno-152-4" name="__codelineno-152-4"></a>             1 |           2 |  Jane
</span><span id="__span-152-5"><a id="__codelineno-152-5" name="__codelineno-152-5"></a>             1 |           3 | Jerry
</span><span id="__span-152-6"><a id="__codelineno-152-6" name="__codelineno-152-6"></a>             2 |           1 |   Joe
</span><span id="__span-152-7"><a id="__codelineno-152-7" name="__codelineno-152-7"></a>
</span><span id="__span-152-8"><a id="__codelineno-152-8" name="__codelineno-152-8"></a>(4 rows)
</span></code></pre></div></td></tr></table></div>
<p>尝试用较低的时间戳覆盖该行</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-153-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-153-1"><a id="__codelineno-153-1" name="__codelineno-153-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (1, 3, &#39;James&#39;) USING TIMESTAMP 1500;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-154-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-154-1"><a id="__codelineno-154-1" name="__codelineno-154-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-155-1">1</a></span>
<span class="normal"><a href="#__codelineno-155-2">2</a></span>
<span class="normal"><a href="#__codelineno-155-3">3</a></span>
<span class="normal"><a href="#__codelineno-155-4">4</a></span>
<span class="normal"><a href="#__codelineno-155-5">5</a></span>
<span class="normal"><a href="#__codelineno-155-6">6</a></span>
<span class="normal"><a href="#__codelineno-155-7">7</a></span>
<span class="normal"><a href="#__codelineno-155-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-155-1"><a id="__codelineno-155-1" name="__codelineno-155-1"></a> department_id | employee_id | name
</span><span id="__span-155-2"><a id="__codelineno-155-2" name="__codelineno-155-2"></a>---------------+-------------+-------
</span><span id="__span-155-3"><a id="__codelineno-155-3" name="__codelineno-155-3"></a>             1 |           1 |  John
</span><span id="__span-155-4"><a id="__codelineno-155-4" name="__codelineno-155-4"></a>             1 |           2 |  Jane
</span><span id="__span-155-5"><a id="__codelineno-155-5" name="__codelineno-155-5"></a>             1 |           3 | Jerry
</span><span id="__span-155-6"><a id="__codelineno-155-6" name="__codelineno-155-6"></a>             2 |           1 |   Joe
</span><span id="__span-155-7"><a id="__codelineno-155-7" name="__codelineno-155-7"></a>
</span><span id="__span-155-8"><a id="__codelineno-155-8" name="__codelineno-155-8"></a>(4 rows)
</span></code></pre></div></td></tr></table></div>
<p>将状态返回为行：
在BCQL中执行批处理时，协议只返回一个错误或返回状态。RETURNS STATUS AS ROW功能解决了这一限制，并为每条语句添加了一个状态行。</p>
<h2 id="select"><strong>SELECT</strong><a class="headerlink" href="#select" title="Permanent link">&para;</a></h2>
<p>使用SELECT语句从表中检索满足给定条件的指定列的行（部分）。它指定要检索的列、表的名称以及每个选定行必须满足的条件。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-156-1">1</a></span>
<span class="normal"><a href="#__codelineno-156-2">2</a></span>
<span class="normal"><a href="#__codelineno-156-3">3</a></span>
<span class="normal"><a href="#__codelineno-156-4">4</a></span>
<span class="normal"><a href="#__codelineno-156-5">5</a></span>
<span class="normal"><a href="#__codelineno-156-6">6</a></span>
<span class="normal"><a href="#__codelineno-156-7">7</a></span>
<span class="normal"><a href="#__codelineno-156-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-156-1"><a id="__codelineno-156-1" name="__codelineno-156-1"></a>select ::= SELECT [ DISTINCT ] { * | column_name [ , column_name ... ] }
</span><span id="__span-156-2"><a id="__codelineno-156-2" name="__codelineno-156-2"></a>               FROM table_name
</span><span id="__span-156-3"><a id="__codelineno-156-3" name="__codelineno-156-3"></a>               [ WHERE where_expression ]
</span><span id="__span-156-4"><a id="__codelineno-156-4" name="__codelineno-156-4"></a>               [ IF where_expression ]
</span><span id="__span-156-5"><a id="__codelineno-156-5" name="__codelineno-156-5"></a>               [ ORDER BY order_expression ]
</span><span id="__span-156-6"><a id="__codelineno-156-6" name="__codelineno-156-6"></a>               [ LIMIT limit_expression ] [ OFFSET offset_expression ]
</span><span id="__span-156-7"><a id="__codelineno-156-7" name="__codelineno-156-7"></a>
</span><span id="__span-156-8"><a id="__codelineno-156-8" name="__codelineno-156-8"></a>order_expression ::= ( { column_name [ ASC | DESC ] } [ , ... ] )
</span></code></pre></div></td></tr></table></div>
<ul>
<li>table_name和column_name是标识符（table_name可以用键空间名称限定）。 </li>
<li>limit_expression 是一个整数文字（或预编译语句的绑定变量标记）。 </li>
</ul>
<p>描述：</p>
<ul>
<li>如果指定的table_name不存在，则会引发错误。 </li>
<li>SELECT DISTINCT只能用于分区列或静态列。 </li>
<li>*表示将检索表的所有列。 </li>
<li>LIMIT子句设置要返回的最大结果数（行）。 </li>
<li>OFFSET子句设置返回结果之前要跳过的行数。 </li>
<li>提供ALLOW FILTERING是为了与Cassandra的语法兼容。您始终可以对所有列进行筛选。 </li>
<li>读取默认值为QUORUM ，并从分片的Leader读取。 </li>
<li>要从followers 那里读取，请使用ONE一致性级别。 
  为了从本地读取中受益，除了指定ONE的一致性级别外，还可以在客户端驱动程序中设置region ，以指示请求的来源，并且它应该与该区域中服务器的--placement_region 参数相匹配。</li>
</ul>
<p>ORDER BY子句：</p>
<ul>
<li>ORDER BY子句设置返回结果的顺序。 </li>
<li>order_expression中只允许使用集群列。 </li>
<li>对于给定的列，DESC表示降序，ASC或省略表示升序。 </li>
<li>目前，只允许两种总体排序，CREATE TABLE语句中的集群顺序（正向扫描）或相反的顺序（反向扫描）。</li>
</ul>
<p>WHERE子句：</p>
<ul>
<li>where_expression的计算结果必须为布尔值。 </li>
<li>where_expression可以指定任何列的条件，包括分区、集群和常规列。 </li>
<li>where_expression有一个受限制的运算符列表。 </li>
<li>只有 =，!=，IN和NOT IN运算符可用于分区列上的条件。 </li>
<li>仅运算符=，！=，&lt;，&lt;=，&gt;，&gt;=，IN和NOT IN可用于集群和常规列的条件。 </li>
<li>只有IN运算符可以用于聚类列的元组上的条件。</li>
</ul>
<p>IF子句：</p>
<ul>
<li>if_expression 的计算结果必须为布尔值。 </li>
<li>if_expression支持所有可用布尔运算符和逻辑运算符的任意组合。 </li>
<li>if_expression只能指定非主键列的条件，尽管它可以用于辅助索引的键列。 </li>
<li>WHERE条件用于生成高效的查询计划，而IF条件则不是。在IF条件用于筛选不需要的数据之前，将从数据库中读取所有满足WHERE条件的行。在下面的示例中，尽管这两个查询产生相同的结果集，但是SELECT with WHERE子句将使用INDEX-SCAN，而SELECT with IF子句将使用FULL-SCAN。</li>
</ul>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-157-1">1</a></span>
<span class="normal"><a href="#__codelineno-157-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-157-1"><a id="__codelineno-157-1" name="__codelineno-157-1"></a>SELECT * FROM a_table WHERE key = &#39;my_key&#39;;
</span><span id="__span-157-2"><a id="__codelineno-157-2" name="__codelineno-157-2"></a>SELECT * FROM a_table IF key = &#39;my_key&#39;;
</span></code></pre></div></td></tr></table></div>
<p>示例：
1）获取表中的所有行</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-158-1">1</a></span>
<span class="normal"><a href="#__codelineno-158-2">2</a></span>
<span class="normal"><a href="#__codelineno-158-3">3</a></span>
<span class="normal"><a href="#__codelineno-158-4">4</a></span>
<span class="normal"><a href="#__codelineno-158-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-158-1"><a id="__codelineno-158-1" name="__codelineno-158-1"></a>CREATE TABLE employees(department_id INT,
</span><span id="__span-158-2"><a id="__codelineno-158-2" name="__codelineno-158-2"></a>                        employee_id INT,
</span><span id="__span-158-3"><a id="__codelineno-158-3" name="__codelineno-158-3"></a>                        dept_name TEXT STATIC,
</span><span id="__span-158-4"><a id="__codelineno-158-4" name="__codelineno-158-4"></a>                        employee_name TEXT,
</span><span id="__span-158-5"><a id="__codelineno-158-5" name="__codelineno-158-5"></a>                        PRIMARY KEY(department_id, employee_id));
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-159-1">1</a></span>
<span class="normal"><a href="#__codelineno-159-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-159-1"><a id="__codelineno-159-1" name="__codelineno-159-1"></a>INSERT INTO employees(department_id, employee_id, dept_name, employee_name)
</span><span id="__span-159-2"><a id="__codelineno-159-2" name="__codelineno-159-2"></a>                   VALUES (1, 1, &#39;Accounting&#39;, &#39;John&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-160-1">1</a></span>
<span class="normal"><a href="#__codelineno-160-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-160-1"><a id="__codelineno-160-1" name="__codelineno-160-1"></a>INSERT INTO employees(department_id, employee_id, dept_name, employee_name)
</span><span id="__span-160-2"><a id="__codelineno-160-2" name="__codelineno-160-2"></a>                   VALUES (1, 2, &#39;Accounting&#39;, &#39;Jane&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-161-1">1</a></span>
<span class="normal"><a href="#__codelineno-161-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-161-1"><a id="__codelineno-161-1" name="__codelineno-161-1"></a>INSERT INTO employees(department_id, employee_id, dept_name, employee_name)
</span><span id="__span-161-2"><a id="__codelineno-161-2" name="__codelineno-161-2"></a>                   VALUES (1, 3, &#39;Accounting&#39;, &#39;John&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-162-1">1</a></span>
<span class="normal"><a href="#__codelineno-162-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-162-1"><a id="__codelineno-162-1" name="__codelineno-162-1"></a>INSERT INTO employees(department_id, employee_id, dept_name, employee_name)
</span><span id="__span-162-2"><a id="__codelineno-162-2" name="__codelineno-162-2"></a>                   VALUES (2, 1, &#39;Marketing&#39;, &#39;Joe&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-163-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-163-1"><a id="__codelineno-163-1" name="__codelineno-163-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-164-1">1</a></span>
<span class="normal"><a href="#__codelineno-164-2">2</a></span>
<span class="normal"><a href="#__codelineno-164-3">3</a></span>
<span class="normal"><a href="#__codelineno-164-4">4</a></span>
<span class="normal"><a href="#__codelineno-164-5">5</a></span>
<span class="normal"><a href="#__codelineno-164-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-164-1"><a id="__codelineno-164-1" name="__codelineno-164-1"></a> department_id | employee_id | dept_name  | employee_name
</span><span id="__span-164-2"><a id="__codelineno-164-2" name="__codelineno-164-2"></a>---------------+-------------+------------+---------------
</span><span id="__span-164-3"><a id="__codelineno-164-3" name="__codelineno-164-3"></a>             1 |           1 | Accounting |          John
</span><span id="__span-164-4"><a id="__codelineno-164-4" name="__codelineno-164-4"></a>             1 |           2 | Accounting |          Jane
</span><span id="__span-164-5"><a id="__codelineno-164-5" name="__codelineno-164-5"></a>             1 |           3 | Accounting |          John
</span><span id="__span-164-6"><a id="__codelineno-164-6" name="__codelineno-164-6"></a>             2 |           1 |  Marketing |           Joe
</span></code></pre></div></td></tr></table></div>
<p>2）使用limit</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-165-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-165-1"><a id="__codelineno-165-1" name="__codelineno-165-1"></a>SELECT * FROM employees LIMIT 2;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-166-1">1</a></span>
<span class="normal"><a href="#__codelineno-166-2">2</a></span>
<span class="normal"><a href="#__codelineno-166-3">3</a></span>
<span class="normal"><a href="#__codelineno-166-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-166-1"><a id="__codelineno-166-1" name="__codelineno-166-1"></a> department_id | employee_id | dept_name  | employee_name
</span><span id="__span-166-2"><a id="__codelineno-166-2" name="__codelineno-166-2"></a>---------------+-------------+------------+---------------
</span><span id="__span-166-3"><a id="__codelineno-166-3" name="__codelineno-166-3"></a>             1 |           1 | Accounting |          John
</span><span id="__span-166-4"><a id="__codelineno-166-4" name="__codelineno-166-4"></a>             1 |           2 | Accounting |          Jane
</span></code></pre></div></td></tr></table></div>
<p>3）使用offset</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-167-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-167-1"><a id="__codelineno-167-1" name="__codelineno-167-1"></a>SELECT * FROM employees LIMIT 2 OFFSET 1;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-168-1">1</a></span>
<span class="normal"><a href="#__codelineno-168-2">2</a></span>
<span class="normal"><a href="#__codelineno-168-3">3</a></span>
<span class="normal"><a href="#__codelineno-168-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-168-1"><a id="__codelineno-168-1" name="__codelineno-168-1"></a> department_id | employee_id | dept_name  | employee_name
</span><span id="__span-168-2"><a id="__codelineno-168-2" name="__codelineno-168-2"></a>---------------+-------------+------------+---------------
</span><span id="__span-168-3"><a id="__codelineno-168-3" name="__codelineno-168-3"></a>             1 |           2 | Accounting |          Jane
</span><span id="__span-168-4"><a id="__codelineno-168-4" name="__codelineno-168-4"></a>             1 |           3 | Accounting |          John
</span></code></pre></div></td></tr></table></div>
<p>4）使用distinct </p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-169-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-169-1"><a id="__codelineno-169-1" name="__codelineno-169-1"></a>SELECT DISTINCT dept_name FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-170-1">1</a></span>
<span class="normal"><a href="#__codelineno-170-2">2</a></span>
<span class="normal"><a href="#__codelineno-170-3">3</a></span>
<span class="normal"><a href="#__codelineno-170-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-170-1"><a id="__codelineno-170-1" name="__codelineno-170-1"></a> dept_name
</span><span id="__span-170-2"><a id="__codelineno-170-2" name="__codelineno-170-2"></a>------------
</span><span id="__span-170-3"><a id="__codelineno-170-3" name="__codelineno-170-3"></a> Accounting
</span><span id="__span-170-4"><a id="__codelineno-170-4" name="__codelineno-170-4"></a>  Marketing
</span></code></pre></div></td></tr></table></div>
<p>5）根据分区列上的条件进行选择</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-171-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-171-1"><a id="__codelineno-171-1" name="__codelineno-171-1"></a>SELECT * FROM employees WHERE department_id = 2;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-172-1">1</a></span>
<span class="normal"><a href="#__codelineno-172-2">2</a></span>
<span class="normal"><a href="#__codelineno-172-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-172-1"><a id="__codelineno-172-1" name="__codelineno-172-1"></a> department_id | employee_id | dept_name | employee_name
</span><span id="__span-172-2"><a id="__codelineno-172-2" name="__codelineno-172-2"></a>---------------+-------------+-----------+---------------
</span><span id="__span-172-3"><a id="__codelineno-172-3" name="__codelineno-172-3"></a>             2 |           1 | Marketing |           Joe
</span></code></pre></div></td></tr></table></div>
<p>6）在聚类列上以条件进行选择</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-173-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-173-1"><a id="__codelineno-173-1" name="__codelineno-173-1"></a>SELECT * FROM employees WHERE department_id = 1 AND employee_id &lt;= 2;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-174-1">1</a></span>
<span class="normal"><a href="#__codelineno-174-2">2</a></span>
<span class="normal"><a href="#__codelineno-174-3">3</a></span>
<span class="normal"><a href="#__codelineno-174-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-174-1"><a id="__codelineno-174-1" name="__codelineno-174-1"></a> department_id | employee_id | dept_name  | employee_name
</span><span id="__span-174-2"><a id="__codelineno-174-2" name="__codelineno-174-2"></a>---------------+-------------+------------+---------------
</span><span id="__span-174-3"><a id="__codelineno-174-3" name="__codelineno-174-3"></a>             1 |           1 | Accounting |          John
</span><span id="__span-174-4"><a id="__codelineno-174-4" name="__codelineno-174-4"></a>             1 |           2 | Accounting |          Jane
</span></code></pre></div></td></tr></table></div>
<p>7）使用WHERE子句在常规列上带条件选择</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-175-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-175-1"><a id="__codelineno-175-1" name="__codelineno-175-1"></a>SELECT * FROM employees WHERE employee_name = &#39;John&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-176-1">1</a></span>
<span class="normal"><a href="#__codelineno-176-2">2</a></span>
<span class="normal"><a href="#__codelineno-176-3">3</a></span>
<span class="normal"><a href="#__codelineno-176-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-176-1"><a id="__codelineno-176-1" name="__codelineno-176-1"></a> department_id | employee_id | dept_name  | employee_name
</span><span id="__span-176-2"><a id="__codelineno-176-2" name="__codelineno-176-2"></a>---------------+-------------+------------+---------------
</span><span id="__span-176-3"><a id="__codelineno-176-3" name="__codelineno-176-3"></a>             1 |           1 | Accounting |          John
</span><span id="__span-176-4"><a id="__codelineno-176-4" name="__codelineno-176-4"></a>             1 |           3 | Accounting |          John
</span></code></pre></div></td></tr></table></div>
<p>8）使用IF子句在常规列上带条件选择</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-177-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-177-1"><a id="__codelineno-177-1" name="__codelineno-177-1"></a>SELECT * FROM employees WHERE department_id = 1 IF employee_name != &#39;John&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-178-1">1</a></span>
<span class="normal"><a href="#__codelineno-178-2">2</a></span>
<span class="normal"><a href="#__codelineno-178-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-178-1"><a id="__codelineno-178-1" name="__codelineno-178-1"></a> department_id | employee_id | dept_name  | employee_name
</span><span id="__span-178-2"><a id="__codelineno-178-2" name="__codelineno-178-2"></a>---------------+-------------+------------+---------------
</span><span id="__span-178-3"><a id="__codelineno-178-3" name="__codelineno-178-3"></a>             1 |           2 | Accounting |          Jane
</span></code></pre></div></td></tr></table></div>
<p>9）使用ORDER BY子句选择</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-179-1">1</a></span>
<span class="normal"><a href="#__codelineno-179-2">2</a></span>
<span class="normal"><a href="#__codelineno-179-3">3</a></span>
<span class="normal"><a href="#__codelineno-179-4">4</a></span>
<span class="normal"><a href="#__codelineno-179-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-179-1"><a id="__codelineno-179-1" name="__codelineno-179-1"></a>CREATE TABLE sensor_data(device_id INT,
</span><span id="__span-179-2"><a id="__codelineno-179-2" name="__codelineno-179-2"></a>                                        sensor_id INT,
</span><span id="__span-179-3"><a id="__codelineno-179-3" name="__codelineno-179-3"></a>                                        ts TIMESTAMP,
</span><span id="__span-179-4"><a id="__codelineno-179-4" name="__codelineno-179-4"></a>                                        value TEXT,
</span><span id="__span-179-5"><a id="__codelineno-179-5" name="__codelineno-179-5"></a>                                        PRIMARY KEY((device_id), sensor_id, ts)) WITH CLUSTERING ORDER BY (sensor_id ASC, ts DESC);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-180-1">1</a></span>
<span class="normal"><a href="#__codelineno-180-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-180-1"><a id="__codelineno-180-1" name="__codelineno-180-1"></a>INSERT INTO sensor_data(device_id, sensor_id, ts, value)
</span><span id="__span-180-2"><a id="__codelineno-180-2" name="__codelineno-180-2"></a>                   VALUES (1, 1, &#39;2018-1-1 12:30:30 UTC&#39;, &#39;a&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-181-1">1</a></span>
<span class="normal"><a href="#__codelineno-181-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-181-1"><a id="__codelineno-181-1" name="__codelineno-181-1"></a>INSERT INTO sensor_data(device_id, sensor_id, ts, value)
</span><span id="__span-181-2"><a id="__codelineno-181-2" name="__codelineno-181-2"></a>                   VALUES (1, 1, &#39;2018-1-1 12:30:31 UTC&#39;, &#39;b&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-182-1">1</a></span>
<span class="normal"><a href="#__codelineno-182-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-182-1"><a id="__codelineno-182-1" name="__codelineno-182-1"></a>INSERT INTO sensor_data(device_id, sensor_id, ts, value)
</span><span id="__span-182-2"><a id="__codelineno-182-2" name="__codelineno-182-2"></a>                   VALUES (1, 2, &#39;2018-1-1 12:30:30 UTC&#39;, &#39;x&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-183-1">1</a></span>
<span class="normal"><a href="#__codelineno-183-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-183-1"><a id="__codelineno-183-1" name="__codelineno-183-1"></a>INSERT INTO sensor_data(device_id, sensor_id, ts, value)
</span><span id="__span-183-2"><a id="__codelineno-183-2" name="__codelineno-183-2"></a>                   VALUES (1, 2, &#39;2018-1-1 12:30:31 UTC&#39;, &#39;y&#39;);
</span></code></pre></div></td></tr></table></div>
<p>反向扫描，与表的聚类顺序相反。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-184-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-184-1"><a id="__codelineno-184-1" name="__codelineno-184-1"></a>SELECT * FROM sensor_data WHERE device_id = 1 ORDER BY sensor_id DESC, ts ASC;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-185-1">1</a></span>
<span class="normal"><a href="#__codelineno-185-2">2</a></span>
<span class="normal"><a href="#__codelineno-185-3">3</a></span>
<span class="normal"><a href="#__codelineno-185-4">4</a></span>
<span class="normal"><a href="#__codelineno-185-5">5</a></span>
<span class="normal"><a href="#__codelineno-185-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-185-1"><a id="__codelineno-185-1" name="__codelineno-185-1"></a> device_id | sensor_id | ts                              | value
</span><span id="__span-185-2"><a id="__codelineno-185-2" name="__codelineno-185-2"></a>-----------+-----------+---------------------------------+-------
</span><span id="__span-185-3"><a id="__codelineno-185-3" name="__codelineno-185-3"></a>         1 |         2 | 2018-01-01 12:30:30.000000+0000 |     x
</span><span id="__span-185-4"><a id="__codelineno-185-4" name="__codelineno-185-4"></a>         1 |         2 | 2018-01-01 12:30:31.000000+0000 |     y
</span><span id="__span-185-5"><a id="__codelineno-185-5" name="__codelineno-185-5"></a>         1 |         1 | 2018-01-01 12:30:30.000000+0000 |     a
</span><span id="__span-185-6"><a id="__codelineno-185-6" name="__codelineno-185-6"></a>         1 |         1 | 2018-01-01 12:30:31.000000+0000 |     b
</span></code></pre></div></td></tr></table></div>
<p>前向扫描，与不带ORDER BY子句的SELECT相同。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-186-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-186-1"><a id="__codelineno-186-1" name="__codelineno-186-1"></a>SELECT * FROM sensor_data WHERE device_id = 1 ORDER BY sensor_id ASC, ts DESC;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-187-1">1</a></span>
<span class="normal"><a href="#__codelineno-187-2">2</a></span>
<span class="normal"><a href="#__codelineno-187-3">3</a></span>
<span class="normal"><a href="#__codelineno-187-4">4</a></span>
<span class="normal"><a href="#__codelineno-187-5">5</a></span>
<span class="normal"><a href="#__codelineno-187-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-187-1"><a id="__codelineno-187-1" name="__codelineno-187-1"></a> device_id | sensor_id | ts                              | value
</span><span id="__span-187-2"><a id="__codelineno-187-2" name="__codelineno-187-2"></a>-----------+-----------+---------------------------------+-------
</span><span id="__span-187-3"><a id="__codelineno-187-3" name="__codelineno-187-3"></a>         1 |         1 | 2018-01-01 12:30:31.000000+0000 |     b
</span><span id="__span-187-4"><a id="__codelineno-187-4" name="__codelineno-187-4"></a>         1 |         1 | 2018-01-01 12:30:30.000000+0000 |     a
</span><span id="__span-187-5"><a id="__codelineno-187-5" name="__codelineno-187-5"></a>         1 |         2 | 2018-01-01 12:30:31.000000+0000 |     y
</span><span id="__span-187-6"><a id="__codelineno-187-6" name="__codelineno-187-6"></a>         1 |         2 | 2018-01-01 12:30:30.000000+0000 |     x
</span></code></pre></div></td></tr></table></div>
<p>不允许进行其他排序。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-188-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-188-1"><a id="__codelineno-188-1" name="__codelineno-188-1"></a>SELECT * FROM sensor_data WHERE device_id = 1 ORDER BY sensor_id ASC, ts ASC;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-189-1">1</a></span>
<span class="normal"><a href="#__codelineno-189-2">2</a></span>
<span class="normal"><a href="#__codelineno-189-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-189-1"><a id="__codelineno-189-1" name="__codelineno-189-1"></a>InvalidRequest: Unsupported order by relation
</span><span id="__span-189-2"><a id="__codelineno-189-2" name="__codelineno-189-2"></a>SELECT * FROM sensor_data WHERE device_id = 1 ORDER BY sensor_id ASC, ts ASC;
</span><span id="__span-189-3"><a id="__codelineno-189-3" name="__codelineno-189-3"></a>                                                        ^^^^^^^^^^^^^^^^^^^^^
</span></code></pre></div></td></tr></table></div>
<h2 id="explain"><strong>EXPLAIN</strong><a class="headerlink" href="#explain" title="Permanent link">&para;</a></h2>
<p>使用EXPLAIN语句可以显示语句的执行计划。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-190-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-190-1"><a id="__codelineno-190-1" name="__codelineno-190-1"></a>explain ::= EXPLAIN { select | update | insert | delete }
</span></code></pre></div></td></tr></table></div>
<p>描述：
其中，目标语句是以下语句之一：SELECT、UPDATE、INSERT或DELETE。</p>
<p>示例：</p>
<p>创建表和索引：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-191-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-191-1"><a id="__codelineno-191-1" name="__codelineno-191-1"></a>CREATE KEYSPACE IF NOT EXISTS imdb;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-192-1">1</a></span>
<span class="normal"><a href="#__codelineno-192-2">2</a></span>
<span class="normal"><a href="#__codelineno-192-3">3</a></span>
<span class="normal"><a href="#__codelineno-192-4">4</a></span>
<span class="normal"><a href="#__codelineno-192-5">5</a></span>
<span class="normal"><a href="#__codelineno-192-6">6</a></span>
<span class="normal"><a href="#__codelineno-192-7">7</a></span>
<span class="normal"><a href="#__codelineno-192-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-192-1"><a id="__codelineno-192-1" name="__codelineno-192-1"></a>CREATE TABLE IF NOT EXISTS imdb.movie_stats (
</span><span id="__span-192-2"><a id="__codelineno-192-2" name="__codelineno-192-2"></a>           movie_name text,
</span><span id="__span-192-3"><a id="__codelineno-192-3" name="__codelineno-192-3"></a>           movie_genre text,
</span><span id="__span-192-4"><a id="__codelineno-192-4" name="__codelineno-192-4"></a>           user_name text,
</span><span id="__span-192-5"><a id="__codelineno-192-5" name="__codelineno-192-5"></a>           user_rank int,
</span><span id="__span-192-6"><a id="__codelineno-192-6" name="__codelineno-192-6"></a>           last_watched timestamp,
</span><span id="__span-192-7"><a id="__codelineno-192-7" name="__codelineno-192-7"></a>           PRIMARY KEY (movie_genre, movie_name, user_name)
</span><span id="__span-192-8"><a id="__codelineno-192-8" name="__codelineno-192-8"></a>) WITH transactions = { &#39;enabled&#39; : true };
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-193-1">1</a></span>
<span class="normal"><a href="#__codelineno-193-2">2</a></span>
<span class="normal"><a href="#__codelineno-193-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-193-1"><a id="__codelineno-193-1" name="__codelineno-193-1"></a>CREATE INDEX IF NOT EXISTS most_watched_by_year
</span><span id="__span-193-2"><a id="__codelineno-193-2" name="__codelineno-193-2"></a>      ON imdb.movie_stats((movie_genre, last_watched), movie_name, user_name)
</span><span id="__span-193-3"><a id="__codelineno-193-3" name="__codelineno-193-3"></a>      INCLUDE(user_rank);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-194-1">1</a></span>
<span class="normal"><a href="#__codelineno-194-2">2</a></span>
<span class="normal"><a href="#__codelineno-194-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-194-1"><a id="__codelineno-194-1" name="__codelineno-194-1"></a>CREATE INDEX IF NOT EXISTS best_rated
</span><span id="__span-194-2"><a id="__codelineno-194-2" name="__codelineno-194-2"></a>      ON imdb.movie_stats((user_rank, movie_genre), movie_name, user_name)
</span><span id="__span-194-3"><a id="__codelineno-194-3" name="__codelineno-194-3"></a>      INCLUDE(last_watched);
</span></code></pre></div></td></tr></table></div>
<p>插入数据：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-195-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-195-1"><a id="__codelineno-195-1" name="__codelineno-195-1"></a>USE imdb;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-196-1">1</a></span>
<span class="normal"><a href="#__codelineno-196-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-196-1"><a id="__codelineno-196-1" name="__codelineno-196-1"></a>INSERT INTO movie_stats(movie_name, movie_genre, user_name, user_rank, last_watched)
</span><span id="__span-196-2"><a id="__codelineno-196-2" name="__codelineno-196-2"></a>            VALUES (&#39;m1&#39;, &#39;g1&#39;, &#39;u1&#39;, 5, &#39;2019-01-18&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-197-1">1</a></span>
<span class="normal"><a href="#__codelineno-197-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-197-1"><a id="__codelineno-197-1" name="__codelineno-197-1"></a>INSERT INTO movie_stats(movie_name, movie_genre, user_name, user_rank, last_watched)
</span><span id="__span-197-2"><a id="__codelineno-197-2" name="__codelineno-197-2"></a>            VALUES (&#39;m2&#39;, &#39;g2&#39;, &#39;u1&#39;, 4, &#39;2019-01-17&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-198-1">1</a></span>
<span class="normal"><a href="#__codelineno-198-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-198-1"><a id="__codelineno-198-1" name="__codelineno-198-1"></a>INSERT INTO movie_stats(movie_name, movie_genre, user_name, user_rank, last_watched)
</span><span id="__span-198-2"><a id="__codelineno-198-2" name="__codelineno-198-2"></a>            VALUES (&#39;m3&#39;, &#39;g1&#39;, &#39;u2&#39;, 5, &#39;2019-01-18&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-199-1">1</a></span>
<span class="normal"><a href="#__codelineno-199-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-199-1"><a id="__codelineno-199-1" name="__codelineno-199-1"></a>INSERT INTO movie_stats(movie_name, movie_genre, user_name, user_rank, last_watched)
</span><span id="__span-199-2"><a id="__codelineno-199-2" name="__codelineno-199-2"></a>            VALUES (&#39;m4&#39;, &#39;g1&#39;, &#39;u1&#39;, 2, &#39;2019-02-27&#39;);
</span></code></pre></div></td></tr></table></div>
<p>解释查询计划：
如果指定了movie_genre、或movie_genre &amp; movie_name或movie_genre &amp; movie_name &amp; user_name，则应该从主表高效地提供查询。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-200-1">1</a></span>
<span class="normal"><a href="#__codelineno-200-2">2</a></span>
<span class="normal"><a href="#__codelineno-200-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-200-1"><a id="__codelineno-200-1" name="__codelineno-200-1"></a>EXPLAIN SELECT *
</span><span id="__span-200-2"><a id="__codelineno-200-2" name="__codelineno-200-2"></a>            FROM movie_stats
</span><span id="__span-200-3"><a id="__codelineno-200-3" name="__codelineno-200-3"></a>            WHERE movie_genre = &#39;g1&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-201-1">1</a></span>
<span class="normal"><a href="#__codelineno-201-2">2</a></span>
<span class="normal"><a href="#__codelineno-201-3">3</a></span>
<span class="normal"><a href="#__codelineno-201-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-201-1"><a id="__codelineno-201-1" name="__codelineno-201-1"></a>QUERY PLAN
</span><span id="__span-201-2"><a id="__codelineno-201-2" name="__codelineno-201-2"></a>----------------------------------------
</span><span id="__span-201-3"><a id="__codelineno-201-3" name="__codelineno-201-3"></a> Range Scan on imdb.movie_stats
</span><span id="__span-201-4"><a id="__codelineno-201-4" name="__codelineno-201-4"></a>   Key Conditions: (movie_genre = &#39;g1&#39;)
</span></code></pre></div></td></tr></table></div>
<p>如果指定了movie_genre &amp; last_watched，那么应该从most_watched_by_year索引高效地提供查询。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-202-1">1</a></span>
<span class="normal"><a href="#__codelineno-202-2">2</a></span>
<span class="normal"><a href="#__codelineno-202-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-202-1"><a id="__codelineno-202-1" name="__codelineno-202-1"></a>EXPLAIN SELECT *
</span><span id="__span-202-2"><a id="__codelineno-202-2" name="__codelineno-202-2"></a>            FROM movie_stats
</span><span id="__span-202-3"><a id="__codelineno-202-3" name="__codelineno-202-3"></a>            WHERE movie_genre = &#39;g1&#39; and last_watched=&#39;2019-02-27&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-203-1">1</a></span>
<span class="normal"><a href="#__codelineno-203-2">2</a></span>
<span class="normal"><a href="#__codelineno-203-3">3</a></span>
<span class="normal"><a href="#__codelineno-203-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-203-1"><a id="__codelineno-203-1" name="__codelineno-203-1"></a>QUERY PLAN
</span><span id="__span-203-2"><a id="__codelineno-203-2" name="__codelineno-203-2"></a>--------------------------------------------------------------------------
</span><span id="__span-203-3"><a id="__codelineno-203-3" name="__codelineno-203-3"></a> Index Only Scan using imdb.most_watched_by_year on imdb.movie_stats
</span><span id="__span-203-4"><a id="__codelineno-203-4" name="__codelineno-203-4"></a>   Key Conditions: (movie_genre = &#39;g1&#39;) AND (last_watched = &#39;2019-02-27&#39;)
</span></code></pre></div></td></tr></table></div>
<p>如果指定了user_rank 和movie_genre，那么应该从best_rated索引高效地提供查询。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-204-1">1</a></span>
<span class="normal"><a href="#__codelineno-204-2">2</a></span>
<span class="normal"><a href="#__codelineno-204-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-204-1"><a id="__codelineno-204-1" name="__codelineno-204-1"></a>EXPLAIN SELECT *
</span><span id="__span-204-2"><a id="__codelineno-204-2" name="__codelineno-204-2"></a>            FROM movie_stats
</span><span id="__span-204-3"><a id="__codelineno-204-3" name="__codelineno-204-3"></a>            WHERE movie_genre = &#39;g2&#39; and user_rank=5;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-205-1">1</a></span>
<span class="normal"><a href="#__codelineno-205-2">2</a></span>
<span class="normal"><a href="#__codelineno-205-3">3</a></span>
<span class="normal"><a href="#__codelineno-205-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-205-1"><a id="__codelineno-205-1" name="__codelineno-205-1"></a>QUERY PLAN
</span><span id="__span-205-2"><a id="__codelineno-205-2" name="__codelineno-205-2"></a>--------------------------------------------------------------
</span><span id="__span-205-3"><a id="__codelineno-205-3" name="__codelineno-205-3"></a> Index Only Scan using imdb.best_rated on imdb.movie_stats
</span><span id="__span-205-4"><a id="__codelineno-205-4" name="__codelineno-205-4"></a>   Key Conditions: (user_rank = &#39;5&#39;) AND (movie_genre = &#39;g2&#39;)
</span></code></pre></div></td></tr></table></div>
<p>创建非覆盖索引。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-206-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-206-1"><a id="__codelineno-206-1" name="__codelineno-206-1"></a>DROP INDEX best_rated;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-207-1">1</a></span>
<span class="normal"><a href="#__codelineno-207-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-207-1"><a id="__codelineno-207-1" name="__codelineno-207-1"></a>CREATE INDEX IF NOT EXISTS best_rated
</span><span id="__span-207-2"><a id="__codelineno-207-2" name="__codelineno-207-2"></a>            ON imdb.movie_stats((user_rank, movie_genre), movie_name, user_name);
</span></code></pre></div></td></tr></table></div>
<p>两步选择。使用索引扫描而不是仅使用索引扫描。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-208-1">1</a></span>
<span class="normal"><a href="#__codelineno-208-2">2</a></span>
<span class="normal"><a href="#__codelineno-208-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-208-1"><a id="__codelineno-208-1" name="__codelineno-208-1"></a>EXPLAIN SELECT *
</span><span id="__span-208-2"><a id="__codelineno-208-2" name="__codelineno-208-2"></a>            FROM movie_stats
</span><span id="__span-208-3"><a id="__codelineno-208-3" name="__codelineno-208-3"></a>            WHERE movie_genre = &#39;g2&#39; and user_rank=5;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-209-1">1</a></span>
<span class="normal"><a href="#__codelineno-209-2">2</a></span>
<span class="normal"><a href="#__codelineno-209-3">3</a></span>
<span class="normal"><a href="#__codelineno-209-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-209-1"><a id="__codelineno-209-1" name="__codelineno-209-1"></a> QUERY PLAN
</span><span id="__span-209-2"><a id="__codelineno-209-2" name="__codelineno-209-2"></a>--------------------------------------------------------------
</span><span id="__span-209-3"><a id="__codelineno-209-3" name="__codelineno-209-3"></a> Index Scan using imdb.best_rated on imdb.movie_stats
</span><span id="__span-209-4"><a id="__codelineno-209-4" name="__codelineno-209-4"></a>   Key Conditions: (user_rank = &#39;5&#39;) AND (movie_genre = &#39;g2&#39;)
</span></code></pre></div></td></tr></table></div>
<p>其他SELECT的EXPLAIN 类型</p>
<p>表达式的QLName()是不支持的</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-210-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-210-1"><a id="__codelineno-210-1" name="__codelineno-210-1"></a>EXPLAIN SELECT * FROM movie_stats where movie_genre in (&#39;g1&#39;, &#39;g2&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-211-1">1</a></span>
<span class="normal"><a href="#__codelineno-211-2">2</a></span>
<span class="normal"><a href="#__codelineno-211-3">3</a></span>
<span class="normal"><a href="#__codelineno-211-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-211-1"><a id="__codelineno-211-1" name="__codelineno-211-1"></a> QUERY PLAN
</span><span id="__span-211-2"><a id="__codelineno-211-2" name="__codelineno-211-2"></a>-------------------------------------------
</span><span id="__span-211-3"><a id="__codelineno-211-3" name="__codelineno-211-3"></a> Range Scan on imdb.movie_stats
</span><span id="__span-211-4"><a id="__codelineno-211-4" name="__codelineno-211-4"></a>   Key Conditions: (movie_genre IN &#39;expr&#39;)
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-212-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-212-1"><a id="__codelineno-212-1" name="__codelineno-212-1"></a>EXPLAIN SELECT COUNT(*) FROM movie_stats  WHERE movie_genre = &#39;g2&#39; and user_rank=5;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-213-1">1</a></span>
<span class="normal"><a href="#__codelineno-213-2">2</a></span>
<span class="normal"><a href="#__codelineno-213-3">3</a></span>
<span class="normal"><a href="#__codelineno-213-4">4</a></span>
<span class="normal"><a href="#__codelineno-213-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-213-1"><a id="__codelineno-213-1" name="__codelineno-213-1"></a> QUERY PLAN
</span><span id="__span-213-2"><a id="__codelineno-213-2" name="__codelineno-213-2"></a>--------------------------------------------------------------------
</span><span id="__span-213-3"><a id="__codelineno-213-3" name="__codelineno-213-3"></a> Aggregate
</span><span id="__span-213-4"><a id="__codelineno-213-4" name="__codelineno-213-4"></a>   -&gt;  Index Only Scan using imdb.best_rated on imdb.movie_stats
</span><span id="__span-213-5"><a id="__codelineno-213-5" name="__codelineno-213-5"></a>         Key Conditions: (user_rank = &#39;5&#39;) AND (movie_genre = &#39;g2&#39;)
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-214-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-214-1"><a id="__codelineno-214-1" name="__codelineno-214-1"></a>EXPLAIN SELECT * FROM movie_stats  WHERE movie_genre = &#39;g2&#39; and user_rank = 5 LIMIT 5;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-215-1">1</a></span>
<span class="normal"><a href="#__codelineno-215-2">2</a></span>
<span class="normal"><a href="#__codelineno-215-3">3</a></span>
<span class="normal"><a href="#__codelineno-215-4">4</a></span>
<span class="normal"><a href="#__codelineno-215-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-215-1"><a id="__codelineno-215-1" name="__codelineno-215-1"></a> QUERY PLAN
</span><span id="__span-215-2"><a id="__codelineno-215-2" name="__codelineno-215-2"></a>--------------------------------------------------------------------
</span><span id="__span-215-3"><a id="__codelineno-215-3" name="__codelineno-215-3"></a> Limit
</span><span id="__span-215-4"><a id="__codelineno-215-4" name="__codelineno-215-4"></a>   -&gt;  Index Only Scan using imdb.best_rated on imdb.movie_stats
</span><span id="__span-215-5"><a id="__codelineno-215-5" name="__codelineno-215-5"></a>         Key Conditions: (user_rank = &#39;5&#39;) AND (movie_genre = &#39;g2&#39;)
</span></code></pre></div></td></tr></table></div>
<p>INSERT示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-216-1">1</a></span>
<span class="normal"><a href="#__codelineno-216-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-216-1"><a id="__codelineno-216-1" name="__codelineno-216-1"></a>EXPLAIN INSERT INTO movie_stats(movie_name, movie_genre, user_name, user_rank, last_watched)
</span><span id="__span-216-2"><a id="__codelineno-216-2" name="__codelineno-216-2"></a>            VALUES (&#39;m4&#39;, &#39;g1&#39;, &#39;u1&#39;, 2, &#39;2019-02-27&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-217-1">1</a></span>
<span class="normal"><a href="#__codelineno-217-2">2</a></span>
<span class="normal"><a href="#__codelineno-217-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-217-1"><a id="__codelineno-217-1" name="__codelineno-217-1"></a> QUERY PLAN
</span><span id="__span-217-2"><a id="__codelineno-217-2" name="__codelineno-217-2"></a>----------------------------
</span><span id="__span-217-3"><a id="__codelineno-217-3" name="__codelineno-217-3"></a> Insert on imdb.movie_stats
</span></code></pre></div></td></tr></table></div>
<p>DELETE示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-218-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-218-1"><a id="__codelineno-218-1" name="__codelineno-218-1"></a>explain delete from movie_stats  where movie_genre = &#39;g1&#39; and movie_name = &#39;m1&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-219-1">1</a></span>
<span class="normal"><a href="#__codelineno-219-2">2</a></span>
<span class="normal"><a href="#__codelineno-219-3">3</a></span>
<span class="normal"><a href="#__codelineno-219-4">4</a></span>
<span class="normal"><a href="#__codelineno-219-5">5</a></span>
<span class="normal"><a href="#__codelineno-219-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-219-1"><a id="__codelineno-219-1" name="__codelineno-219-1"></a> QUERY PLAN
</span><span id="__span-219-2"><a id="__codelineno-219-2" name="__codelineno-219-2"></a>----------------------------------------------
</span><span id="__span-219-3"><a id="__codelineno-219-3" name="__codelineno-219-3"></a> Delete on imdb.movie_stats
</span><span id="__span-219-4"><a id="__codelineno-219-4" name="__codelineno-219-4"></a>   -&gt;  Range Scan on imdb.movie_stats
</span><span id="__span-219-5"><a id="__codelineno-219-5" name="__codelineno-219-5"></a>         Key Conditions: (movie_genre = &#39;g1&#39;)
</span><span id="__span-219-6"><a id="__codelineno-219-6" name="__codelineno-219-6"></a>         Filter: (movie_name = &#39;m1&#39;)
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-220-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-220-1"><a id="__codelineno-220-1" name="__codelineno-220-1"></a>explain delete from movie_stats  where movie_genre = &#39;g1&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-221-1">1</a></span>
<span class="normal"><a href="#__codelineno-221-2">2</a></span>
<span class="normal"><a href="#__codelineno-221-3">3</a></span>
<span class="normal"><a href="#__codelineno-221-4">4</a></span>
<span class="normal"><a href="#__codelineno-221-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-221-1"><a id="__codelineno-221-1" name="__codelineno-221-1"></a> QUERY PLAN
</span><span id="__span-221-2"><a id="__codelineno-221-2" name="__codelineno-221-2"></a>----------------------------------------------
</span><span id="__span-221-3"><a id="__codelineno-221-3" name="__codelineno-221-3"></a> Delete on imdb.movie_stats
</span><span id="__span-221-4"><a id="__codelineno-221-4" name="__codelineno-221-4"></a>   -&gt;  Range Scan on imdb.movie_stats
</span><span id="__span-221-5"><a id="__codelineno-221-5" name="__codelineno-221-5"></a>         Key Conditions: (movie_genre = &#39;g1&#39;)
</span></code></pre></div></td></tr></table></div>
<p>UPDATE示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-222-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-222-1"><a id="__codelineno-222-1" name="__codelineno-222-1"></a>EXPLAIN UPDATE movie_stats SET user_rank = 1 WHERE movie_name = &#39;m1&#39; and movie_genre = &#39;g1&#39; and user_name = &#39;u1&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-223-1">1</a></span>
<span class="normal"><a href="#__codelineno-223-2">2</a></span>
<span class="normal"><a href="#__codelineno-223-3">3</a></span>
<span class="normal"><a href="#__codelineno-223-4">4</a></span>
<span class="normal"><a href="#__codelineno-223-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-223-1"><a id="__codelineno-223-1" name="__codelineno-223-1"></a> QUERY PLAN
</span><span id="__span-223-2"><a id="__codelineno-223-2" name="__codelineno-223-2"></a>---------------------------------------------------------------------------------------------
</span><span id="__span-223-3"><a id="__codelineno-223-3" name="__codelineno-223-3"></a> Update on imdb.movie_stats
</span><span id="__span-223-4"><a id="__codelineno-223-4" name="__codelineno-223-4"></a>   -&gt;  Primary Key Lookup on imdb.movie_stats
</span><span id="__span-223-5"><a id="__codelineno-223-5" name="__codelineno-223-5"></a>         Key Conditions: (movie_genre = &#39;g1&#39;) AND (movie_name = &#39;m1&#39;) AND (user_name = &#39;u1&#39;)
</span></code></pre></div></td></tr></table></div>
<h2 id="update"><strong>UPDATE</strong><a class="headerlink" href="#update" title="Permanent link">&para;</a></h2>
<p>使用UPDATE语句可以更新表中某行的一个或多个列值。
注意：AiSQL 一次只能更新一行。当前不支持更新多行。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-224-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-224-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-224-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-224-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-224-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-224-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-224-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-224-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-224-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-224-10">10</a></span>
<span class="normal"><a href="#__codelineno-224-11">11</a></span>
<span class="normal"><a href="#__codelineno-224-12">12</a></span>
<span class="normal"><a href="#__codelineno-224-13">13</a></span>
<span class="normal"><a href="#__codelineno-224-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-224-1"><a id="__codelineno-224-1" name="__codelineno-224-1"></a>update ::= UPDATE table_name [ USING using_expression ] SET assignment 
</span><span id="__span-224-2"><a id="__codelineno-224-2" name="__codelineno-224-2"></a>           [ , ... ]  WHERE where_expression 
</span><span id="__span-224-3"><a id="__codelineno-224-3" name="__codelineno-224-3"></a>           [ IF { if_expression
</span><span id="__span-224-4"><a id="__codelineno-224-4" name="__codelineno-224-4"></a>                  | [ NOT ] EXISTS
</span><span id="__span-224-5"><a id="__codelineno-224-5" name="__codelineno-224-5"></a>                  | if_expression OR [ NOT ] EXISTS } ] 
</span><span id="__span-224-6"><a id="__codelineno-224-6" name="__codelineno-224-6"></a>           [ RETURNS STATUS AS ROW ]
</span><span id="__span-224-7"><a id="__codelineno-224-7" name="__codelineno-224-7"></a>
</span><span id="__span-224-8"><a id="__codelineno-224-8" name="__codelineno-224-8"></a>
</span><span id="__span-224-9"><a id="__codelineno-224-9" name="__codelineno-224-9"></a>assignment ::= { column_name | column_name&#39;[&#39;index_expression&#39;]&#39; } &#39;=&#39; expression
</span><span id="__span-224-10"><a id="__codelineno-224-10" name="__codelineno-224-10"></a>
</span><span id="__span-224-11"><a id="__codelineno-224-11" name="__codelineno-224-11"></a>
</span><span id="__span-224-12"><a id="__codelineno-224-12" name="__codelineno-224-12"></a>using_expression = ttl_or_timestamp_expression { &#39;AND&#39; ttl_or_timestamp_expression };
</span><span id="__span-224-13"><a id="__codelineno-224-13" name="__codelineno-224-13"></a>
</span><span id="__span-224-14"><a id="__codelineno-224-14" name="__codelineno-224-14"></a>ttl_or_timestamp_expression = &#39;TTL&#39; ttl_expression | &#39;TIMESTAMP&#39; timestamp_expression;
</span></code></pre></div></td></tr></table></div>
<ul>
<li>table_name是一个标识符（可能使用键空间名称限定）。 </li>
<li>语义部分介绍了ttl_expression、where_expression和if_expression的限制。 </li>
</ul>
<p>描述：</p>
<ul>
<li>如果指定的table_name不存在，则会引发错误。 </li>
<li>Update语句使用upsert 语义，这意味着它插入正在更新的行（若该行不存在）。 </li>
<li>USING TIMESTAMP 子句表示您希望执行UPDATE，就好像它是在用户提供的时间戳执行的一样。时间戳是自epoch以来的微秒数。 </li>
<li>注意：您应该在所有语句中使用USING TIMESTAMP子句，或者不在其中使用。在某些语句具有Using TIMESTAMP而另一些语句没有的情况下混合使用语句将导致非常混乱的结果。 </li>
<li>启用事务的表不支持使用TTL更新行。 </li>
<li>不能更新主键中的列。作为一种变通方法，您必须删除该行并插入新行。 </li>
<li>无论设置如何，更新始终以QUORUM 一致性级别进行。</li>
</ul>
<p>WHERE子句 
where_expression和if_expression的计算结果必须为布尔值。 
where_expression必须为所有主键列指定条件。 
where_expression不能为任何常规列指定条件。 
where_expression只能应用AND和 = 运算符。尚不支持其他运算符。</p>
<p>IF子句 </p>
<ul>
<li>if_expression只能应用于非键列（常规列）。 </li>
<li>if_expression可以包含任何逻辑运算符和布尔运算符。 </li>
</ul>
<p>USING子句 </p>
<ul>
<li>ttl_expression必须是一个整数值（或为预编译语句的绑定变量标记）。 </li>
<li>timestamp_expression必须是一个整数值（或为预编译语句的绑定变量标记）。</li>
</ul>
<p>示例：
1）更新表值</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-225-1">1</a></span>
<span class="normal"><a href="#__codelineno-225-2">2</a></span>
<span class="normal"><a href="#__codelineno-225-3">3</a></span>
<span class="normal"><a href="#__codelineno-225-4">4</a></span>
<span class="normal"><a href="#__codelineno-225-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-225-1"><a id="__codelineno-225-1" name="__codelineno-225-1"></a>CREATE TABLE employees(department_id INT,
</span><span id="__span-225-2"><a id="__codelineno-225-2" name="__codelineno-225-2"></a>                                      employee_id INT,
</span><span id="__span-225-3"><a id="__codelineno-225-3" name="__codelineno-225-3"></a>                                      name TEXT,
</span><span id="__span-225-4"><a id="__codelineno-225-4" name="__codelineno-225-4"></a>                                      age INT,
</span><span id="__span-225-5"><a id="__codelineno-225-5" name="__codelineno-225-5"></a>                                      PRIMARY KEY(department_id, employee_id));
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-226-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-226-1"><a id="__codelineno-226-1" name="__codelineno-226-1"></a>INSERT INTO employees(department_id, employee_id, name, age) VALUES (1, 1, &#39;John&#39;, 30);
</span></code></pre></div></td></tr></table></div>
<p>更新非主键列的值：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-227-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-227-1"><a id="__codelineno-227-1" name="__codelineno-227-1"></a>UPDATE employees SET name = &#39;Jack&#39; WHERE department_id = 1 AND employee_id = 1;
</span></code></pre></div></td></tr></table></div>
<p>使用upstart语义来更新不存在的行（即插入行）：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-228-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-228-1"><a id="__codelineno-228-1" name="__codelineno-228-1"></a>UPDATE employees SET name = &#39;Jane&#39;, age = 40 WHERE department_id = 1 AND employee_id = 2;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-229-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-229-1"><a id="__codelineno-229-1" name="__codelineno-229-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-230-1">1</a></span>
<span class="normal"><a href="#__codelineno-230-2">2</a></span>
<span class="normal"><a href="#__codelineno-230-3">3</a></span>
<span class="normal"><a href="#__codelineno-230-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-230-1"><a id="__codelineno-230-1" name="__codelineno-230-1"></a> department_id | employee_id | name | age
</span><span id="__span-230-2"><a id="__codelineno-230-2" name="__codelineno-230-2"></a>---------------+-------------+------+-----
</span><span id="__span-230-3"><a id="__codelineno-230-3" name="__codelineno-230-3"></a>             1 |           1 | Jack |  30
</span><span id="__span-230-4"><a id="__codelineno-230-4" name="__codelineno-230-4"></a>             1 |           2 | Jane |  40
</span></code></pre></div></td></tr></table></div>
<p>2）使用IF子句的条件更新
“SET”中允许使用支持的表达式。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-231-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-231-1"><a id="__codelineno-231-1" name="__codelineno-231-1"></a>UPDATE employees SET age = age + 1 WHERE department_id = 1 AND employee_id = 1 IF name = &#39;Jack&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-232-1">1</a></span>
<span class="normal"><a href="#__codelineno-232-2">2</a></span>
<span class="normal"><a href="#__codelineno-232-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-232-1"><a id="__codelineno-232-1" name="__codelineno-232-1"></a> [applied]
</span><span id="__span-232-2"><a id="__codelineno-232-2" name="__codelineno-232-2"></a>-----------
</span><span id="__span-232-3"><a id="__codelineno-232-3" name="__codelineno-232-3"></a>      True
</span></code></pre></div></td></tr></table></div>
<p>使用upstart语义添加行，年龄未设置，因此将为“null”。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-233-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-233-1"><a id="__codelineno-233-1" name="__codelineno-233-1"></a>UPDATE employees SET name = &#39;Joe&#39; WHERE department_id = 2 AND employee_id = 1 IF NOT EXISTS;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-234-1">1</a></span>
<span class="normal"><a href="#__codelineno-234-2">2</a></span>
<span class="normal"><a href="#__codelineno-234-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-234-1"><a id="__codelineno-234-1" name="__codelineno-234-1"></a> [applied]
</span><span id="__span-234-2"><a id="__codelineno-234-2" name="__codelineno-234-2"></a>-----------
</span><span id="__span-234-3"><a id="__codelineno-234-3" name="__codelineno-234-3"></a>      True
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-235-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-235-1"><a id="__codelineno-235-1" name="__codelineno-235-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-236-1">1</a></span>
<span class="normal"><a href="#__codelineno-236-2">2</a></span>
<span class="normal"><a href="#__codelineno-236-3">3</a></span>
<span class="normal"><a href="#__codelineno-236-4">4</a></span>
<span class="normal"><a href="#__codelineno-236-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-236-1"><a id="__codelineno-236-1" name="__codelineno-236-1"></a>  department_id | employee_id | name | age
</span><span id="__span-236-2"><a id="__codelineno-236-2" name="__codelineno-236-2"></a>---------------+-------------+------+------
</span><span id="__span-236-3"><a id="__codelineno-236-3" name="__codelineno-236-3"></a>             1 |           1 | Jack |   31
</span><span id="__span-236-4"><a id="__codelineno-236-4" name="__codelineno-236-4"></a>             1 |           2 | Jane |   40
</span><span id="__span-236-5"><a id="__codelineno-236-5" name="__codelineno-236-5"></a>             2 |           1 |  Joe | null
</span></code></pre></div></td></tr></table></div>
<p>3）使用USING TTL子句更新到期时间</p>
<p>更新后的值将持续TTL持续时间。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-237-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-237-1"><a id="__codelineno-237-1" name="__codelineno-237-1"></a>UPDATE employees USING TTL 10 SET age = 32 WHERE department_id = 1 AND employee_id = 1;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-238-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-238-1"><a id="__codelineno-238-1" name="__codelineno-238-1"></a>SELECT * FROM employees WHERE department_id = 1 AND employee_id = 1;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-239-1">1</a></span>
<span class="normal"><a href="#__codelineno-239-2">2</a></span>
<span class="normal"><a href="#__codelineno-239-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-239-1"><a id="__codelineno-239-1" name="__codelineno-239-1"></a> department_id | employee_id | name | age
</span><span id="__span-239-2"><a id="__codelineno-239-2" name="__codelineno-239-2"></a>---------------+-------------+------+------
</span><span id="__span-239-3"><a id="__codelineno-239-3" name="__codelineno-239-3"></a>             1 |           1 | Jack |   32
</span></code></pre></div></td></tr></table></div>
<p>更新后11秒（值将过期）。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-240-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-240-1"><a id="__codelineno-240-1" name="__codelineno-240-1"></a>SELECT * FROM employees WHERE department_id = 1 AND employee_id = 1;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-241-1">1</a></span>
<span class="normal"><a href="#__codelineno-241-2">2</a></span>
<span class="normal"><a href="#__codelineno-241-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-241-1"><a id="__codelineno-241-1" name="__codelineno-241-1"></a> department_id | employee_id | name | age
</span><span id="__span-241-2"><a id="__codelineno-241-2" name="__codelineno-241-2"></a>---------------+-------------+------+------
</span><span id="__span-241-3"><a id="__codelineno-241-3" name="__codelineno-241-3"></a>             1 |           1 | Jack | null
</span></code></pre></div></td></tr></table></div>
<p>4）使用USING TIMESTAMP子句更新行 
您可以按如下方式执行此操作：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-242-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-242-1"><a id="__codelineno-242-1" name="__codelineno-242-1"></a>INSERT INTO employees(department_id, employee_id, name, age) VALUES (1, 4, &#39;Jeff&#39;, 20) USING TIMESTAMP 1000;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-243-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-243-1"><a id="__codelineno-243-1" name="__codelineno-243-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-244-1">1</a></span>
<span class="normal"><a href="#__codelineno-244-2">2</a></span>
<span class="normal"><a href="#__codelineno-244-3">3</a></span>
<span class="normal"><a href="#__codelineno-244-4">4</a></span>
<span class="normal"><a href="#__codelineno-244-5">5</a></span>
<span class="normal"><a href="#__codelineno-244-6">6</a></span>
<span class="normal"><a href="#__codelineno-244-7">7</a></span>
<span class="normal"><a href="#__codelineno-244-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-244-1"><a id="__codelineno-244-1" name="__codelineno-244-1"></a> department_id | employee_id | name | age
</span><span id="__span-244-2"><a id="__codelineno-244-2" name="__codelineno-244-2"></a>---------------+-------------+------+------
</span><span id="__span-244-3"><a id="__codelineno-244-3" name="__codelineno-244-3"></a>             1 |           1 | Jack | null
</span><span id="__span-244-4"><a id="__codelineno-244-4" name="__codelineno-244-4"></a>             1 |           2 | Jane |   40
</span><span id="__span-244-5"><a id="__codelineno-244-5" name="__codelineno-244-5"></a>             1 |           4 | Jeff |   20
</span><span id="__span-244-6"><a id="__codelineno-244-6" name="__codelineno-244-6"></a>             2 |           1 |  Joe | null
</span><span id="__span-244-7"><a id="__codelineno-244-7" name="__codelineno-244-7"></a>
</span><span id="__span-244-8"><a id="__codelineno-244-8" name="__codelineno-244-8"></a>(4 rows)
</span></code></pre></div></td></tr></table></div>
<p>现在更新employees表：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-245-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-245-1"><a id="__codelineno-245-1" name="__codelineno-245-1"></a>UPDATE employees USING TIMESTAMP 500 SET age = 30 WHERE department_id = 1 AND employee_id = 4;
</span></code></pre></div></td></tr></table></div>
<p>由于时间戳低于1000，因此未应用。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-246-1">1</a></span>
<span class="normal"><a href="#__codelineno-246-2">2</a></span>
<span class="normal"><a href="#__codelineno-246-3">3</a></span>
<span class="normal"><a href="#__codelineno-246-4">4</a></span>
<span class="normal"><a href="#__codelineno-246-5">5</a></span>
<span class="normal"><a href="#__codelineno-246-6">6</a></span>
<span class="normal"><a href="#__codelineno-246-7">7</a></span>
<span class="normal"><a href="#__codelineno-246-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-246-1"><a id="__codelineno-246-1" name="__codelineno-246-1"></a> department_id | employee_id | name | age
</span><span id="__span-246-2"><a id="__codelineno-246-2" name="__codelineno-246-2"></a>---------------+-------------+------+------
</span><span id="__span-246-3"><a id="__codelineno-246-3" name="__codelineno-246-3"></a>             1 |           1 | Jack | null
</span><span id="__span-246-4"><a id="__codelineno-246-4" name="__codelineno-246-4"></a>             1 |           2 | Jane |   40
</span><span id="__span-246-5"><a id="__codelineno-246-5" name="__codelineno-246-5"></a>             1 |           4 | Jeff |   20
</span><span id="__span-246-6"><a id="__codelineno-246-6" name="__codelineno-246-6"></a>             2 |           1 |  Joe | null
</span><span id="__span-246-7"><a id="__codelineno-246-7" name="__codelineno-246-7"></a>
</span><span id="__span-246-8"><a id="__codelineno-246-8" name="__codelineno-246-8"></a>(4 rows)
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-247-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-247-1"><a id="__codelineno-247-1" name="__codelineno-247-1"></a>UPDATE employees USING TIMESTAMP 1500 SET age = 30 WHERE department_id = 1 AND employee_id = 4;
</span></code></pre></div></td></tr></table></div>
<p>已应用，因为时间戳高于1000。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-248-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-248-1"><a id="__codelineno-248-1" name="__codelineno-248-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-249-1">1</a></span>
<span class="normal"><a href="#__codelineno-249-2">2</a></span>
<span class="normal"><a href="#__codelineno-249-3">3</a></span>
<span class="normal"><a href="#__codelineno-249-4">4</a></span>
<span class="normal"><a href="#__codelineno-249-5">5</a></span>
<span class="normal"><a href="#__codelineno-249-6">6</a></span>
<span class="normal"><a href="#__codelineno-249-7">7</a></span>
<span class="normal"><a href="#__codelineno-249-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-249-1"><a id="__codelineno-249-1" name="__codelineno-249-1"></a> department_id | employee_id | name | age
</span><span id="__span-249-2"><a id="__codelineno-249-2" name="__codelineno-249-2"></a>---------------+-------------+------+------
</span><span id="__span-249-3"><a id="__codelineno-249-3" name="__codelineno-249-3"></a>             1 |           1 | Jack | null
</span><span id="__span-249-4"><a id="__codelineno-249-4" name="__codelineno-249-4"></a>             1 |           2 | Jane |   40
</span><span id="__span-249-5"><a id="__codelineno-249-5" name="__codelineno-249-5"></a>             1 |           4 | Jeff |   30
</span><span id="__span-249-6"><a id="__codelineno-249-6" name="__codelineno-249-6"></a>             2 |           1 |  Joe | null
</span><span id="__span-249-7"><a id="__codelineno-249-7" name="__codelineno-249-7"></a>
</span><span id="__span-249-8"><a id="__codelineno-249-8" name="__codelineno-249-8"></a>(4 rows)
</span></code></pre></div></td></tr></table></div>
<p>将状态返回为行 
在BCQL中执行批处理时，协议只返回一个错误或返回状态。RETURNS STATUS AS ROW功能解决了这一限制，并为每条语句添加了一个状态行。</p>
<h2 id="delete"><strong>DELETE</strong><a class="headerlink" href="#delete" title="Permanent link">&para;</a></h2>
<p>使用DELETE语句从指定表中删除满足给定条件的行。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-250-1">1</a></span>
<span class="normal"><a href="#__codelineno-250-2">2</a></span>
<span class="normal"><a href="#__codelineno-250-3">3</a></span>
<span class="normal"><a href="#__codelineno-250-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-250-1"><a id="__codelineno-250-1" name="__codelineno-250-1"></a>delete ::= DELETE FROM table_name
</span><span id="__span-250-2"><a id="__codelineno-250-2" name="__codelineno-250-2"></a>               [ USING TIMESTAMP timestamp_expression ] WHERE
</span><span id="__span-250-3"><a id="__codelineno-250-3" name="__codelineno-250-3"></a>               where_expression [ IF { [ NOT ] EXISTS | if_expression } ]
</span><span id="__span-250-4"><a id="__codelineno-250-4" name="__codelineno-250-4"></a>               [ RETURNS STATUS AS ROW ]
</span></code></pre></div></td></tr></table></div>
<ul>
<li>table_name是一个标识符（可能使用键空间名称限定）。 </li>
<li>语义部分介绍了where_expression和if_expression的限制。 </li>
</ul>
<p>描述：</p>
<ul>
<li>如果指定的table_name不存在，则会引发错误。 </li>
<li>where表达式和if表达式的计算结果必须为布尔值。 </li>
<li>USING TIMESTAMP子句表示您希望执行DELETE，就好像它是在用户提供的时间戳执行的一样。时间戳是自epoch以来的微秒数。 </li>
<li>注意：您应该在所有语句中使用USING TIMESTAMP子句，或者不在其中使用。在某些语句具有Using TIMESTAMP而另一些语句没有的情况下混合使用语句将导致非常混乱的结果。 </li>
<li>无论设置如何，DELETE始终在QUORUM一致性级别执行</li>
</ul>
<p>WHERE子句 
where_expression必须为所有主键列指定条件。 
where_expression不能为任何常规列指定条件。 
where_expression只能应用AND和 = 运算符。尚不支持其他运算符。</p>
<p>IF子句 </p>
<ul>
<li>if_expression只能应用于非键列（常规列）。 </li>
<li>if_expression可以包含任何逻辑运算符和布尔运算符。 </li>
<li>目前还不支持仅从行中删除某些列值。 </li>
<li>IF EXISTS和IF NOT EXISTS选项主要用于与INSERT和UPDATE命令对称。 </li>
<li>IF EXISTS的工作方式与普通删除类似，但还返回是否应用了删除（找到了具有该主键的行）。 </li>
<li>IF NOT EXISTS实际上是一个no-op，因为不存在的行无法删除（但返回是否没有找到具有该主键的行）。</li>
</ul>
<p>USING子句 </p>
<ul>
<li>timestamp_expression必须是一个整数值（或为预编译语句的绑定变量标记）。</li>
</ul>
<p>示例：
1）从表中删除行</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-251-1">1</a></span>
<span class="normal"><a href="#__codelineno-251-2">2</a></span>
<span class="normal"><a href="#__codelineno-251-3">3</a></span>
<span class="normal"><a href="#__codelineno-251-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-251-1"><a id="__codelineno-251-1" name="__codelineno-251-1"></a>CREATE TABLE employees(department_id INT,
</span><span id="__span-251-2"><a id="__codelineno-251-2" name="__codelineno-251-2"></a>                        employee_id INT,
</span><span id="__span-251-3"><a id="__codelineno-251-3" name="__codelineno-251-3"></a>                        name TEXT,
</span><span id="__span-251-4"><a id="__codelineno-251-4" name="__codelineno-251-4"></a>                        PRIMARY KEY(department_id, employee_id));
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-252-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-252-1"><a id="__codelineno-252-1" name="__codelineno-252-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (1, 1, &#39;John&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-253-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-253-1"><a id="__codelineno-253-1" name="__codelineno-253-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (1, 2, &#39;Jane&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-254-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-254-1"><a id="__codelineno-254-1" name="__codelineno-254-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (2, 1, &#39;Joe&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-255-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-255-1"><a id="__codelineno-255-1" name="__codelineno-255-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-256-1">1</a></span>
<span class="normal"><a href="#__codelineno-256-2">2</a></span>
<span class="normal"><a href="#__codelineno-256-3">3</a></span>
<span class="normal"><a href="#__codelineno-256-4">4</a></span>
<span class="normal"><a href="#__codelineno-256-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-256-1"><a id="__codelineno-256-1" name="__codelineno-256-1"></a>  department_id | employee_id | name
</span><span id="__span-256-2"><a id="__codelineno-256-2" name="__codelineno-256-2"></a>---------------+-------------+------
</span><span id="__span-256-3"><a id="__codelineno-256-3" name="__codelineno-256-3"></a>             1 |           1 | John
</span><span id="__span-256-4"><a id="__codelineno-256-4" name="__codelineno-256-4"></a>             1 |           2 | Jane
</span><span id="__span-256-5"><a id="__codelineno-256-5" name="__codelineno-256-5"></a>             2 |           1 |  Joe
</span></code></pre></div></td></tr></table></div>
<p>Delete语句通过主键列来标识行。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-257-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-257-1"><a id="__codelineno-257-1" name="__codelineno-257-1"></a>DELETE FROM employees WHERE department_id = 1 AND employee_id = 1;
</span></code></pre></div></td></tr></table></div>
<p>对不存在的行的删除没有操作。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-258-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-258-1"><a id="__codelineno-258-1" name="__codelineno-258-1"></a>DELETE FROM employees WHERE department_id = 3 AND employee_id = 1;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-259-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-259-1"><a id="__codelineno-259-1" name="__codelineno-259-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-260-1">1</a></span>
<span class="normal"><a href="#__codelineno-260-2">2</a></span>
<span class="normal"><a href="#__codelineno-260-3">3</a></span>
<span class="normal"><a href="#__codelineno-260-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-260-1"><a id="__codelineno-260-1" name="__codelineno-260-1"></a> department_id | employee_id | name
</span><span id="__span-260-2"><a id="__codelineno-260-2" name="__codelineno-260-2"></a>---------------+-------------+------
</span><span id="__span-260-3"><a id="__codelineno-260-3" name="__codelineno-260-3"></a>             1 |           2 | Jane
</span><span id="__span-260-4"><a id="__codelineno-260-4" name="__codelineno-260-4"></a>             2 |           1 |  Joe
</span></code></pre></div></td></tr></table></div>
<p>2）使用IF子句删除
“IF”子句条件将返回是否应用它们。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-261-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-261-1"><a id="__codelineno-261-1" name="__codelineno-261-1"></a>DELETE FROM employees WHERE department_id = 2 AND employee_id = 1 IF name = &#39;Joe&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-262-1">1</a></span>
<span class="normal"><a href="#__codelineno-262-2">2</a></span>
<span class="normal"><a href="#__codelineno-262-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-262-1"><a id="__codelineno-262-1" name="__codelineno-262-1"></a> [applied]
</span><span id="__span-262-2"><a id="__codelineno-262-2" name="__codelineno-262-2"></a>-----------
</span><span id="__span-262-3"><a id="__codelineno-262-3" name="__codelineno-262-3"></a>      True
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-263-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-263-1"><a id="__codelineno-263-1" name="__codelineno-263-1"></a>DELETE FROM employees WHERE department_id = 3 AND employee_id = 1 IF EXISTS;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-264-1">1</a></span>
<span class="normal"><a href="#__codelineno-264-2">2</a></span>
<span class="normal"><a href="#__codelineno-264-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-264-1"><a id="__codelineno-264-1" name="__codelineno-264-1"></a> [applied]
</span><span id="__span-264-2"><a id="__codelineno-264-2" name="__codelineno-264-2"></a>-----------
</span><span id="__span-264-3"><a id="__codelineno-264-3" name="__codelineno-264-3"></a>     False
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-265-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-265-1"><a id="__codelineno-265-1" name="__codelineno-265-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-266-1">1</a></span>
<span class="normal"><a href="#__codelineno-266-2">2</a></span>
<span class="normal"><a href="#__codelineno-266-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-266-1"><a id="__codelineno-266-1" name="__codelineno-266-1"></a> department_id | employee_id | name
</span><span id="__span-266-2"><a id="__codelineno-266-2" name="__codelineno-266-2"></a>---------------+-------------+------
</span><span id="__span-266-3"><a id="__codelineno-266-3" name="__codelineno-266-3"></a>             1 |           2 | Jane
</span></code></pre></div></td></tr></table></div>
<p>3）删除具有相同分区键的几行</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-267-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-267-1"><a id="__codelineno-267-1" name="__codelineno-267-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (1, 1, &#39;John&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-268-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-268-1"><a id="__codelineno-268-1" name="__codelineno-268-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (2, 1, &#39;Joe&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-269-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-269-1"><a id="__codelineno-269-1" name="__codelineno-269-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (2, 2, &#39;Jack&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-270-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-270-1"><a id="__codelineno-270-1" name="__codelineno-270-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-271-1">1</a></span>
<span class="normal"><a href="#__codelineno-271-2">2</a></span>
<span class="normal"><a href="#__codelineno-271-3">3</a></span>
<span class="normal"><a href="#__codelineno-271-4">4</a></span>
<span class="normal"><a href="#__codelineno-271-5">5</a></span>
<span class="normal"><a href="#__codelineno-271-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-271-1"><a id="__codelineno-271-1" name="__codelineno-271-1"></a> department_id | employee_id | name
</span><span id="__span-271-2"><a id="__codelineno-271-2" name="__codelineno-271-2"></a>---------------+-------------+------
</span><span id="__span-271-3"><a id="__codelineno-271-3" name="__codelineno-271-3"></a>             1 |           1 | John
</span><span id="__span-271-4"><a id="__codelineno-271-4" name="__codelineno-271-4"></a>             1 |           2 | Jane
</span><span id="__span-271-5"><a id="__codelineno-271-5" name="__codelineno-271-5"></a>             2 |           1 |  Joe
</span><span id="__span-271-6"><a id="__codelineno-271-6" name="__codelineno-271-6"></a>             2 |           2 | Jack
</span></code></pre></div></td></tr></table></div>
<p>删除分区键的所有条目。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-272-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-272-1"><a id="__codelineno-272-1" name="__codelineno-272-1"></a>DELETE FROM employees WHERE department_id = 1;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-273-1">1</a></span>
<span class="normal"><a href="#__codelineno-273-2">2</a></span>
<span class="normal"><a href="#__codelineno-273-3">3</a></span>
<span class="normal"><a href="#__codelineno-273-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-273-1"><a id="__codelineno-273-1" name="__codelineno-273-1"></a> department_id | employee_id | name
</span><span id="__span-273-2"><a id="__codelineno-273-2" name="__codelineno-273-2"></a>---------------+-------------+------
</span><span id="__span-273-3"><a id="__codelineno-273-3" name="__codelineno-273-3"></a>             2 |           1 |  Joe
</span><span id="__span-273-4"><a id="__codelineno-273-4" name="__codelineno-273-4"></a>             2 |           2 | Jack
</span></code></pre></div></td></tr></table></div>
<p>删除分区键中的一系列条目。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-274-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-274-1"><a id="__codelineno-274-1" name="__codelineno-274-1"></a>DELETE FROM employees WHERE department_id = 2 AND employee_id &gt;= 2 AND employee_id &lt; 4;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-275-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-275-1"><a id="__codelineno-275-1" name="__codelineno-275-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-276-1">1</a></span>
<span class="normal"><a href="#__codelineno-276-2">2</a></span>
<span class="normal"><a href="#__codelineno-276-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-276-1"><a id="__codelineno-276-1" name="__codelineno-276-1"></a> department_id | employee_id | name
</span><span id="__span-276-2"><a id="__codelineno-276-2" name="__codelineno-276-2"></a>---------------+-------------+------
</span><span id="__span-276-3"><a id="__codelineno-276-3" name="__codelineno-276-3"></a>             2 |           1 |  Joe
</span></code></pre></div></td></tr></table></div>
<p>使用USING TIMESTAMP子句删除</p>
<p>您可以按如下方式执行此操作：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-277-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-277-1"><a id="__codelineno-277-1" name="__codelineno-277-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (4, 4, &#39;Ted&#39;) USING TIMESTAMP 1000;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-278-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-278-1"><a id="__codelineno-278-1" name="__codelineno-278-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-279-1">1</a></span>
<span class="normal"><a href="#__codelineno-279-2">2</a></span>
<span class="normal"><a href="#__codelineno-279-3">3</a></span>
<span class="normal"><a href="#__codelineno-279-4">4</a></span>
<span class="normal"><a href="#__codelineno-279-5">5</a></span>
<span class="normal"><a href="#__codelineno-279-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-279-1"><a id="__codelineno-279-1" name="__codelineno-279-1"></a> department_id | employee_id | name
</span><span id="__span-279-2"><a id="__codelineno-279-2" name="__codelineno-279-2"></a>---------------+-------------+------
</span><span id="__span-279-3"><a id="__codelineno-279-3" name="__codelineno-279-3"></a>             4 |           4 |  Ted
</span><span id="__span-279-4"><a id="__codelineno-279-4" name="__codelineno-279-4"></a>             2 |           1 |  Joe
</span><span id="__span-279-5"><a id="__codelineno-279-5" name="__codelineno-279-5"></a>
</span><span id="__span-279-6"><a id="__codelineno-279-6" name="__codelineno-279-6"></a>(2 rows)
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-280-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-280-1"><a id="__codelineno-280-1" name="__codelineno-280-1"></a>DELETE FROM employees USING TIMESTAMP 500 WHERE department_id = 4 AND employee_id = 4;
</span></code></pre></div></td></tr></table></div>
<p>由于时间戳低于1000，因此未应用</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-281-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-281-1"><a id="__codelineno-281-1" name="__codelineno-281-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-282-1">1</a></span>
<span class="normal"><a href="#__codelineno-282-2">2</a></span>
<span class="normal"><a href="#__codelineno-282-3">3</a></span>
<span class="normal"><a href="#__codelineno-282-4">4</a></span>
<span class="normal"><a href="#__codelineno-282-5">5</a></span>
<span class="normal"><a href="#__codelineno-282-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-282-1"><a id="__codelineno-282-1" name="__codelineno-282-1"></a> department_id | employee_id | name
</span><span id="__span-282-2"><a id="__codelineno-282-2" name="__codelineno-282-2"></a>---------------+-------------+------
</span><span id="__span-282-3"><a id="__codelineno-282-3" name="__codelineno-282-3"></a>             4 |           4 |  Ted
</span><span id="__span-282-4"><a id="__codelineno-282-4" name="__codelineno-282-4"></a>             2 |           1 |  Joe
</span><span id="__span-282-5"><a id="__codelineno-282-5" name="__codelineno-282-5"></a>
</span><span id="__span-282-6"><a id="__codelineno-282-6" name="__codelineno-282-6"></a>(2 rows)
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-283-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-283-1"><a id="__codelineno-283-1" name="__codelineno-283-1"></a>DELETE FROM employees USING TIMESTAMP 1500 WHERE department_id = 4 AND employee_id = 4;
</span></code></pre></div></td></tr></table></div>
<p>已应用，因为时间戳高于1000。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-284-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-284-1"><a id="__codelineno-284-1" name="__codelineno-284-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-285-1">1</a></span>
<span class="normal"><a href="#__codelineno-285-2">2</a></span>
<span class="normal"><a href="#__codelineno-285-3">3</a></span>
<span class="normal"><a href="#__codelineno-285-4">4</a></span>
<span class="normal"><a href="#__codelineno-285-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-285-1"><a id="__codelineno-285-1" name="__codelineno-285-1"></a> department_id | employee_id | name
</span><span id="__span-285-2"><a id="__codelineno-285-2" name="__codelineno-285-2"></a>---------------+-------------+------
</span><span id="__span-285-3"><a id="__codelineno-285-3" name="__codelineno-285-3"></a>             2 |           1 |  Joe
</span><span id="__span-285-4"><a id="__codelineno-285-4" name="__codelineno-285-4"></a>
</span><span id="__span-285-5"><a id="__codelineno-285-5" name="__codelineno-285-5"></a>(1 rows)
</span></code></pre></div></td></tr></table></div>
<p>将状态返回为行 
在BCQL中执行批处理时，协议只返回一个错误或返回状态。RETURNS STATUS AS ROW功能解决了这一限制，并为每条语句添加了一个状态行。</p>
<h2 id="transaction"><strong>TRANSACTION</strong><a class="headerlink" href="#transaction" title="Permanent link">&para;</a></h2>
<p>使用TRANSACTION语句块可以更改分布式ACID事务中一个或多个表中的多行。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-286-1">1</a></span>
<span class="normal"><a href="#__codelineno-286-2">2</a></span>
<span class="normal"><a href="#__codelineno-286-3">3</a></span>
<span class="normal"><a href="#__codelineno-286-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-286-1"><a id="__codelineno-286-1" name="__codelineno-286-1"></a>transaction_block ::= BEGIN TRANSACTION
</span><span id="__span-286-2"><a id="__codelineno-286-2" name="__codelineno-286-2"></a>                          ( insert | update | delete ) &#39;;&#39;
</span><span id="__span-286-3"><a id="__codelineno-286-3" name="__codelineno-286-3"></a>                          [ ( insert | update | delete ) &#39;;&#39; ...]
</span><span id="__span-286-4"><a id="__codelineno-286-4" name="__codelineno-286-4"></a>                      END TRANSACTION &#39;;&#39;
</span></code></pre></div></td></tr></table></div>
<p>其中，insert、update和delete是insert、update和delete语句。 </p>
<ul>
<li>使用BEGIN TRANSACTION时，不使用分号。使用END  TRANSACTION 结束事务块；（用分号）。 </li>
<li>对于使用BEGIN启动的事务，没有COMMIT。</li>
</ul>
<p>BCQL还支持SQL START TRANSACTION和COMMIT语句。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-287-1">1</a></span>
<span class="normal"><a href="#__codelineno-287-2">2</a></span>
<span class="normal"><a href="#__codelineno-287-3">3</a></span>
<span class="normal"><a href="#__codelineno-287-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-287-1"><a id="__codelineno-287-1" name="__codelineno-287-1"></a>transaction_block ::= START TRANSACTION &#39;;&#39;
</span><span id="__span-287-2"><a id="__codelineno-287-2" name="__codelineno-287-2"></a>                      ( insert | update | delete ) &#39;;&#39;
</span><span id="__span-287-3"><a id="__codelineno-287-3" name="__codelineno-287-3"></a>                      [ ( insert | update | delete ) &#39;;&#39; ...]
</span><span id="__span-287-4"><a id="__codelineno-287-4" name="__codelineno-287-4"></a>                      COMMIT &#39;;&#39;
</span></code></pre></div></td></tr></table></div>
<ul>
<li>使用START TRANSACTION时，必须使用分号。使用COMMIT；结束事务块；。 </li>
<li>对于使用START启动的事务，不能使用END TRANSACTION</li>
</ul>
<p>描述：</p>
<ul>
<li>如果未在插入、更新或删除的任何表中启用事务，则会引发错误。 </li>
<li>目前，如果INSERT、UPDATE或DELETE语句中的任何一个包含IF 子句，则会引发错误。 </li>
<li>如果为表启用了事务，则其索引也必须启用事务，反之亦然。 </li>
<li>没有显式回滚。若要回滚事务，请中止或中断客户端会话。 </li>
<li>DDL总是在事务块之外执行，就像事务块之外的DML一样，会立即提交。 </li>
<li>在事务块内部，只允许插入、更新和删除语句。不允许使用Select语句。 </li>
<li>事务块内的insert、update和delete语句不能有任何if_expression。</li>
</ul>
<p>示例：
创建启用了事务的表</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-288-1">1</a></span>
<span class="normal"><a href="#__codelineno-288-2">2</a></span>
<span class="normal"><a href="#__codelineno-288-3">3</a></span>
<span class="normal"><a href="#__codelineno-288-4">4</a></span>
<span class="normal"><a href="#__codelineno-288-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-288-1"><a id="__codelineno-288-1" name="__codelineno-288-1"></a>CREATE TABLE accounts (account_name TEXT,
</span><span id="__span-288-2"><a id="__codelineno-288-2" name="__codelineno-288-2"></a>                                      account_type TEXT,
</span><span id="__span-288-3"><a id="__codelineno-288-3" name="__codelineno-288-3"></a>                                      balance DOUBLE,
</span><span id="__span-288-4"><a id="__codelineno-288-4" name="__codelineno-288-4"></a>                                      PRIMARY KEY ((account_name), account_type))
</span><span id="__span-288-5"><a id="__codelineno-288-5" name="__codelineno-288-5"></a>               WITH transactions = { &#39;enabled&#39; : true };
</span></code></pre></div></td></tr></table></div>
<p>插入数据：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-289-1">1</a></span>
<span class="normal"><a href="#__codelineno-289-2">2</a></span>
<span class="normal"><a href="#__codelineno-289-3">3</a></span>
<span class="normal"><a href="#__codelineno-289-4">4</a></span>
<span class="normal"><a href="#__codelineno-289-5">5</a></span>
<span class="normal"><a href="#__codelineno-289-6">6</a></span>
<span class="normal"><a href="#__codelineno-289-7">7</a></span>
<span class="normal"><a href="#__codelineno-289-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-289-1"><a id="__codelineno-289-1" name="__codelineno-289-1"></a>INSERT INTO accounts (account_name, account_type, balance)
</span><span id="__span-289-2"><a id="__codelineno-289-2" name="__codelineno-289-2"></a>               VALUES (&#39;John&#39;, &#39;savings&#39;, 1000);
</span><span id="__span-289-3"><a id="__codelineno-289-3" name="__codelineno-289-3"></a>INSERT INTO accounts (account_name, account_type, balance)
</span><span id="__span-289-4"><a id="__codelineno-289-4" name="__codelineno-289-4"></a>               VALUES (&#39;John&#39;, &#39;checking&#39;, 100);
</span><span id="__span-289-5"><a id="__codelineno-289-5" name="__codelineno-289-5"></a>INSERT INTO accounts (account_name, account_type, balance)
</span><span id="__span-289-6"><a id="__codelineno-289-6" name="__codelineno-289-6"></a>               VALUES (&#39;Smith&#39;, &#39;savings&#39;, 2000);
</span><span id="__span-289-7"><a id="__codelineno-289-7" name="__codelineno-289-7"></a>INSERT INTO accounts (account_name, account_type, balance)
</span><span id="__span-289-8"><a id="__codelineno-289-8" name="__codelineno-289-8"></a>               VALUES (&#39;Smith&#39;, &#39;checking&#39;, 50);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-290-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-290-1"><a id="__codelineno-290-1" name="__codelineno-290-1"></a>SELECT account_name, account_type, balance, writetime(balance) FROM accounts;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-291-1">1</a></span>
<span class="normal"><a href="#__codelineno-291-2">2</a></span>
<span class="normal"><a href="#__codelineno-291-3">3</a></span>
<span class="normal"><a href="#__codelineno-291-4">4</a></span>
<span class="normal"><a href="#__codelineno-291-5">5</a></span>
<span class="normal"><a href="#__codelineno-291-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-291-1"><a id="__codelineno-291-1" name="__codelineno-291-1"></a> account_name | account_type | balance | writetime(balance)
</span><span id="__span-291-2"><a id="__codelineno-291-2" name="__codelineno-291-2"></a>--------------+--------------+---------+--------------------
</span><span id="__span-291-3"><a id="__codelineno-291-3" name="__codelineno-291-3"></a>         John |     checking |     100 |   1523313964356489
</span><span id="__span-291-4"><a id="__codelineno-291-4" name="__codelineno-291-4"></a>         John |      savings |    1000 |   1523313964350449
</span><span id="__span-291-5"><a id="__codelineno-291-5" name="__codelineno-291-5"></a>        Smith |     checking |      50 |   1523313964371579
</span><span id="__span-291-6"><a id="__codelineno-291-6" name="__codelineno-291-6"></a>        Smith |      savings |    2000 |   1523313964363056
</span></code></pre></div></td></tr></table></div>
<p>使用相同的分区键更新2行：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-292-1">1</a></span>
<span class="normal"><a href="#__codelineno-292-2">2</a></span>
<span class="normal"><a href="#__codelineno-292-3">3</a></span>
<span class="normal"><a href="#__codelineno-292-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-292-1"><a id="__codelineno-292-1" name="__codelineno-292-1"></a>BEGIN TRANSACTION
</span><span id="__span-292-2"><a id="__codelineno-292-2" name="__codelineno-292-2"></a>                 UPDATE accounts SET balance = balance - 200 WHERE account_name = &#39;John&#39; AND account_type = &#39;savings&#39;;
</span><span id="__span-292-3"><a id="__codelineno-292-3" name="__codelineno-292-3"></a>                 UPDATE accounts SET balance = balance + 200 WHERE account_name = &#39;John&#39; AND account_type = &#39;checking&#39;;
</span><span id="__span-292-4"><a id="__codelineno-292-4" name="__codelineno-292-4"></a>               END TRANSACTION;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-293-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-293-1"><a id="__codelineno-293-1" name="__codelineno-293-1"></a>SELECT account_name, account_type, balance, writetime(balance) FROM accounts;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-294-1">1</a></span>
<span class="normal"><a href="#__codelineno-294-2">2</a></span>
<span class="normal"><a href="#__codelineno-294-3">3</a></span>
<span class="normal"><a href="#__codelineno-294-4">4</a></span>
<span class="normal"><a href="#__codelineno-294-5">5</a></span>
<span class="normal"><a href="#__codelineno-294-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-294-1"><a id="__codelineno-294-1" name="__codelineno-294-1"></a> account_name | account_type | balance | writetime(balance)
</span><span id="__span-294-2"><a id="__codelineno-294-2" name="__codelineno-294-2"></a>--------------+--------------+---------+--------------------
</span><span id="__span-294-3"><a id="__codelineno-294-3" name="__codelineno-294-3"></a>         John |     checking |     300 |   1523313983201270
</span><span id="__span-294-4"><a id="__codelineno-294-4" name="__codelineno-294-4"></a>         John |      savings |     800 |   1523313983201270
</span><span id="__span-294-5"><a id="__codelineno-294-5" name="__codelineno-294-5"></a>        Smith |     checking |      50 |   1523313964371579
</span><span id="__span-294-6"><a id="__codelineno-294-6" name="__codelineno-294-6"></a>        Smith |      savings |    2000 |   1523313964363056
</span></code></pre></div></td></tr></table></div>
<p>使用不同的分区键更新2行：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-295-1">1</a></span>
<span class="normal"><a href="#__codelineno-295-2">2</a></span>
<span class="normal"><a href="#__codelineno-295-3">3</a></span>
<span class="normal"><a href="#__codelineno-295-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-295-1"><a id="__codelineno-295-1" name="__codelineno-295-1"></a>BEGIN TRANSACTION
</span><span id="__span-295-2"><a id="__codelineno-295-2" name="__codelineno-295-2"></a>                 UPDATE accounts SET balance = balance - 200 WHERE account_name = &#39;John&#39; AND account_type = &#39;checking&#39;;
</span><span id="__span-295-3"><a id="__codelineno-295-3" name="__codelineno-295-3"></a>                 UPDATE accounts SET balance = balance + 200 WHERE account_name = &#39;Smith&#39; AND account_type = &#39;checking&#39;;
</span><span id="__span-295-4"><a id="__codelineno-295-4" name="__codelineno-295-4"></a>               END TRANSACTION;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-296-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-296-1"><a id="__codelineno-296-1" name="__codelineno-296-1"></a>SELECT account_name, account_type, balance, writetime(balance) FROM accounts;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-297-1">1</a></span>
<span class="normal"><a href="#__codelineno-297-2">2</a></span>
<span class="normal"><a href="#__codelineno-297-3">3</a></span>
<span class="normal"><a href="#__codelineno-297-4">4</a></span>
<span class="normal"><a href="#__codelineno-297-5">5</a></span>
<span class="normal"><a href="#__codelineno-297-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-297-1"><a id="__codelineno-297-1" name="__codelineno-297-1"></a> account_name | account_type | balance | writetime(balance)
</span><span id="__span-297-2"><a id="__codelineno-297-2" name="__codelineno-297-2"></a>--------------+--------------+---------+--------------------
</span><span id="__span-297-3"><a id="__codelineno-297-3" name="__codelineno-297-3"></a>         John |     checking |     100 |   1523314002218558
</span><span id="__span-297-4"><a id="__codelineno-297-4" name="__codelineno-297-4"></a>         John |      savings |     800 |   1523313983201270
</span><span id="__span-297-5"><a id="__codelineno-297-5" name="__codelineno-297-5"></a>        Smith |     checking |     250 |   1523314002218558
</span><span id="__span-297-6"><a id="__codelineno-297-6" name="__codelineno-297-6"></a>        Smith |      savings |    2000 |   1523313964363056
</span></code></pre></div></td></tr></table></div>
<p>注意：
BEGIN/END TRANSACTION 当前不支持RETURNS STATUS AS ROW</p>
<h2 id="truncate"><strong>TRUNCATE</strong><a class="headerlink" href="#truncate" title="Permanent link">&para;</a></h2>
<p>使用TRUNCATE语句从指定的表中删除所有行</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-298-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-298-1"><a id="__codelineno-298-1" name="__codelineno-298-1"></a>truncate ::= TRUNCATE [ TABLE ] table_name;
</span></code></pre></div></td></tr></table></div>
<ul>
<li>table_name是一个标识符（可能使用键空间名称限定）。</li>
</ul>
<p>描述：</p>
<p>如果指定的表名称不存在，则会引发错误。</p>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-299-1">1</a></span>
<span class="normal"><a href="#__codelineno-299-2">2</a></span>
<span class="normal"><a href="#__codelineno-299-3">3</a></span>
<span class="normal"><a href="#__codelineno-299-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-299-1"><a id="__codelineno-299-1" name="__codelineno-299-1"></a>CREATE TABLE employees(department_id INT,
</span><span id="__span-299-2"><a id="__codelineno-299-2" name="__codelineno-299-2"></a>                        employee_id INT,
</span><span id="__span-299-3"><a id="__codelineno-299-3" name="__codelineno-299-3"></a>                        name TEXT,
</span><span id="__span-299-4"><a id="__codelineno-299-4" name="__codelineno-299-4"></a>                        PRIMARY KEY(department_id, employee_id));
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-300-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-300-1"><a id="__codelineno-300-1" name="__codelineno-300-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (1, 1, &#39;John&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-301-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-301-1"><a id="__codelineno-301-1" name="__codelineno-301-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (1, 2, &#39;Jane&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-302-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-302-1"><a id="__codelineno-302-1" name="__codelineno-302-1"></a>INSERT INTO employees(department_id, employee_id, name) VALUES (2, 1, &#39;Joe&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-303-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-303-1"><a id="__codelineno-303-1" name="__codelineno-303-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-304-1">1</a></span>
<span class="normal"><a href="#__codelineno-304-2">2</a></span>
<span class="normal"><a href="#__codelineno-304-3">3</a></span>
<span class="normal"><a href="#__codelineno-304-4">4</a></span>
<span class="normal"><a href="#__codelineno-304-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-304-1"><a id="__codelineno-304-1" name="__codelineno-304-1"></a> department_id | employee_id | name
</span><span id="__span-304-2"><a id="__codelineno-304-2" name="__codelineno-304-2"></a>---------------+-------------+------
</span><span id="__span-304-3"><a id="__codelineno-304-3" name="__codelineno-304-3"></a>             2 |           1 |  Joe
</span><span id="__span-304-4"><a id="__codelineno-304-4" name="__codelineno-304-4"></a>             1 |           1 | John
</span><span id="__span-304-5"><a id="__codelineno-304-5" name="__codelineno-304-5"></a>             1 |           2 | Jane
</span></code></pre></div></td></tr></table></div>
<p>从表中删除所有行。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-305-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-305-1"><a id="__codelineno-305-1" name="__codelineno-305-1"></a>TRUNCATE employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-306-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-306-1"><a id="__codelineno-306-1" name="__codelineno-306-1"></a>SELECT * FROM employees;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-307-1">1</a></span>
<span class="normal"><a href="#__codelineno-307-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-307-1"><a id="__codelineno-307-1" name="__codelineno-307-1"></a> department_id | employee_id | name
</span><span id="__span-307-2"><a id="__codelineno-307-2" name="__codelineno-307-2"></a>---------------+-------------+------
</span></code></pre></div></td></tr></table></div>
<h2 id="simple-expressions"><strong>Simple expressions</strong><a class="headerlink" href="#simple-expressions" title="Permanent link">&para;</a></h2>
<p>一个简单的表达式可以是列、常量或NULL。 </p>
<p>列表达式：
列表达式通过使用其名称来引用表中的列，该名称可以是完全限定名称，也可以是简单名称。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-308-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-308-1"><a id="__codelineno-308-1" name="__codelineno-308-1"></a>column_expression ::= [keyspace_name.][table_name.][column_name]
</span></code></pre></div></td></tr></table></div>
<p>常量表达式：
常量表达式通过使用文字来表示简单值。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-309-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-309-1"><a id="__codelineno-309-1" name="__codelineno-309-1"></a>constant_expression ::= string | number
</span></code></pre></div></td></tr></table></div>
<p>NULL：
当表达式（通常是列）没有值时，它表示为NULL。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-310-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-310-1"><a id="__codelineno-310-1" name="__codelineno-310-1"></a>null_expression ::= NULL
</span></code></pre></div></td></tr></table></div>
<h2 id="subscripted-expressions"><strong>Subscripted expressions</strong><a class="headerlink" href="#subscripted-expressions" title="Permanent link">&para;</a></h2>
<p>使用带下标的表达式可以访问多元素值中的元素，例如使用运算符[]访问映射集合。例如，如果ids指的是LIST类型的列，那么ids[7]指的是列表id的第7个元素，该元素可以在UPDATE语句中设置。 </p>
<ul>
<li>表达式只能应用于LIST、MAP或用户定义数据类型的列。 </li>
<li>使用非正索引LIST值将产生NULL。 </li>
<li>使用不存在的键的MAP值将产生NULL。否则，它将返回与给定键关联的元素值。 </li>
<li>Apache Cassandra不允许在select语句的选择列表中使用下标表达式。</li>
</ul>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-311-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-311-1"><a id="__codelineno-311-1" name="__codelineno-311-1"></a>CREATE TABLE t(id INT PRIMARY KEY,cmap MAP&lt;TEXT, TEXT&gt;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-312-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-312-1"><a id="__codelineno-312-1" name="__codelineno-312-1"></a>UPDATE t SET cmap [&#39;key_value&#39;] = &#39;map_string&#39; WHERE id = 7;
</span></code></pre></div></td></tr></table></div>
<h2 id="function-call"><strong>Function call</strong><a class="headerlink" href="#function-call" title="Permanent link">&para;</a></h2>
<p>使用函数调用表达式将指定的函数应用于括号之间的给定参数，并返回计算结果。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-313-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-313-1"><a id="__codelineno-313-1" name="__codelineno-313-1"></a>function_call ::= function_name &#39;(&#39; [ arguments ... ] &#39;)&#39;
</span></code></pre></div></td></tr></table></div>
<p>1）内置函数：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>返回类型</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>BlobAs<Type></td>
<td><Type></td>
<td>(BLOB)</td>
<td>从BLOB转换值</td>
</tr>
<tr>
<td><Type>AsBlob</td>
<td>BLOB</td>
<td>(<Type>)</td>
<td>将值转换为BLOB</td>
</tr>
<tr>
<td>DateOf</td>
<td>TIMESTAMP</td>
<td>(TIMEUUID)</td>
<td>转换</td>
</tr>
<tr>
<td>MaxTimeUuid</td>
<td>TIMEUUID</td>
<td>(TIMESTAMP)</td>
<td>返回关联的最大时间UUID</td>
</tr>
<tr>
<td>MinTimeUuid</td>
<td>TIMEUUID</td>
<td>(TIMESTAMP)</td>
<td>返回关联的最小时间UUID</td>
</tr>
<tr>
<td>CurrentDate</td>
<td>DATE</td>
<td>()</td>
<td>返回系统当前日期</td>
</tr>
<tr>
<td>CurrentTime</td>
<td>TIME</td>
<td>()</td>
<td>返回系统当前时间</td>
</tr>
<tr>
<td>CurrentTimestamp</td>
<td>TIMESTAMP</td>
<td>()</td>
<td>返回系统当前timestamp</td>
</tr>
<tr>
<td>Now</td>
<td>TIMEUUID</td>
<td>()</td>
<td>返回当前timestamp的UUID</td>
</tr>
<tr>
<td>TTL</td>
<td>BIGINT</td>
<td>(<AnyType>)</td>
<td>得到一个列的生命周期</td>
</tr>
<tr>
<td>ToDate</td>
<td>DATE</td>
<td>(TIMESTAMP)</td>
<td>转换</td>
</tr>
<tr>
<td>ToDate</td>
<td>DATE</td>
<td>(TIMEUUID)</td>
<td>转换</td>
</tr>
<tr>
<td>ToTime</td>
<td>TIME</td>
<td>(TIMESTAMP)</td>
<td>转换</td>
</tr>
<tr>
<td>ToTime</td>
<td>TIME</td>
<td>(TIMEUUID</td>
<td>转换</td>
</tr>
<tr>
<td>ToTimestamp</td>
<td>(TIMESTAMP)</td>
<td>(DATE)</td>
<td>转换</td>
</tr>
<tr>
<td>ToTimestamp</td>
<td>(TIMESTAMP)</td>
<td>(TIMEUUID)</td>
<td>转换</td>
</tr>
<tr>
<td>ToUnixTimestamp</td>
<td>BIGINT</td>
<td>(DATE)</td>
<td>转换</td>
</tr>
<tr>
<td>ToUnixTimestamp</td>
<td>BIGINT</td>
<td>(TIMESTAMP)</td>
<td>转换</td>
</tr>
<tr>
<td>ToUnixTimestamp</td>
<td>BIGINT</td>
<td>(TIMEUUID)</td>
<td>转换</td>
</tr>
<tr>
<td>UnixTimestampOf</td>
<td>BIGINT</td>
<td>(TIMEUUID)</td>
<td>转换</td>
</tr>
<tr>
<td>UUID</td>
<td>UUID</td>
<td>()</td>
<td>返回版本4的UUID</td>
</tr>
<tr>
<td>WriteTime</td>
<td>BIGINT</td>
<td>(<AnyType>)</td>
<td>返回写入列时的时间戳</td>
</tr>
<tr>
<td>partition_hash</td>
<td>BIGINT</td>
<td>()</td>
<td>计算一行的分区键列的分区哈希值（uint16）</td>
</tr>
</tbody>
</table>
<p>2）聚合函数：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>COUNT</td>
<td>返回所选行数</td>
</tr>
<tr>
<td>SUM</td>
<td>返回列值的总和</td>
</tr>
<tr>
<td>AVG</td>
<td>返回列值的平均值</td>
</tr>
<tr>
<td>MIN</td>
<td>返回列值的最小值</td>
</tr>
<tr>
<td>MAX</td>
<td>返回列值的最大值</td>
</tr>
</tbody>
</table>
<p>描述：</p>
<ul>
<li>参数数据类型必须可转换为函数定义指定的该参数的预期类型。 </li>
<li>函数执行将返回函数定义指定类型的值。 </li>
<li>AiSQL 允许在任何允许表达式的地方使用函数调用。</li>
</ul>
<p>3）CAST函数：
CAST函数将表列返回的值转换为指定的数据类型</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-314-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-314-1"><a id="__codelineno-314-1" name="__codelineno-314-1"></a>cast_call ::= CAST &#39;(&#39; column AS type &#39;)&#39;
</span></code></pre></div></td></tr></table></div>
<p>下表列出了列数据类型和目标数据类型。</p>
<table>
<thead>
<tr>
<th>源列数据类型</th>
<th>目标数据类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>BIGINT</td>
<td>SMALLINT, INT, TEXT</td>
</tr>
<tr>
<td>BOOLEAN</td>
<td>TEXT</td>
</tr>
<tr>
<td>DATE</td>
<td>TEXT, TIMESTAMP</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>BIGINT, INT, SMALLINT, TEXT</td>
</tr>
<tr>
<td>FLOAT</td>
<td>BIGINT, INT, SMALLINT, TEXT</td>
</tr>
<tr>
<td>INT</td>
<td>BIGINT, SMALLINT, TEXT</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>BIGINT, INT, TEXT</td>
</tr>
<tr>
<td>TIME</td>
<td>TEXT</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>DATE, TEXT</td>
</tr>
<tr>
<td>TIMEUUID</td>
<td>DATE, TIMESTAMP</td>
</tr>
</tbody>
</table>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-315-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-315-1"><a id="__codelineno-315-1" name="__codelineno-315-1"></a>CREATE TABLE test_cast (k INT PRIMARY KEY, ts TIMESTAMP);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-316-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-316-1"><a id="__codelineno-316-1" name="__codelineno-316-1"></a>INSERT INTO test_cast (k, ts) VALUES (1, &#39;2018-10-09 12:00:00&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-317-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-317-1"><a id="__codelineno-317-1" name="__codelineno-317-1"></a>SELECT CAST(ts AS DATE) FROM test_cast;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-318-1">1</a></span>
<span class="normal"><a href="#__codelineno-318-2">2</a></span>
<span class="normal"><a href="#__codelineno-318-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-318-1"><a id="__codelineno-318-1" name="__codelineno-318-1"></a> cast(ts as date)
</span><span id="__span-318-2"><a id="__codelineno-318-2" name="__codelineno-318-2"></a>------------------
</span><span id="__span-318-3"><a id="__codelineno-318-3" name="__codelineno-318-3"></a>       2018-10-09
</span></code></pre></div></td></tr></table></div>
<p>4）partition_hash函数：
partition_hash是一个函数，它将一行主键的分区键列作为参数，并返回一个uint16哈希值，该值表示用于对表进行分区的行的哈希值。用于分区的哈希值在0-65535（uint16）范围内。表被划分为多个分片，每个分片负责一系列的分区值。该行的partition_hash用于决定该行将驻留在哪个分片中。 
partition_hash对于查询数据的子集以获得近似的行计数或将完整的表操作分解为可以并行运行的较小子任务是有益的。</p>
<p>查询数据的子集 
partition_hash的一个用途是查询数据的子集，并获得表中的大致行数。例如，假设您有一个具有分区列（h1，h2）的表t，如下所示：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-319-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-319-1"><a id="__codelineno-319-1" name="__codelineno-319-1"></a>create table t (h1 int, h2 int, r1 int, r2 int, v int, primary key ((h1, h2), r1, r2));
</span></code></pre></div></td></tr></table></div>
<p>您可以使用此函数查询数据的子集（在本例中为数据的1/128），如下所示：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-320-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-320-1"><a id="__codelineno-320-1" name="__codelineno-320-1"></a>select count(*) from t where partition_hash(h1, h2) &gt;= 0 and partition_hash(h1, h2) &lt; 512;
</span></code></pre></div></td></tr></table></div>
<p>值512来自于将整个哈希分区范围除以要查询的子集数量（65536/128=512）</p>
<p>并行全表扫描 
要进行分布式扫描，在这种情况下，您可以发出128个查询，每个查询使用不同的哈希范围，如下所示：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-321-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-321-1"><a id="__codelineno-321-1" name="__codelineno-321-1"></a>.. where partition_hash(h1, h2) &gt;= 0 and partition_hash(h1, h2) &lt; 512;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-322-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-322-1"><a id="__codelineno-322-1" name="__codelineno-322-1"></a>.. where partition_hash(h1, h2) &gt;= 512 and partition_hash(h1, h2) &lt;1024 ;
</span></code></pre></div></td></tr></table></div>
<p>以此类推，直到分区空间中512的最后一个段/范围：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-323-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-323-1"><a id="__codelineno-323-1" name="__codelineno-323-1"></a>.. where partition_hash(h1, h2) &gt;= 65024;
</span></code></pre></div></td></tr></table></div>
<p>5）WriteTime 函数：</p>
<p>WriteTime函数返回写入列时的时间戳（以微秒为单位）。例如，假设您有一个表page_views，其中有一列名为views：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-324-1">1</a></span>
<span class="normal"><a href="#__codelineno-324-2">2</a></span>
<span class="normal"><a href="#__codelineno-324-3">3</a></span>
<span class="normal"><a href="#__codelineno-324-4">4</a></span>
<span class="normal"><a href="#__codelineno-324-5">5</a></span>
<span class="normal"><a href="#__codelineno-324-6">6</a></span>
<span class="normal"><a href="#__codelineno-324-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-324-1"><a id="__codelineno-324-1" name="__codelineno-324-1"></a> SELECT writetime(views) FROM page_views;
</span><span id="__span-324-2"><a id="__codelineno-324-2" name="__codelineno-324-2"></a>
</span><span id="__span-324-3"><a id="__codelineno-324-3" name="__codelineno-324-3"></a> writetime(views)
</span><span id="__span-324-4"><a id="__codelineno-324-4" name="__codelineno-324-4"></a>------------------
</span><span id="__span-324-5"><a id="__codelineno-324-5" name="__codelineno-324-5"></a> 1572882871160113
</span><span id="__span-324-6"><a id="__codelineno-324-6" name="__codelineno-324-6"></a>
</span><span id="__span-324-7"><a id="__codelineno-324-7" name="__codelineno-324-7"></a>(1 rows)
</span></code></pre></div></td></tr></table></div>
<p>6）TTL函数
TTL函数返回列或行过期之前的秒数。假设您有一个表page_views和一个名为views的列： </p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-325-1">1</a></span>
<span class="normal"><a href="#__codelineno-325-2">2</a></span>
<span class="normal"><a href="#__codelineno-325-3">3</a></span>
<span class="normal"><a href="#__codelineno-325-4">4</a></span>
<span class="normal"><a href="#__codelineno-325-5">5</a></span>
<span class="normal"><a href="#__codelineno-325-6">6</a></span>
<span class="normal"><a href="#__codelineno-325-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-325-1"><a id="__codelineno-325-1" name="__codelineno-325-1"></a>SELECT TTL(views) FROM page_views;
</span><span id="__span-325-2"><a id="__codelineno-325-2" name="__codelineno-325-2"></a>
</span><span id="__span-325-3"><a id="__codelineno-325-3" name="__codelineno-325-3"></a> ttl(views)
</span><span id="__span-325-4"><a id="__codelineno-325-4" name="__codelineno-325-4"></a>------------
</span><span id="__span-325-5"><a id="__codelineno-325-5" name="__codelineno-325-5"></a>      86367
</span><span id="__span-325-6"><a id="__codelineno-325-6" name="__codelineno-325-6"></a>
</span><span id="__span-325-7"><a id="__codelineno-325-7" name="__codelineno-325-7"></a>(1 rows)
</span></code></pre></div></td></tr></table></div>
<h2 id="operators"><strong>Operators</strong><a class="headerlink" href="#operators" title="Permanent link">&para;</a></h2>
<p>带运算符的表达式是一种使用内置运算符组合多个表达式的复合表达式。以下部分讨论AiSQL 中的BCQL运算符</p>
<p>1）Null 操作符</p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>EXISTS, NOT EXISTS</td>
<td>行存在的谓词</td>
</tr>
</tbody>
</table>
<p>EXISTS和NOT EXISTS只能在IF子句中使用</p>
<p>2）一元运算符</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>数字否定</td>
</tr>
<tr>
<td>+</td>
<td>无操作</td>
</tr>
<tr>
<td>NOT</td>
<td>逻辑(boolean) 否定</td>
</tr>
</tbody>
</table>
<p>Unary - and + can only be used with constant expressions such as -77</p>
<p>一元 - 和 + 只能与常量表达式一起使用，例如：-77</p>
<p>3）二进制运算符</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>OR, AND</td>
<td>逻辑(boolean) 表达式</td>
</tr>
<tr>
<td>=, !=, &lt;, &lt;=, &gt;, &gt;=</td>
<td>比较表达式</td>
</tr>
<tr>
<td>+</td>
<td>添加、追加或前置</td>
</tr>
<tr>
<td>-</td>
<td>减法或删除</td>
</tr>
<tr>
<td>*</td>
<td>乘法。尚未支持</td>
</tr>
<tr>
<td>/</td>
<td>除法。尚未支持</td>
</tr>
<tr>
<td>ISNULL, IS NOT NULL</td>
<td>尚未支持比较表达式。</td>
</tr>
</tbody>
</table>
<ul>
<li>比较运算符的第一个参数必须是列。例如，column_name=7。 </li>
<li>将NULL与其他值进行比较总是会产生一个错误的值。与NULL进行比较时，必须使用运算符ISNULL或IS NULL。 </li>
<li>当 + 和 - 应用于COUNTER数据类型的NULL参数时，NULL表达式将在计算前替换为零值。当这些运算符应用于所有其他数字数据类型的NULL表达式时，计算值始终为NULL。 </li>
<li>运算符 + 在LIST前面加一个值或将其附加到LIST中，而运算符 - 从LIST中删除元素。 </li>
<li>运算符 + 在MAP中插入新的不同元素，而运算符 - 从中删除元素。</li>
</ul>
<h2 id="blob"><strong>BLOB</strong><a class="headerlink" href="#blob" title="Permanent link">&para;</a></h2>
<p>使用BLOB数据类型表示可变长度的任意二进制数据。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-326-1">1</a></span>
<span class="normal"><a href="#__codelineno-326-2">2</a></span>
<span class="normal"><a href="#__codelineno-326-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-326-1"><a id="__codelineno-326-1" name="__codelineno-326-1"></a>type_specification ::= BLOB
</span><span id="__span-326-2"><a id="__codelineno-326-2" name="__codelineno-326-2"></a>
</span><span id="__span-326-3"><a id="__codelineno-326-3" name="__codelineno-326-3"></a>blob_literal ::= &quot;0x&quot; [ hex_digit hex_digit ...]
</span></code></pre></div></td></tr></table></div>
<ul>
<li>
<p>hex_digit是一个十六进制数字（[0-9a-fA-F]）。</p>
</li>
<li>
<p>BLOB类型的列可以是PRIMARY KEY的一部分。 </p>
</li>
<li>隐含地说，BLOB数据类型既不能转换，也不能与其他数据类型进行比较。 </li>
<li>提供了两个内置函数BlobAs＜Type＞和＜Type＞AsBlob，用于BLOB和其他数据类型之间的转换。 </li>
<li>BLOB大小几乎是无限的。</li>
</ul>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-327-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-327-1"><a id="__codelineno-327-1" name="__codelineno-327-1"></a>CREATE TABLE messages(id INT PRIMARY KEY, content BLOB);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-328-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-328-1"><a id="__codelineno-328-1" name="__codelineno-328-1"></a>INSERT INTO messages (id, content) VALUES (1, 0xab00ff);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-329-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-329-1"><a id="__codelineno-329-1" name="__codelineno-329-1"></a>INSERT INTO messages (id, content) VALUES (2, 0x);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-330-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-330-1"><a id="__codelineno-330-1" name="__codelineno-330-1"></a>UPDATE messages SET content = 0x0f0f WHERE id = 2;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-331-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-331-1"><a id="__codelineno-331-1" name="__codelineno-331-1"></a>SELECT * FROM messages;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-332-1">1</a></span>
<span class="normal"><a href="#__codelineno-332-2">2</a></span>
<span class="normal"><a href="#__codelineno-332-3">3</a></span>
<span class="normal"><a href="#__codelineno-332-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-332-1"><a id="__codelineno-332-1" name="__codelineno-332-1"></a> id | content
</span><span id="__span-332-2"><a id="__codelineno-332-2" name="__codelineno-332-2"></a>----+----------
</span><span id="__span-332-3"><a id="__codelineno-332-3" name="__codelineno-332-3"></a>  2 |   0x0f0f
</span><span id="__span-332-4"><a id="__codelineno-332-4" name="__codelineno-332-4"></a>  1 | 0xab00ff
</span></code></pre></div></td></tr></table></div>
<h2 id="boolean"><strong>BOOLEAN</strong><a class="headerlink" href="#boolean" title="Permanent link">&para;</a></h2>
<p>使用BOOLEAN数据类型指定true或false值。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-333-1">1</a></span>
<span class="normal"><a href="#__codelineno-333-2">2</a></span>
<span class="normal"><a href="#__codelineno-333-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-333-1"><a id="__codelineno-333-1" name="__codelineno-333-1"></a>type_specification ::= BOOLEAN
</span><span id="__span-333-2"><a id="__codelineno-333-2" name="__codelineno-333-2"></a>
</span><span id="__span-333-3"><a id="__codelineno-333-3" name="__codelineno-333-3"></a>boolean_literal ::= TRUE | FALSE
</span></code></pre></div></td></tr></table></div>
<p>描述：</p>
<ul>
<li>BOOLEAN类型的列不能是PRIMARY KEY的一部分。 </li>
<li>BOOLEAN类型的列可以设置、插入和比较。 </li>
<li>在WHERE和IF子句中，BOOLEAN列不能用作独立表达式。它们必须与真或假进行比较。例如，WHERE boolean_column=TRUE有效，而WHERE boolean_column无效。 </li>
<li>隐含地说，BOOLEAN既不可与任何其他数据类型进行比较，也不可转换。</li>
</ul>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-334-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-334-1"><a id="__codelineno-334-1" name="__codelineno-334-1"></a>CREATE TABLE tasks (id INT PRIMARY KEY, finished BOOLEAN);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-335-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-335-1"><a id="__codelineno-335-1" name="__codelineno-335-1"></a>INSERT INTO tasks (id, finished) VALUES (1, false);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-336-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-336-1"><a id="__codelineno-336-1" name="__codelineno-336-1"></a>INSERT INTO tasks (id, finished) VALUES (2, false);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-337-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-337-1"><a id="__codelineno-337-1" name="__codelineno-337-1"></a>UPDATE tasks SET finished = true WHERE id = 2;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-338-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-338-1"><a id="__codelineno-338-1" name="__codelineno-338-1"></a>SELECT * FROM tasks;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-339-1">1</a></span>
<span class="normal"><a href="#__codelineno-339-2">2</a></span>
<span class="normal"><a href="#__codelineno-339-3">3</a></span>
<span class="normal"><a href="#__codelineno-339-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-339-1"><a id="__codelineno-339-1" name="__codelineno-339-1"></a>id | finished
</span><span id="__span-339-2"><a id="__codelineno-339-2" name="__codelineno-339-2"></a>----+----------
</span><span id="__span-339-3"><a id="__codelineno-339-3" name="__codelineno-339-3"></a>  2 |     True
</span><span id="__span-339-4"><a id="__codelineno-339-4" name="__codelineno-339-4"></a>  1 |    False
</span></code></pre></div></td></tr></table></div>
<h2 id="collection"><strong>Collection</strong><a class="headerlink" href="#collection" title="Permanent link">&para;</a></h2>
<p>使用集合数据类型为可以包含多个值的数据对象指定列。</p>
<p>1）LIST</p>
<p>LIST是元素的有序集合。LIST中的所有元素都必须具有相同的基元类型。元素可以通过+运算符前置或追加到列表中，通过-运算符移除，并通过[]运算符由该列表的索引引用。</p>
<p>2）MAP
MAP是元素对、键和值的排序集合。排序顺序基于键值，并且取决于实现。MAP中的元素可以通过它们的键值由[]运算符设置，由+运算符添加，并由-运算符删除。查询时，映射的元素对将按排序顺序返回。 </p>
<p>3）SET
SET是一个经过排序的元素集合。排序顺序取决于实现。元素可以通过+运算符添加，也可以通过-运算符删除。查询时，集合的元素将按排序顺序返回。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-340-1">1</a></span>
<span class="normal"><a href="#__codelineno-340-2">2</a></span>
<span class="normal"><a href="#__codelineno-340-3">3</a></span>
<span class="normal"><a href="#__codelineno-340-4">4</a></span>
<span class="normal"><a href="#__codelineno-340-5">5</a></span>
<span class="normal"><a href="#__codelineno-340-6">6</a></span>
<span class="normal"><a href="#__codelineno-340-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-340-1"><a id="__codelineno-340-1" name="__codelineno-340-1"></a>type_specification ::= { LIST&lt;type&gt; | MAP&lt;key_type:type&gt; | SET&lt;key_type&gt; }
</span><span id="__span-340-2"><a id="__codelineno-340-2" name="__codelineno-340-2"></a>
</span><span id="__span-340-3"><a id="__codelineno-340-3" name="__codelineno-340-3"></a>list_literal ::= &#39;[&#39; [ expression ...] &#39;]&#39;
</span><span id="__span-340-4"><a id="__codelineno-340-4" name="__codelineno-340-4"></a>
</span><span id="__span-340-5"><a id="__codelineno-340-5" name="__codelineno-340-5"></a>map_literal ::= &#39;{&#39; [ { expression &#39;:&#39; expression } ...] &#39;}&#39;
</span><span id="__span-340-6"><a id="__codelineno-340-6" name="__codelineno-340-6"></a>
</span><span id="__span-340-7"><a id="__codelineno-340-7" name="__codelineno-340-7"></a>set_literal ::= &#39;{&#39; [ expression ...] &#39;}&#39;
</span></code></pre></div></td></tr></table></div>
<ul>
<li>LIST、MAP或SET类型的列不能是PRIMARY KEY的一部分。 </li>
<li>类型必须是非参数化数据类型或frozen 数据类型。 </li>
<li>key_type必须是主键中允许的任何数据类型（当前为FROZEN和除BOOL以外的所有非参数数据类型）。 </li>
<li>对于map_lilateral，左侧表达式表示键，右侧表达式表示值。 </li>
<li>表达式是任何形式良好的BCQL表达式。</li>
</ul>
<p>描述：</p>
<ul>
<li>类型参数必须是简单类型或frozen 类型（集合和用户定义的类型必须冻结才能用作集合参数）。 </li>
<li>LIST、MAP和SET类型的列不能是PRIMARY KEY的一部分。 </li>
<li>隐含地说，集合数据类型的值既不能转换，也不能与其他数据类型进行比较。 </li>
<li>集合文字中的每个表达式都必须计算为可转换为相应参数数据类型的值。 </li>
<li>不允许对集合值进行比较（例如，在WHERE或IF子句中）。 </li>
<li>空集合被视为null 值。</li>
</ul>
<p>示例：
1）建表
集合类型与简单类型一样使用（主键中不允许使用集合类型）。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-341-1">1</a></span>
<span class="normal"><a href="#__codelineno-341-2">2</a></span>
<span class="normal"><a href="#__codelineno-341-3">3</a></span>
<span class="normal"><a href="#__codelineno-341-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-341-1"><a id="__codelineno-341-1" name="__codelineno-341-1"></a>CREATE TABLE users(username TEXT PRIMARY KEY,
</span><span id="__span-341-2"><a id="__codelineno-341-2" name="__codelineno-341-2"></a>                                  emails SET&lt;TEXT&gt;,
</span><span id="__span-341-3"><a id="__codelineno-341-3" name="__codelineno-341-3"></a>                                  phones MAP&lt;TEXT,TEXT&gt;,
</span><span id="__span-341-4"><a id="__codelineno-341-4" name="__codelineno-341-4"></a>                                  top_cities LIST&lt;TEXT&gt;);
</span></code></pre></div></td></tr></table></div>
<p>2）插入数据
集合值是通过一次设置其所有元素来插入的。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-342-1">1</a></span>
<span class="normal"><a href="#__codelineno-342-2">2</a></span>
<span class="normal"><a href="#__codelineno-342-3">3</a></span>
<span class="normal"><a href="#__codelineno-342-4">4</a></span>
<span class="normal"><a href="#__codelineno-342-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-342-1"><a id="__codelineno-342-1" name="__codelineno-342-1"></a>INSERT INTO users(username, emails, phones, top_cities)
</span><span id="__span-342-2"><a id="__codelineno-342-2" name="__codelineno-342-2"></a>               VALUES (&#39;foo&#39;,
</span><span id="__span-342-3"><a id="__codelineno-342-3" name="__codelineno-342-3"></a>                       {&#39;c@example.com&#39;, &#39;a@example.com&#39;},
</span><span id="__span-342-4"><a id="__codelineno-342-4" name="__codelineno-342-4"></a>                       {&#39;home&#39; : &#39;999-9999&#39;, &#39;mobile&#39; : &#39;000-0000&#39;},
</span><span id="__span-342-5"><a id="__codelineno-342-5" name="__codelineno-342-5"></a>                       [&#39;New York&#39;, &#39;Paris&#39;]);
</span></code></pre></div></td></tr></table></div>
<p>空集合与null集合相同。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-343-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-343-1"><a id="__codelineno-343-1" name="__codelineno-343-1"></a>INSERT INTO users(username, emails, phones, top_cities) VALUES (&#39;bar&#39;, { }, { }, [ ]);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-344-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-344-1"><a id="__codelineno-344-1" name="__codelineno-344-1"></a>SELECT * FROM users;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-345-1">1</a></span>
<span class="normal"><a href="#__codelineno-345-2">2</a></span>
<span class="normal"><a href="#__codelineno-345-3">3</a></span>
<span class="normal"><a href="#__codelineno-345-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-345-1"><a id="__codelineno-345-1" name="__codelineno-345-1"></a>username | emails                             | phones                                     | top_cities
</span><span id="__span-345-2"><a id="__codelineno-345-2" name="__codelineno-345-2"></a>----------+------------------------------------+--------------------------------------------+-----------------------
</span><span id="__span-345-3"><a id="__codelineno-345-3" name="__codelineno-345-3"></a>      bar |                               null |                                       null |                  null
</span><span id="__span-345-4"><a id="__codelineno-345-4" name="__codelineno-345-4"></a>      foo | {&#39;a@example.com&#39;, &#39;c@example.com&#39;} | {&#39;home&#39;: &#39;999-9999&#39;, &#39;mobile&#39;: &#39;000-0000&#39;} | [&#39;New York&#39;, &#39;Paris&#39;]
</span></code></pre></div></td></tr></table></div>
<p>3）更新列
集合值可以通过一次设置其所有元素来更新。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-346-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-346-1"><a id="__codelineno-346-1" name="__codelineno-346-1"></a>UPDATE users SET emails = {&#39;bar@example.com&#39;} WHERE username = &#39;bar&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-347-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-347-1"><a id="__codelineno-347-1" name="__codelineno-347-1"></a>UPDATE users SET phones = {&#39;home&#39; : &#39;123-45678&#39;} WHERE username = &#39;bar&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-348-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-348-1"><a id="__codelineno-348-1" name="__codelineno-348-1"></a>UPDATE users SET top_cities = [&#39;London&#39;, &#39;Tokyo&#39;] WHERE username = &#39;bar&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-349-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-349-1"><a id="__codelineno-349-1" name="__codelineno-349-1"></a>SELECT * FROM users;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-350-1">1</a></span>
<span class="normal"><a href="#__codelineno-350-2">2</a></span>
<span class="normal"><a href="#__codelineno-350-3">3</a></span>
<span class="normal"><a href="#__codelineno-350-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-350-1"><a id="__codelineno-350-1" name="__codelineno-350-1"></a> username | emails                             | phones                                     | top_cities
</span><span id="__span-350-2"><a id="__codelineno-350-2" name="__codelineno-350-2"></a>----------+------------------------------------+--------------------------------------------+-----------------------
</span><span id="__span-350-3"><a id="__codelineno-350-3" name="__codelineno-350-3"></a>      bar |                {&#39;bar@example.com&#39;} |                      {&#39;home&#39;: &#39;123-45678&#39;} |   [&#39;London&#39;, &#39;Tokyo&#39;]
</span><span id="__span-350-4"><a id="__codelineno-350-4" name="__codelineno-350-4"></a>      foo | {&#39;a@example.com&#39;, &#39;c@example.com&#39;} | {&#39;home&#39;: &#39;999-9999&#39;, &#39;mobile&#39;: &#39;000-0000&#39;} | [&#39;New York&#39;, &#39;Paris&#39;]
</span></code></pre></div></td></tr></table></div>
<p>4）表达式</p>
<p>集合元素可以用+添加，也可以用-删除。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-351-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-351-1"><a id="__codelineno-351-1" name="__codelineno-351-1"></a>UPDATE users SET emails = emails + {&#39;foo@example.com&#39;} WHERE username = &#39;foo&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-352-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-352-1"><a id="__codelineno-352-1" name="__codelineno-352-1"></a>UPDATE users SET emails = emails - {&#39;a@example.com&#39;, &#39;c.example.com&#39;} WHERE username = &#39;foo&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-353-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-353-1"><a id="__codelineno-353-1" name="__codelineno-353-1"></a>UPDATE users SET phones = phones + {&#39;office&#39; : &#39;333-3333&#39;} WHERE username = &#39;foo&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-354-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-354-1"><a id="__codelineno-354-1" name="__codelineno-354-1"></a>SELECT * FROM users;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-355-1">1</a></span>
<span class="normal"><a href="#__codelineno-355-2">2</a></span>
<span class="normal"><a href="#__codelineno-355-3">3</a></span>
<span class="normal"><a href="#__codelineno-355-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-355-1"><a id="__codelineno-355-1" name="__codelineno-355-1"></a>username | emails                               | phones                                                           | top_cities
</span><span id="__span-355-2"><a id="__codelineno-355-2" name="__codelineno-355-2"></a>----------+--------------------------------------+------------------------------------------------------------------+-----------------------
</span><span id="__span-355-3"><a id="__codelineno-355-3" name="__codelineno-355-3"></a>      bar |                  {&#39;bar@example.com&#39;} |                                            {&#39;home&#39;: &#39;123-45678&#39;} |   [&#39;London&#39;, &#39;Tokyo&#39;]
</span><span id="__span-355-4"><a id="__codelineno-355-4" name="__codelineno-355-4"></a>      foo | {&#39;c@example.com&#39;, &#39;foo@example.com&#39;} | {&#39;home&#39;: &#39;999-9999&#39;, &#39;mobile&#39;: &#39;000-0000&#39;, &#39;office&#39;: &#39;333-3333&#39;} | [&#39;New York&#39;, &#39;Paris&#39;]
</span></code></pre></div></td></tr></table></div>
<p>要删除地图元素，只需要给出相关的键（作为一个集合）。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-356-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-356-1"><a id="__codelineno-356-1" name="__codelineno-356-1"></a>UPDATE users SET phones = phones - {&#39;home&#39;} WHERE username = &#39;foo&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-357-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-357-1"><a id="__codelineno-357-1" name="__codelineno-357-1"></a>SELECT * FROM users;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-358-1">1</a></span>
<span class="normal"><a href="#__codelineno-358-2">2</a></span>
<span class="normal"><a href="#__codelineno-358-3">3</a></span>
<span class="normal"><a href="#__codelineno-358-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-358-1"><a id="__codelineno-358-1" name="__codelineno-358-1"></a>username | emails                               | phones                                       | top_cities
</span><span id="__span-358-2"><a id="__codelineno-358-2" name="__codelineno-358-2"></a>----------+--------------------------------------+----------------------------------------------+-----------------------
</span><span id="__span-358-3"><a id="__codelineno-358-3" name="__codelineno-358-3"></a>      bar |                  {&#39;bar@example.com&#39;} |                        {&#39;home&#39;: &#39;123-45678&#39;} |   [&#39;London&#39;, &#39;Tokyo&#39;]
</span><span id="__span-358-4"><a id="__codelineno-358-4" name="__codelineno-358-4"></a>      foo | {&#39;c@example.com&#39;, &#39;foo@example.com&#39;} | {&#39;mobile&#39;: &#39;000-0000&#39;, &#39;office&#39;: &#39;333-3333&#39;} | [&#39;New York&#39;, &#39;Paris&#39;]
</span></code></pre></div></td></tr></table></div>
<p>列表元素可以是前置的，也可以是附加的。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-359-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-359-1"><a id="__codelineno-359-1" name="__codelineno-359-1"></a>UPDATE users SET top_cities = top_cities + [&#39;Delhi&#39;] WHERE username = &#39;foo&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-360-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-360-1"><a id="__codelineno-360-1" name="__codelineno-360-1"></a>UPDATE users SET top_cities = [&#39;Sunnyvale&#39;] + top_cities WHERE username = &#39;foo&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-361-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-361-1"><a id="__codelineno-361-1" name="__codelineno-361-1"></a>UPDATE users SET top_cities = top_cities - [&#39;Paris&#39;, &#39;New York&#39;] WHERE username = &#39;foo&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-362-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-362-1"><a id="__codelineno-362-1" name="__codelineno-362-1"></a>SELECT * FROM users;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-363-1">1</a></span>
<span class="normal"><a href="#__codelineno-363-2">2</a></span>
<span class="normal"><a href="#__codelineno-363-3">3</a></span>
<span class="normal"><a href="#__codelineno-363-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-363-1"><a id="__codelineno-363-1" name="__codelineno-363-1"></a>username | emails              | phones                                       | top_cities
</span><span id="__span-363-2"><a id="__codelineno-363-2" name="__codelineno-363-2"></a>----------+---------------------+----------------------------------------------+------------------------
</span><span id="__span-363-3"><a id="__codelineno-363-3" name="__codelineno-363-3"></a>      bar | {&#39;bar@example.com&#39;} |                        {&#39;home&#39;: &#39;123-45678&#39;} |    [&#39;London&#39;, &#39;Tokyo&#39;]
</span><span id="__span-363-4"><a id="__codelineno-363-4" name="__codelineno-363-4"></a>      foo | {&#39;foo@example.com&#39;} | {&#39;mobile&#39;: &#39;000-0000&#39;, &#39;office&#39;: &#39;333-3333&#39;} | [&#39;Sunnyvale&#39;, &#39;Delhi&#39;]
</span></code></pre></div></td></tr></table></div>
<p>5）更新map和list元素</p>
<p>Map允许按键引用元素</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-364-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-364-1"><a id="__codelineno-364-1" name="__codelineno-364-1"></a>UPDATE users SET phones[&#39;mobile&#39;] = &#39;111-1111&#39; WHERE username = &#39;foo&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-365-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-365-1"><a id="__codelineno-365-1" name="__codelineno-365-1"></a>UPDATE users SET phones[&#39;mobile&#39;] = &#39;345-6789&#39; WHERE username = &#39;bar&#39; IF phones[&#39;mobile&#39;] = null;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-366-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-366-1"><a id="__codelineno-366-1" name="__codelineno-366-1"></a>SELECT * FROM users;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-367-1">1</a></span>
<span class="normal"><a href="#__codelineno-367-2">2</a></span>
<span class="normal"><a href="#__codelineno-367-3">3</a></span>
<span class="normal"><a href="#__codelineno-367-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-367-1"><a id="__codelineno-367-1" name="__codelineno-367-1"></a>username | emails                               | phones                                       | top_cities
</span><span id="__span-367-2"><a id="__codelineno-367-2" name="__codelineno-367-2"></a>----------+--------------------------------------+----------------------------------------------+-----------------------
</span><span id="__span-367-3"><a id="__codelineno-367-3" name="__codelineno-367-3"></a>      bar |                  {&#39;bar@example.com&#39;} |  {&#39;home&#39;: &#39;123-45678&#39;, &#39;mobile&#39;: &#39;345-6789&#39;} |   [&#39;London&#39;, &#39;Tokyo&#39;]
</span><span id="__span-367-4"><a id="__codelineno-367-4" name="__codelineno-367-4"></a>      foo | {&#39;c@example.com&#39;, &#39;foo@example.com&#39;} | {&#39;mobile&#39;: &#39;111-1111&#39;, &#39;office&#39;: &#39;333-3333&#39;} | [&#39;New York&#39;, &#39;Paris&#39;]
</span></code></pre></div></td></tr></table></div>
<p>list允许按索引引用元素（编号从0开始）。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-368-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-368-1"><a id="__codelineno-368-1" name="__codelineno-368-1"></a>UPDATE users SET top_cities[0] = &#39;San Francisco&#39; WHERE username = &#39;bar&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-369-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-369-1"><a id="__codelineno-369-1" name="__codelineno-369-1"></a>UPDATE users SET top_cities[1] = &#39;Mumbai&#39; WHERE username = &#39;bar&#39; IF top_cities[1] = &#39;Tokyo&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-370-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-370-1"><a id="__codelineno-370-1" name="__codelineno-370-1"></a>SELECT * FROM users;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-371-1">1</a></span>
<span class="normal"><a href="#__codelineno-371-2">2</a></span>
<span class="normal"><a href="#__codelineno-371-3">3</a></span>
<span class="normal"><a href="#__codelineno-371-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-371-1"><a id="__codelineno-371-1" name="__codelineno-371-1"></a>username | emails                               | phones                                       | top_cities
</span><span id="__span-371-2"><a id="__codelineno-371-2" name="__codelineno-371-2"></a>----------+--------------------------------------+----------------------------------------------+-----------------------------
</span><span id="__span-371-3"><a id="__codelineno-371-3" name="__codelineno-371-3"></a>      bar |                  {&#39;bar@example.com&#39;} |  {&#39;home&#39;: &#39;123-45678&#39;, &#39;mobile&#39;: &#39;345-6789&#39;} | [&#39;San Francisco&#39;, &#39;Mumbai&#39;]
</span><span id="__span-371-4"><a id="__codelineno-371-4" name="__codelineno-371-4"></a>      foo | {&#39;c@example.com&#39;, &#39;foo@example.com&#39;} | {&#39;mobile&#39;: &#39;111-1111&#39;, &#39;office&#39;: &#39;333-3333&#39;} |       [&#39;New York&#39;, &#39;Paris&#39;]
</span></code></pre></div></td></tr></table></div>
<h2 id="frozen"><strong>FROZEN</strong><a class="headerlink" href="#frozen" title="Permanent link">&para;</a></h2>
<p>使用FROZEN数据类型指定序列化集合、元组或用户定义类型所产生的二进制字符串列</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-372-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-372-1"><a id="__codelineno-372-1" name="__codelineno-372-1"></a>type_specification ::= FROZEN&lt;type&gt;
</span></code></pre></div></td></tr></table></div>
<p>type是一个格式良好的BCQL数据类型（下面的语义部分介绍了对type的其他限制）。</p>
<ul>
<li>FROZEN类型的列可以是PRIMARY KEY的一部分。 </li>
<li>FROZEN类型的类型参数必须是集合类型（LIST、MAP或SET）或用户定义的类型。 </li>
<li>FROZEN类型可以是集合类型的参数。 </li>
<li>对于任何有效的frozen 类型参数类型，类型的值都可以转换为frozen＜type＞。</li>
</ul>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-373-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-373-1"><a id="__codelineno-373-1" name="__codelineno-373-1"></a>CREATE TABLE directory(file FROZEN&lt;LIST&lt;TEXT&gt;&gt; PRIMARY KEY, value BLOB);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-374-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-374-1"><a id="__codelineno-374-1" name="__codelineno-374-1"></a>INSERT INTO directory(file, value) VALUES([ &#39;home&#39;, &#39;documents&#39;, &#39;homework.doc&#39; ], 0x);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-375-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-375-1"><a id="__codelineno-375-1" name="__codelineno-375-1"></a>INSERT INTO directory(file, value) VALUES([ &#39;home&#39;, &#39;downloads&#39;, &#39;textbook.pdf&#39; ], 0x12ab21ef);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-376-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-376-1"><a id="__codelineno-376-1" name="__codelineno-376-1"></a>UPDATE directory SET value = 0xab00ff WHERE file = [ &#39;home&#39;, &#39;documents&#39;, &#39;homework.doc&#39; ];
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-377-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-377-1"><a id="__codelineno-377-1" name="__codelineno-377-1"></a>SELECT * FROM directory;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-378-1">1</a></span>
<span class="normal"><a href="#__codelineno-378-2">2</a></span>
<span class="normal"><a href="#__codelineno-378-3">3</a></span>
<span class="normal"><a href="#__codelineno-378-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-378-1"><a id="__codelineno-378-1" name="__codelineno-378-1"></a> file                                  | value
</span><span id="__span-378-2"><a id="__codelineno-378-2" name="__codelineno-378-2"></a>---------------------------------------+------------
</span><span id="__span-378-3"><a id="__codelineno-378-3" name="__codelineno-378-3"></a> [&#39;home&#39;, &#39;downloads&#39;, &#39;textbook.pdf&#39;] | 0x12ab21ef
</span><span id="__span-378-4"><a id="__codelineno-378-4" name="__codelineno-378-4"></a> [&#39;home&#39;, &#39;documents&#39;, &#39;homework.doc&#39;] |   0xab00ff
</span></code></pre></div></td></tr></table></div>
<h2 id="inet"><strong>INET</strong><a class="headerlink" href="#inet" title="Permanent link">&para;</a></h2>
<p>使用INET数据类型为IP地址的数据指定列。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-379-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-379-1"><a id="__codelineno-379-1" name="__codelineno-379-1"></a>type_specification ::= INET
</span></code></pre></div></td></tr></table></div>
<ul>
<li>INET类型的列可以是PRIMARY KEY的一部分。 </li>
<li>隐含地说，类型INET数据类型的值既不能转换，也不能与其他数据类型进行比较。 </li>
<li>具有正确格式的文本数据类型的值可转换为INET。 </li>
<li>INET值格式支持IPv4和IPv6地址的文本文本。</li>
</ul>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-380-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-380-1"><a id="__codelineno-380-1" name="__codelineno-380-1"></a>CREATE TABLE dns_table(site_name TEXT PRIMARY KEY, ip_address INET);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-381-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-381-1"><a id="__codelineno-381-1" name="__codelineno-381-1"></a>INSERT INTO dns_table(site_name, ip_address) VALUES (&#39;localhost&#39;, &#39;127.0.0.1&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-382-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-382-1"><a id="__codelineno-382-1" name="__codelineno-382-1"></a>INSERT INTO dns_table(site_name, ip_address) VALUES (&#39;example.com&#39;, &#39;93.184.216.34&#39;);
</span></code></pre></div></td></tr></table></div>
<p>INET类型同时支持ipv4和ipv6地址。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-383-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-383-1"><a id="__codelineno-383-1" name="__codelineno-383-1"></a>UPDATE dns_table SET ip_address = &#39;2606:2800:220:1:248:1893:25c8:1946&#39; WHERE site_name = &#39;example.com&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-384-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-384-1"><a id="__codelineno-384-1" name="__codelineno-384-1"></a>SELECT * FROM dns_table;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-385-1">1</a></span>
<span class="normal"><a href="#__codelineno-385-2">2</a></span>
<span class="normal"><a href="#__codelineno-385-3">3</a></span>
<span class="normal"><a href="#__codelineno-385-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-385-1"><a id="__codelineno-385-1" name="__codelineno-385-1"></a> site_name   | ip_address
</span><span id="__span-385-2"><a id="__codelineno-385-2" name="__codelineno-385-2"></a>-------------+------------------------------------
</span><span id="__span-385-3"><a id="__codelineno-385-3" name="__codelineno-385-3"></a> example.com | 2606:2800:220:1:248:1893:25c8:1946
</span><span id="__span-385-4"><a id="__codelineno-385-4" name="__codelineno-385-4"></a>   localhost |                          127.0.0.1
</span></code></pre></div></td></tr></table></div>
<h2 id="integer-and-counter"><strong>Integer and counter</strong><a class="headerlink" href="#integer-and-counter" title="Permanent link">&para;</a></h2>
<p>对于不同值范围的整数，有几种不同的数据类型。整数可以设置、插入、递增和递减，而COUNTER只能递增或递减。我们扩展了Apache Cassandra，以支持整数数据类型的递增和递减运算符。</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>最小</th>
<th>最大</th>
</tr>
</thead>
<tbody>
<tr>
<td>TINYINT</td>
<td>-128</td>
<td>127</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>-32,768</td>
<td>32,767</td>
</tr>
<tr>
<td>INT or INTEGER</td>
<td>-2,147,483,648</td>
<td>2,147,483,647</td>
</tr>
<tr>
<td>BIGINT</td>
<td>–9,223,372,036,854,775,808</td>
<td>9,223,372,036,854,775,807</td>
</tr>
<tr>
<td>COUNTER</td>
<td>–9,223,372,036,854,775,808</td>
<td>9,223,372,036,854,775,807</td>
</tr>
<tr>
<td>VARINT</td>
<td>无限的</td>
<td>无限的</td>
</tr>
</tbody>
</table>
<p>以下关键字用于为不同约束（包括其值范围）指定整数类型的列。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-386-1">1</a></span>
<span class="normal"><a href="#__codelineno-386-2">2</a></span>
<span class="normal"><a href="#__codelineno-386-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-386-1"><a id="__codelineno-386-1" name="__codelineno-386-1"></a>type_specification ::= TINYINT | SMALLINT | INT | INTEGER | BIGINT | VARINT | COUNTER
</span><span id="__span-386-2"><a id="__codelineno-386-2" name="__codelineno-386-2"></a>
</span><span id="__span-386-3"><a id="__codelineno-386-3" name="__codelineno-386-3"></a>integer_literal ::= [ + | - ] digit [ { digit | , } ... ]
</span></code></pre></div></td></tr></table></div>
<ul>
<li>TINYINT、SMALLINT、INT、INTEGER、BIGINT或VARINT类型的列可以是PRIMARY KEY的一部分。 </li>
<li>不同整数数据类型的值可以相互比较和转换。 </li>
<li>整数数据类型的值是可转换的，但不能与浮点数进行比较。 </li>
<li>浮点数据类型的值不能转换为整数。</li>
</ul>
<p>COUNTER数据类型：
COUNTER是BIGINT的别名，但有其他约束。 </p>
<ul>
<li>COUNTER类型的列不能是PRIMARY KEY的一部分。 </li>
<li>如果列的类型为COUNTER，则所有非主键列的类型也必须为COUNTER。 </li>
<li>无法设置或插入类型为COUNTER的列。它们必须递增或递减。 </li>
<li>如果COUNTER类型的列为NULL，则在递增或递减时将其值替换为零。</li>
</ul>
<p>示例：
1）使用整数数据类型</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-387-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-387-1"><a id="__codelineno-387-1" name="__codelineno-387-1"></a>CREATE TABLE items(id INT PRIMARY KEY, item_count BIGINT);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-388-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-388-1"><a id="__codelineno-388-1" name="__codelineno-388-1"></a>INSERT INTO items(id, item_count) VALUES(1, 1);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-389-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-389-1"><a id="__codelineno-389-1" name="__codelineno-389-1"></a>INSERT INTO items(id, item_count) VALUES(2, 2);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-390-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-390-1"><a id="__codelineno-390-1" name="__codelineno-390-1"></a>UPDATE items SET item_count = 5 WHERE id = 1;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-391-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-391-1"><a id="__codelineno-391-1" name="__codelineno-391-1"></a>UPDATE items SET item_count = item_count + 1 WHERE id = 2;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-392-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-392-1"><a id="__codelineno-392-1" name="__codelineno-392-1"></a>SELECT * FROM items;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-393-1">1</a></span>
<span class="normal"><a href="#__codelineno-393-2">2</a></span>
<span class="normal"><a href="#__codelineno-393-3">3</a></span>
<span class="normal"><a href="#__codelineno-393-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-393-1"><a id="__codelineno-393-1" name="__codelineno-393-1"></a> id | item_count
</span><span id="__span-393-2"><a id="__codelineno-393-2" name="__codelineno-393-2"></a>----+------------
</span><span id="__span-393-3"><a id="__codelineno-393-3" name="__codelineno-393-3"></a>  2 |          3
</span><span id="__span-393-4"><a id="__codelineno-393-4" name="__codelineno-393-4"></a>  1 |          5
</span></code></pre></div></td></tr></table></div>
<p>2）使用COUNTER数据类型</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-394-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-394-1"><a id="__codelineno-394-1" name="__codelineno-394-1"></a>CREATE TABLE item_counters(id INT PRIMARY KEY, item_counter COUNTER);
</span></code></pre></div></td></tr></table></div>
<p>对于计数器类型，null值被视为0。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-395-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-395-1"><a id="__codelineno-395-1" name="__codelineno-395-1"></a>UPDATE item_counters SET item_counter = item_counter + 1 WHERE id = 1;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-396-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-396-1"><a id="__codelineno-396-1" name="__codelineno-396-1"></a>SELECT * FROM item_counters;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-397-1">1</a></span>
<span class="normal"><a href="#__codelineno-397-2">2</a></span>
<span class="normal"><a href="#__codelineno-397-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-397-1"><a id="__codelineno-397-1" name="__codelineno-397-1"></a> id | item_counter
</span><span id="__span-397-2"><a id="__codelineno-397-2" name="__codelineno-397-2"></a>----+--------------
</span><span id="__span-397-3"><a id="__codelineno-397-3" name="__codelineno-397-3"></a>  1 |            1
</span></code></pre></div></td></tr></table></div>
<h2 id="non-integer"><strong>Non-integer</strong><a class="headerlink" href="#non-integer" title="Permanent link">&para;</a></h2>
<p>使用非整数（浮点和定点）数据类型可以指定非整数。不同的浮点数据类型表示不同的精度数字。</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>描述</th>
<th>小数精度</th>
</tr>
</thead>
<tbody>
<tr>
<td>FLOAT</td>
<td>32位浮点数字不精确</td>
<td>7</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>32位浮点数字不精确</td>
<td>15</td>
</tr>
<tr>
<td>DECIMAL</td>
<td>任意精度数字</td>
<td>无上限</td>
</tr>
</tbody>
</table>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-398-1">1</a></span>
<span class="normal"><a href="#__codelineno-398-2">2</a></span>
<span class="normal"><a href="#__codelineno-398-3">3</a></span>
<span class="normal"><a href="#__codelineno-398-4">4</a></span>
<span class="normal"><a href="#__codelineno-398-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-398-1"><a id="__codelineno-398-1" name="__codelineno-398-1"></a>type_specification ::= { FLOAT | DOUBLE | DOUBLE PRECISION | DECIMAL }
</span><span id="__span-398-2"><a id="__codelineno-398-2" name="__codelineno-398-2"></a>
</span><span id="__span-398-3"><a id="__codelineno-398-3" name="__codelineno-398-3"></a>non_integer_floating_point_literal ::= non_integer_fixed_point_literal | &quot;NaN&quot; | &quot;Infinity&quot; | &quot;-Infinity&quot;
</span><span id="__span-398-4"><a id="__codelineno-398-4" name="__codelineno-398-4"></a>
</span><span id="__span-398-5"><a id="__codelineno-398-5" name="__codelineno-398-5"></a>non_integer_fixed_point_literal ::= [ + | - ] { digit [ digit ...] &#39;.&#39; [ digit ...] | &#39;.&#39; digit [ digit ...] }
</span></code></pre></div></td></tr></table></div>
<ul>
<li>类型为FLOAT、DOUBLE、DOUBLE PRECISION或DECIMAL的列可以是PRIMARY KEY的一部分。 </li>
<li>DOUBLE和DOUBLE PRECISION是别名。 </li>
<li>non_integer_floating_point_literal用于FLOAT、DOUBLE和DOUBLE PRECISION类型的值。 </li>
<li>non_integer_fixed_point_literal用于DECIMAL类型的值。</li>
</ul>
<p>描述：</p>
<ul>
<li>不同浮点和定点数据类型的值可以相互比较和转换。 </li>
<li>从浮点类型转换为DECIMAL将引发特殊值NaN、无穷大和-无穷大的错误。 </li>
<li>非整数数字数据类型的值既不能与整数进行比较，也不能转换为整数，尽管整数可以转换为整数。 </li>
<li>特殊浮点值的顺序定义为（按升序）：-无穷大，所有负值按顺序，所有正值按顺序，无穷大和NaN。</li>
</ul>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-399-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-399-1"><a id="__codelineno-399-1" name="__codelineno-399-1"></a>CREATE TABLE sensor_data (sensor_id INT PRIMARY KEY, float_val FLOAT, dbl_val DOUBLE, dec_val DECIMAL);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-400-1">1</a></span>
<span class="normal"><a href="#__codelineno-400-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-400-1"><a id="__codelineno-400-1" name="__codelineno-400-1"></a>INSERT INTO sensor_data(sensor_id, float_val, dbl_val, dec_val)
</span><span id="__span-400-2"><a id="__codelineno-400-2" name="__codelineno-400-2"></a>                  VALUES (1, 321.0456789, 321.0456789, 321.0456789);
</span></code></pre></div></td></tr></table></div>
<p>也可以使用整数文字（使用upsert 语义来更新不存在的行）</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-401-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-401-1"><a id="__codelineno-401-1" name="__codelineno-401-1"></a>UPDATE sensor_data SET float_val = 1, dbl_val = 1, dec_val = 1 WHERE sensor_id = 2;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-402-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-402-1"><a id="__codelineno-402-1" name="__codelineno-402-1"></a>SELECT * FROM sensor_data;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-403-1">1</a></span>
<span class="normal"><a href="#__codelineno-403-2">2</a></span>
<span class="normal"><a href="#__codelineno-403-3">3</a></span>
<span class="normal"><a href="#__codelineno-403-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-403-1"><a id="__codelineno-403-1" name="__codelineno-403-1"></a> sensor_id | float_val | dbl_val   | dec_val
</span><span id="__span-403-2"><a id="__codelineno-403-2" name="__codelineno-403-2"></a>-----------+-----------+-----------+-------------
</span><span id="__span-403-3"><a id="__codelineno-403-3" name="__codelineno-403-3"></a>         2 |         1 |         1 |           1
</span><span id="__span-403-4"><a id="__codelineno-403-4" name="__codelineno-403-4"></a>         1 | 321.04568 | 321.04568 | 321.0456789
</span></code></pre></div></td></tr></table></div>
<h2 id="text"><strong>TEXT</strong><a class="headerlink" href="#text" title="Permanent link">&para;</a></h2>
<p>使用TEXT数据类型可以指定Unicode字符字符串的数据。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-404-1">1</a></span>
<span class="normal"><a href="#__codelineno-404-2">2</a></span>
<span class="normal"><a href="#__codelineno-404-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-404-1"><a id="__codelineno-404-1" name="__codelineno-404-1"></a>type_specification ::= TEXT | VARCHAR
</span><span id="__span-404-2"><a id="__codelineno-404-2" name="__codelineno-404-2"></a>
</span><span id="__span-404-3"><a id="__codelineno-404-3" name="__codelineno-404-3"></a>text_literal ::= &quot;&#39;&quot; [ letter ...] &quot;&#39;&quot;
</span></code></pre></div></td></tr></table></div>
<ul>
<li>TEXT和VARCHAR是别名。 </li>
<li>字母是除单引号（[^']）以外的任何字符</li>
</ul>
<p>描述：</p>
<ul>
<li>TEXT或VARCHAR类型的列可以是PRIMARY KEY的一部分。 </li>
<li>隐含地说，TEXT数据类型类型的值既不能转换，也不能与非文本数据类型进行比较。 </li>
<li>TEXT字符串的长度实际上是无限的。</li>
</ul>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-405-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-405-1"><a id="__codelineno-405-1" name="__codelineno-405-1"></a>CREATE TABLE users(user_name TEXT PRIMARY KEY, full_name VARCHAR);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-406-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-406-1"><a id="__codelineno-406-1" name="__codelineno-406-1"></a>INSERT INTO users(user_name, full_name) VALUES (&#39;jane&#39;, &#39;Jane Doe&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-407-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-407-1"><a id="__codelineno-407-1" name="__codelineno-407-1"></a>INSERT INTO users(user_name, full_name) VALUES (&#39;john&#39;, &#39;John Doe&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-408-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-408-1"><a id="__codelineno-408-1" name="__codelineno-408-1"></a>UPDATE users set full_name = &#39;Jane Poe&#39; WHERE user_name = &#39;jane&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-409-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-409-1"><a id="__codelineno-409-1" name="__codelineno-409-1"></a>SELECT * FROM users;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-410-1">1</a></span>
<span class="normal"><a href="#__codelineno-410-2">2</a></span>
<span class="normal"><a href="#__codelineno-410-3">3</a></span>
<span class="normal"><a href="#__codelineno-410-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-410-1"><a id="__codelineno-410-1" name="__codelineno-410-1"></a> user_name | full_name
</span><span id="__span-410-2"><a id="__codelineno-410-2" name="__codelineno-410-2"></a>-----------+-----------
</span><span id="__span-410-3"><a id="__codelineno-410-3" name="__codelineno-410-3"></a>      jane |  Jane Poe
</span><span id="__span-410-4"><a id="__codelineno-410-4" name="__codelineno-410-4"></a>      john |  John Doe
</span></code></pre></div></td></tr></table></div>
<h2 id="date-time-and-timestamp"><strong>DATE, TIME, and TIMESTAMP</strong><a class="headerlink" href="#date-time-and-timestamp" title="Permanent link">&para;</a></h2>
<p>使用日期时间数据类型可以指定时区的日期和时间数据，指定特定日期的date数据，指定一天中的时间的time数据，以及指定日期和时间组合的TIMESTAMP数据。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-411-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-411-1"><a id="__codelineno-411-1" name="__codelineno-411-1"></a>type_specification ::= TIMESTAMP | DATE | TIME
</span></code></pre></div></td></tr></table></div>
<ul>
<li>DATE、TIME和TIMESTAMP类型的列可以是PRIMARY KEY的一部分。 </li>
<li>隐含地说，日期时间类型的值不能转换或与其他数据类型进行比较。 </li>
<li>具有正确格式（如上所述）的整数和文本数据类型的值可转换为日期时间类型。 </li>
<li>支持的时间戳范围是从1900年到9999年。 </li>
<li>小时、分钟、秒和毫秒组件的默认值为0。 </li>
<li>默认时区为UTC。</li>
</ul>
<p>1）DATE
日期使用32位无符号整数表示，该整数表示自epoch（1970年1月1日）以来的天数，没有相应的时间值。使用INSERT或UPDATE将值添加为整数（自epoch以来的天数）或以下所示的字符串格式。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-412-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-412-1"><a id="__codelineno-412-1" name="__codelineno-412-1"></a>yyyy-mm-dd
</span></code></pre></div></td></tr></table></div>
<ul>
<li>yyyy: 四位数的年</li>
<li>mm: 两位数的月</li>
<li>dd: 两位数的日</li>
</ul>
<p>例如： 2020-07-29</p>
<p>2）TIME
时间数据类型的值被编码为64位有符号整数，表示自午夜以来的纳秒数，没有相应的日期值。 
使用INSERT或UPDATE以以下字符串格式添加值，其中毫秒（f）是可选的，如果提供，则可以小于纳秒</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-413-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-413-1"><a id="__codelineno-413-1" name="__codelineno-413-1"></a>hh:mm:ss[.fffffffff]
</span></code></pre></div></td></tr></table></div>
<ul>
<li>hh：两位数的小时，使用24小时制时钟。 </li>
<li>mm：两位数的分钟。 </li>
<li>ss：两位数的秒。 </li>
<li>fffffffff：（可选）三位数的毫秒或纳秒。排除时，设置为0。</li>
</ul>
<p>例如： 12:34:56 或12:34:56.789 或12:34:56.123456789</p>
<p>3）TIMESTAMP
时间戳数据类型的值以ISO 8601格式组合了日期、时间和时区。 
使用INSERT或UPDATE以如下所示的字符串格式添加值，其中毫秒（f）是可选的</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-414-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-414-1"><a id="__codelineno-414-1" name="__codelineno-414-1"></a>yyyy-mm-dd[ (T| )HH:MM[:SS][.fff]][(+|-)NNNN]
</span></code></pre></div></td></tr></table></div>
<p>必填日期（yyyy-mm-dd），其中： </p>
<ul>
<li>yyyy：四位数年份。 </li>
<li>mm：两位数的月份。 </li>
<li>dd：两位数的天。 </li>
</ul>
<p>可选时间（HH:MM[：SS][.fff]），其中： </p>
<ul>
<li>HH：两位数的小时，使用24小时制时钟。 </li>
<li>MM：两位数的分钟数。 </li>
<li>SS：（可选）两位数秒。 </li>
<li>fff：（可选）三位数的毫秒。排除时，设置为0。</li>
</ul>
<p>可选时区（（+|-）NNNN），其中： </p>
<ul>
<li>+|-：将NNNN与GMT相加或相减 </li>
<li>NNNN：4位时区（RFC 822）。例如，+0000是GMT，-0800是PST。 
  NNNN是RFC-822的4位时区，例如+0000是GMT，-0800是PST。 </li>
</ul>
<p>例如，对于July 29, 2020太平洋标准时间午夜，有效的时间戳值包括2020-07-29 12:34:56.789+0000、2020-07-29 12:34:56.789、2020-07-29 12:34:56和2020-07-29</p>
<p>示例：</p>
<p>1）使用日期和时间类型</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-415-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-415-1"><a id="__codelineno-415-1" name="__codelineno-415-1"></a>CREATE TABLE orders(customer_id INT, order_date DATE, order_time TIME, amount DECIMAL, PRIMARY KEY ((customer_id), order_date, order_time));
</span></code></pre></div></td></tr></table></div>
<p>可以使用currentdate 和currenttime 标准函数插入日期和时间值。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-416-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-416-1"><a id="__codelineno-416-1" name="__codelineno-416-1"></a>INSERT INTO orders(customer_id, order_date, order_time, amount) VALUES (1, currentdate(), currenttime(), 85.99);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-417-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-417-1"><a id="__codelineno-417-1" name="__codelineno-417-1"></a>INSERT INTO orders(customer_id, order_date, order_time, amount) VALUES (1, currentdate(), currenttime(), 34.15);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-418-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-418-1"><a id="__codelineno-418-1" name="__codelineno-418-1"></a>INSERT INTO orders(customer_id, order_date, order_time, amount) VALUES (2, currentdate(), currenttime(), 55.45);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-419-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-419-1"><a id="__codelineno-419-1" name="__codelineno-419-1"></a>SELECT * FROM orders;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-420-1">1</a></span>
<span class="normal"><a href="#__codelineno-420-2">2</a></span>
<span class="normal"><a href="#__codelineno-420-3">3</a></span>
<span class="normal"><a href="#__codelineno-420-4">4</a></span>
<span class="normal"><a href="#__codelineno-420-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-420-1"><a id="__codelineno-420-1" name="__codelineno-420-1"></a> customer_id | order_date | order_time         | amount
</span><span id="__span-420-2"><a id="__codelineno-420-2" name="__codelineno-420-2"></a>-------------+------------+--------------------+--------
</span><span id="__span-420-3"><a id="__codelineno-420-3" name="__codelineno-420-3"></a>           1 | 2018-10-09 | 17:12:25.824094000 |  85.99
</span><span id="__span-420-4"><a id="__codelineno-420-4" name="__codelineno-420-4"></a>           1 | 2018-10-09 | 17:12:56.350031000 |  34.15
</span><span id="__span-420-5"><a id="__codelineno-420-5" name="__codelineno-420-5"></a>           2 | 2018-10-09 | 17:13:15.203633000 |  55.45
</span></code></pre></div></td></tr></table></div>
<p>日期值可以使用日期时间文本给出。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-421-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-421-1"><a id="__codelineno-421-1" name="__codelineno-421-1"></a>SELECT sum(amount) FROM orders WHERE customer_id = 1 AND order_date = &#39;2018-10-09&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-422-1">1</a></span>
<span class="normal"><a href="#__codelineno-422-2">2</a></span>
<span class="normal"><a href="#__codelineno-422-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-422-1"><a id="__codelineno-422-1" name="__codelineno-422-1"></a> system.sum(amount)
</span><span id="__span-422-2"><a id="__codelineno-422-2" name="__codelineno-422-2"></a>--------------------
</span><span id="__span-422-3"><a id="__codelineno-422-3" name="__codelineno-422-3"></a>             120.14
</span></code></pre></div></td></tr></table></div>
<p>2）使用timestamp 类型</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-423-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-423-1"><a id="__codelineno-423-1" name="__codelineno-423-1"></a>CREATE TABLE sensor_data(sensor_id INT, ts TIMESTAMP, value FLOAT, PRIMARY KEY(sensor_id, ts));
</span></code></pre></div></td></tr></table></div>
<p>时间戳值可以使用日期-时间文本给出。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-424-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-424-1"><a id="__codelineno-424-1" name="__codelineno-424-1"></a>INSERT INTO sensor_data(sensor_id, ts, value) VALUES (1, &#39;2017-07-04 12:30:30 UTC&#39;, 12.5);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-425-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-425-1"><a id="__codelineno-425-1" name="__codelineno-425-1"></a>INSERT INTO sensor_data(sensor_id, ts, value) VALUES (1, &#39;2017-07-04 12:31 UTC&#39;, 13.5);
</span></code></pre></div></td></tr></table></div>
<p>时间戳值也可以给定为整数（从epoch开始的毫秒）。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-426-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-426-1"><a id="__codelineno-426-1" name="__codelineno-426-1"></a>INSERT INTO sensor_data(sensor_id, ts, value) VALUES (2, 1499171430000, 20);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-427-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-427-1"><a id="__codelineno-427-1" name="__codelineno-427-1"></a>SELECT * FROM sensor_data;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-428-1">1</a></span>
<span class="normal"><a href="#__codelineno-428-2">2</a></span>
<span class="normal"><a href="#__codelineno-428-3">3</a></span>
<span class="normal"><a href="#__codelineno-428-4">4</a></span>
<span class="normal"><a href="#__codelineno-428-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-428-1"><a id="__codelineno-428-1" name="__codelineno-428-1"></a> sensor_id | ts                              | value
</span><span id="__span-428-2"><a id="__codelineno-428-2" name="__codelineno-428-2"></a>-----------+---------------------------------+-------
</span><span id="__span-428-3"><a id="__codelineno-428-3" name="__codelineno-428-3"></a>         2 | 2017-07-04 12:30:30.000000+0000 |    20
</span><span id="__span-428-4"><a id="__codelineno-428-4" name="__codelineno-428-4"></a>         1 | 2017-07-04 12:30:30.000000+0000 |  12.5
</span><span id="__span-428-5"><a id="__codelineno-428-5" name="__codelineno-428-5"></a>         1 | 2017-07-04 12:31:00.000000+0000 |  13.5
</span></code></pre></div></td></tr></table></div>
<p>3）支持的时间戳文字</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-429-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-429-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-429-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-429-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-429-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-429-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-429-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-429-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-429-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-429-10">10</a></span>
<span class="normal"><a href="#__codelineno-429-11">11</a></span>
<span class="normal"><a href="#__codelineno-429-12">12</a></span>
<span class="normal"><a href="#__codelineno-429-13">13</a></span>
<span class="normal"><a href="#__codelineno-429-14">14</a></span>
<span class="normal"><a href="#__codelineno-429-15">15</a></span>
<span class="normal"><a href="#__codelineno-429-16">16</a></span>
<span class="normal"><a href="#__codelineno-429-17">17</a></span>
<span class="normal"><a href="#__codelineno-429-18">18</a></span>
<span class="normal"><a href="#__codelineno-429-19">19</a></span>
<span class="normal"><a href="#__codelineno-429-20">20</a></span>
<span class="normal"><a href="#__codelineno-429-21">21</a></span>
<span class="normal"><a href="#__codelineno-429-22">22</a></span>
<span class="normal"><a href="#__codelineno-429-23">23</a></span>
<span class="normal"><a href="#__codelineno-429-24">24</a></span>
<span class="normal"><a href="#__codelineno-429-25">25</a></span>
<span class="normal"><a href="#__codelineno-429-26">26</a></span>
<span class="normal"><a href="#__codelineno-429-27">27</a></span>
<span class="normal"><a href="#__codelineno-429-28">28</a></span>
<span class="normal"><a href="#__codelineno-429-29">29</a></span>
<span class="normal"><a href="#__codelineno-429-30">30</a></span>
<span class="normal"><a href="#__codelineno-429-31">31</a></span>
<span class="normal"><a href="#__codelineno-429-32">32</a></span>
<span class="normal"><a href="#__codelineno-429-33">33</a></span>
<span class="normal"><a href="#__codelineno-429-34">34</a></span>
<span class="normal"><a href="#__codelineno-429-35">35</a></span>
<span class="normal"><a href="#__codelineno-429-36">36</a></span>
<span class="normal"><a href="#__codelineno-429-37">37</a></span>
<span class="normal"><a href="#__codelineno-429-38">38</a></span>
<span class="normal"><a href="#__codelineno-429-39">39</a></span>
<span class="normal"><a href="#__codelineno-429-40">40</a></span>
<span class="normal"><a href="#__codelineno-429-41">41</a></span>
<span class="normal"><a href="#__codelineno-429-42">42</a></span>
<span class="normal"><a href="#__codelineno-429-43">43</a></span>
<span class="normal"><a href="#__codelineno-429-44">44</a></span>
<span class="normal"><a href="#__codelineno-429-45">45</a></span>
<span class="normal"><a href="#__codelineno-429-46">46</a></span>
<span class="normal"><a href="#__codelineno-429-47">47</a></span>
<span class="normal"><a href="#__codelineno-429-48">48</a></span>
<span class="normal"><a href="#__codelineno-429-49">49</a></span>
<span class="normal"><a href="#__codelineno-429-50">50</a></span>
<span class="normal"><a href="#__codelineno-429-51">51</a></span>
<span class="normal"><a href="#__codelineno-429-52">52</a></span>
<span class="normal"><a href="#__codelineno-429-53">53</a></span>
<span class="normal"><a href="#__codelineno-429-54">54</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-429-1"><a id="__codelineno-429-1" name="__codelineno-429-1"></a>&#39;1992-06-04 12:30&#39;
</span><span id="__span-429-2"><a id="__codelineno-429-2" name="__codelineno-429-2"></a>&#39;1992-6-4 12:30&#39;
</span><span id="__span-429-3"><a id="__codelineno-429-3" name="__codelineno-429-3"></a>&#39;1992-06-04 12:30+04:00&#39;
</span><span id="__span-429-4"><a id="__codelineno-429-4" name="__codelineno-429-4"></a>&#39;1992-6-4 12:30-04:30&#39;
</span><span id="__span-429-5"><a id="__codelineno-429-5" name="__codelineno-429-5"></a>&#39;1992-06-04 12:30 UTC+04:00&#39;
</span><span id="__span-429-6"><a id="__codelineno-429-6" name="__codelineno-429-6"></a>&#39;1992-6-4 12:30 UTC-04:30&#39;
</span><span id="__span-429-7"><a id="__codelineno-429-7" name="__codelineno-429-7"></a>&#39;1992-06-04 12:30.321&#39;
</span><span id="__span-429-8"><a id="__codelineno-429-8" name="__codelineno-429-8"></a>&#39;1992-6-4 12:30.12&#39;
</span><span id="__span-429-9"><a id="__codelineno-429-9" name="__codelineno-429-9"></a>&#39;1992-06-04 12:30.321+04:00&#39;
</span><span id="__span-429-10"><a id="__codelineno-429-10" name="__codelineno-429-10"></a>&#39;1992-6-4 12:30.12-04:30&#39;
</span><span id="__span-429-11"><a id="__codelineno-429-11" name="__codelineno-429-11"></a>&#39;1992-06-04 12:30.321 UTC+04:00&#39;
</span><span id="__span-429-12"><a id="__codelineno-429-12" name="__codelineno-429-12"></a>&#39;1992-6-4 12:30.12 UTC-04:30&#39;
</span><span id="__span-429-13"><a id="__codelineno-429-13" name="__codelineno-429-13"></a>&#39;1992-06-04 12:30:45&#39;
</span><span id="__span-429-14"><a id="__codelineno-429-14" name="__codelineno-429-14"></a>&#39;1992-6-4 12:30:45&#39;
</span><span id="__span-429-15"><a id="__codelineno-429-15" name="__codelineno-429-15"></a>&#39;1992-06-04 12:30:45+04:00&#39;
</span><span id="__span-429-16"><a id="__codelineno-429-16" name="__codelineno-429-16"></a>&#39;1992-6-4 12:30:45-04:30&#39;
</span><span id="__span-429-17"><a id="__codelineno-429-17" name="__codelineno-429-17"></a>&#39;1992-06-04 12:30:45 UTC+04:00&#39;
</span><span id="__span-429-18"><a id="__codelineno-429-18" name="__codelineno-429-18"></a>&#39;1992-6-4 12:30:45 UTC-04:30&#39;
</span><span id="__span-429-19"><a id="__codelineno-429-19" name="__codelineno-429-19"></a>&#39;1992-06-04 12:30:45.321&#39;
</span><span id="__span-429-20"><a id="__codelineno-429-20" name="__codelineno-429-20"></a>&#39;1992-6-4 12:30:45.12&#39;
</span><span id="__span-429-21"><a id="__codelineno-429-21" name="__codelineno-429-21"></a>&#39;1992-06-04 12:30:45.321+04:00&#39;
</span><span id="__span-429-22"><a id="__codelineno-429-22" name="__codelineno-429-22"></a>&#39;1992-6-4 12:30:45.12-04:30&#39;
</span><span id="__span-429-23"><a id="__codelineno-429-23" name="__codelineno-429-23"></a>&#39;1992-06-04 12:30:45.321 UTC+04:00&#39;
</span><span id="__span-429-24"><a id="__codelineno-429-24" name="__codelineno-429-24"></a>&#39;1992-6-4 12:30:45.12 UTC-04:30&#39;
</span><span id="__span-429-25"><a id="__codelineno-429-25" name="__codelineno-429-25"></a>&#39;1992-06-04T12:30&#39;
</span><span id="__span-429-26"><a id="__codelineno-429-26" name="__codelineno-429-26"></a>&#39;1992-6-4T12:30&#39;
</span><span id="__span-429-27"><a id="__codelineno-429-27" name="__codelineno-429-27"></a>&#39;1992-06-04T12:30+04:00&#39;
</span><span id="__span-429-28"><a id="__codelineno-429-28" name="__codelineno-429-28"></a>&#39;1992-6-4T12:30-04:30&#39;
</span><span id="__span-429-29"><a id="__codelineno-429-29" name="__codelineno-429-29"></a>&#39;1992-06-04T12:30 UTC+04:00&#39;
</span><span id="__span-429-30"><a id="__codelineno-429-30" name="__codelineno-429-30"></a>&#39;1992-6-4T12:30TUTC-04:30&#39;
</span><span id="__span-429-31"><a id="__codelineno-429-31" name="__codelineno-429-31"></a>&#39;1992-06-04T12:30.321&#39;
</span><span id="__span-429-32"><a id="__codelineno-429-32" name="__codelineno-429-32"></a>&#39;1992-6-4T12:30.12&#39;
</span><span id="__span-429-33"><a id="__codelineno-429-33" name="__codelineno-429-33"></a>&#39;1992-06-04T12:30.321+04:00&#39;
</span><span id="__span-429-34"><a id="__codelineno-429-34" name="__codelineno-429-34"></a>&#39;1992-6-4T12:30.12-04:30&#39;
</span><span id="__span-429-35"><a id="__codelineno-429-35" name="__codelineno-429-35"></a>&#39;1992-06-04T12:30.321 UTC+04:00&#39;
</span><span id="__span-429-36"><a id="__codelineno-429-36" name="__codelineno-429-36"></a>&#39;1992-6-4T12:30.12 UTC-04:30&#39;
</span><span id="__span-429-37"><a id="__codelineno-429-37" name="__codelineno-429-37"></a>&#39;1992-06-04T12:30:45&#39;
</span><span id="__span-429-38"><a id="__codelineno-429-38" name="__codelineno-429-38"></a>&#39;1992-6-4T12:30:45&#39;
</span><span id="__span-429-39"><a id="__codelineno-429-39" name="__codelineno-429-39"></a>&#39;1992-06-04T12:30:45+04:00&#39;
</span><span id="__span-429-40"><a id="__codelineno-429-40" name="__codelineno-429-40"></a>&#39;1992-6-4T12:30:45-04:30&#39;
</span><span id="__span-429-41"><a id="__codelineno-429-41" name="__codelineno-429-41"></a>&#39;1992-06-04T12:30:45 UTC+04:00&#39;
</span><span id="__span-429-42"><a id="__codelineno-429-42" name="__codelineno-429-42"></a>&#39;1992-6-4T12:30:45 UTC-04:30&#39;
</span><span id="__span-429-43"><a id="__codelineno-429-43" name="__codelineno-429-43"></a>&#39;1992-06-04T12:30:45.321&#39;
</span><span id="__span-429-44"><a id="__codelineno-429-44" name="__codelineno-429-44"></a>&#39;1992-6-4T12:30:45.12&#39;
</span><span id="__span-429-45"><a id="__codelineno-429-45" name="__codelineno-429-45"></a>&#39;1992-06-04T12:30:45.321+04:00&#39;
</span><span id="__span-429-46"><a id="__codelineno-429-46" name="__codelineno-429-46"></a>&#39;1992-6-4T12:30:45.12-04:30&#39;
</span><span id="__span-429-47"><a id="__codelineno-429-47" name="__codelineno-429-47"></a>&#39;1992-06-04T12:30:45.321 UTC+04:00&#39;
</span><span id="__span-429-48"><a id="__codelineno-429-48" name="__codelineno-429-48"></a>&#39;1992-6-4T12:30:45.12 UTC-04:30&#39;
</span><span id="__span-429-49"><a id="__codelineno-429-49" name="__codelineno-429-49"></a>&#39;1992-06-04&#39;
</span><span id="__span-429-50"><a id="__codelineno-429-50" name="__codelineno-429-50"></a>&#39;1992-6-4&#39;
</span><span id="__span-429-51"><a id="__codelineno-429-51" name="__codelineno-429-51"></a>&#39;1992-06-04+04:00&#39;
</span><span id="__span-429-52"><a id="__codelineno-429-52" name="__codelineno-429-52"></a>&#39;1992-6-4-04:30&#39;
</span><span id="__span-429-53"><a id="__codelineno-429-53" name="__codelineno-429-53"></a>&#39;1992-06-04 UTC+04:00&#39;
</span><span id="__span-429-54"><a id="__codelineno-429-54" name="__codelineno-429-54"></a>&#39;1992-6-4 UTC-04:30&#39;
</span></code></pre></div></td></tr></table></div>
<h2 id="uuid-and-timeuuid"><strong>UUID and TIMEUUID</strong><a class="headerlink" href="#uuid-and-timeuuid" title="Permanent link">&para;</a></h2>
<p>使用UUID数据类型为具有通用唯一ID的数据指定列。TIMEUUID 是一个通用的唯一标识符，包括时间信息。</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>UUID</td>
<td>UUID</td>
</tr>
<tr>
<td>TIMEUUID</td>
<td>UUID</td>
</tr>
</tbody>
</table>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-430-1">1</a></span>
<span class="normal"><a href="#__codelineno-430-2">2</a></span>
<span class="normal"><a href="#__codelineno-430-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-430-1"><a id="__codelineno-430-1" name="__codelineno-430-1"></a>type_specification ::= { UUID | TIMEUUID }
</span><span id="__span-430-2"><a id="__codelineno-430-2" name="__codelineno-430-2"></a>uuid_literal ::= 4hex_block 4hex_block &#39;-&#39; 4hex_block &#39;-&#39; 4hex_block &#39;-&#39; 4hex_block &#39;-&#39; 4hex_block 4hex_block 4hex_block
</span><span id="__span-430-3"><a id="__codelineno-430-3" name="__codelineno-430-3"></a>4hex_block ::= hex_digit hex_digit hex_digit hex_digit
</span></code></pre></div></td></tr></table></div>
<ul>
<li>hex_digit是一个十六进制数字（[0-9a-fA-F]）。</li>
</ul>
<p>描述：</p>
<ul>
<li>UUID或TIMEUUID类型的列可以是PRIMARY KEY的一部分。 </li>
<li>隐含地说，类型UUID和TIMEUUID数据类型的值既不能转换，也不能与其他数据类型进行比较。 </li>
<li>TIMEUUID是UUID：它们包括生成的日期和时间以及空间唯一的节点标识符。 </li>
<li>TIMEUUID值的比较首先比较时间，然后（如果时间相等）比较节点标识符。</li>
</ul>
<p>示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-431-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-431-1"><a id="__codelineno-431-1" name="__codelineno-431-1"></a>CREATE TABLE devices(id UUID PRIMARY KEY, ordered_id TIMEUUID);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-432-1">1</a></span>
<span class="normal"><a href="#__codelineno-432-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-432-1"><a id="__codelineno-432-1" name="__codelineno-432-1"></a>INSERT INTO devices (id, ordered_id)
</span><span id="__span-432-2"><a id="__codelineno-432-2" name="__codelineno-432-2"></a>       VALUES (123e4567-e89b-12d3-a456-426655440000, 123e4567-e89b-12d3-a456-426655440000);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-433-1">1</a></span>
<span class="normal"><a href="#__codelineno-433-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-433-1"><a id="__codelineno-433-1" name="__codelineno-433-1"></a>INSERT INTO devices (id, ordered_id)
</span><span id="__span-433-2"><a id="__codelineno-433-2" name="__codelineno-433-2"></a>       VALUES (123e4567-e89b-42d3-a456-426655440000, 123e4567-e89b-12d3-a456-426655440000);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-434-1">1</a></span>
<span class="normal"><a href="#__codelineno-434-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-434-1"><a id="__codelineno-434-1" name="__codelineno-434-1"></a>UPDATE devices SET ordered_id = 00000000-0000-1000-0000-000000000000
</span><span id="__span-434-2"><a id="__codelineno-434-2" name="__codelineno-434-2"></a>        WHERE id = 123e4567-e89b-42d3-a456-426655440000;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-435-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-435-1"><a id="__codelineno-435-1" name="__codelineno-435-1"></a>SELECT * FROM devices;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-436-1">1</a></span>
<span class="normal"><a href="#__codelineno-436-2">2</a></span>
<span class="normal"><a href="#__codelineno-436-3">3</a></span>
<span class="normal"><a href="#__codelineno-436-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-436-1"><a id="__codelineno-436-1" name="__codelineno-436-1"></a>id                                   | ordered_id
</span><span id="__span-436-2"><a id="__codelineno-436-2" name="__codelineno-436-2"></a>--------------------------------------+--------------------------------------
</span><span id="__span-436-3"><a id="__codelineno-436-3" name="__codelineno-436-3"></a> 123e4567-e89b-12d3-a456-426655440000 | 123e4567-e89b-12d3-a456-426655440000
</span><span id="__span-436-4"><a id="__codelineno-436-4" name="__codelineno-436-4"></a> 123e4567-e89b-42d3-a456-426655440000 | 00000000-0000-1000-0000-000000000000
</span></code></pre></div></td></tr></table></div>
<h2 id="jsonb"><strong>JSONB</strong><a class="headerlink" href="#jsonb" title="Permanent link">&para;</a></h2>
<p>使用JSONB数据类型可以有效地为JSON数据建模。这种数据类型使得对没有设置模式并且可能经常更改的JSON数据进行建模变得容易。此数据类型类似于PostgreSQL中的JSONB数据类型。JSON文档被序列化为易于搜索和检索的格式。这是通过按排序顺序存储所有JSON键来实现的，这允许对键进行高效的二进制搜索。类似地，数组的存储使得可以对序列化json文档中的特定数组索引进行随机访问。 
目前，对JSONB列的某些属性的更新需要完整的读-修改-写操作。</p>
<p>语法：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-437-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-437-1"><a id="__codelineno-437-1" name="__codelineno-437-1"></a>type_specification ::= { JSONB }
</span></code></pre></div></td></tr></table></div>
<ul>
<li>JSONB类型的列不能是PRIMARY KEY的一部分。 </li>
<li>隐含地说，JSONB类型的值不能转换为其他数据类型。只要JSONB类型表示有效的json，就可以将其与TEXT/VARCHAR数据类型进行比较。 </li>
<li>具有正确格式的文本数据类型的值可转换为JSONB。 </li>
<li>JSONB值格式支持有效json的文本文字。</li>
</ul>
<p>操作符和函数：
我们目前支持两个可应用于JSONB数据类型的运算符。-&gt;运算符返回JSONB类型的结果，并且可以对结果应用进一步的json操作。-&gt;&gt;运算符将JSONB转换为其字符串表示形式并返回相同的值。因此，您无法将更多的JSONB运算符应用于-&gt;&gt;运算符的结果。这些运算符可以有一个字符串（用于json对象中的键）或整数（用于json数组中的数组索引）作为参数。 
在某些情况下，您希望将JSON属性处理为数字。为此，您可以使用CAST函数将从-&gt;&gt;运算符检索到的文本转换为适当的数字类型。</p>
<p>示例：
1）创建含有JSONB列的表。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-438-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-438-1"><a id="__codelineno-438-1" name="__codelineno-438-1"></a>CREATE KEYSPACE store;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-439-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-439-1"><a id="__codelineno-439-1" name="__codelineno-439-1"></a>CREATE TABLE store.books ( id int PRIMARY KEY, details jsonb );
</span></code></pre></div></td></tr></table></div>
<p>2）Insert JSONB文档</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-440-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-440-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-440-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-440-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-440-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-440-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-440-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-440-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-440-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-440-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-440-1"><a id="__codelineno-440-1" name="__codelineno-440-1"></a>INSERT INTO store.books (id, details) VALUES
</span><span id="__span-440-2"><a id="__codelineno-440-2" name="__codelineno-440-2"></a>  (1, &#39;{ &quot;name&quot;: &quot;Macbeth&quot;, &quot;author&quot;: { &quot;first_name&quot;: &quot;William&quot;, &quot;last_name&quot;: &quot;Shakespeare&quot; }, &quot;year&quot;: 1623, &quot;editors&quot;: [&quot;John&quot;, &quot;Elizabeth&quot;, &quot;Jeff&quot;] }&#39;);
</span><span id="__span-440-3"><a id="__codelineno-440-3" name="__codelineno-440-3"></a>INSERT INTO store.books (id, details) VALUES
</span><span id="__span-440-4"><a id="__codelineno-440-4" name="__codelineno-440-4"></a>  (2, &#39;{ &quot;name&quot;: &quot;Hamlet&quot;, &quot;author&quot;: { &quot;first_name&quot;: &quot;William&quot;, &quot;last_name&quot;: &quot;Shakespeare&quot; }, &quot;year&quot;: 1603, &quot;editors&quot;: [&quot;Lysa&quot;, &quot;Mark&quot;, &quot;Robert&quot;] }&#39;);
</span><span id="__span-440-5"><a id="__codelineno-440-5" name="__codelineno-440-5"></a>INSERT INTO store.books (id, details) VALUES
</span><span id="__span-440-6"><a id="__codelineno-440-6" name="__codelineno-440-6"></a>  (3, &#39;{ &quot;name&quot;: &quot;Oliver Twist&quot;, &quot;author&quot;: { &quot;first_name&quot;: &quot;Charles&quot;, &quot;last_name&quot;: &quot;Dickens&quot; }, &quot;year&quot;: 1838, &quot;genre&quot;: &quot;novel&quot;, &quot;editors&quot;: [&quot;Mark&quot;, &quot;Tony&quot;, &quot;Britney&quot;] }&#39;);
</span><span id="__span-440-7"><a id="__codelineno-440-7" name="__codelineno-440-7"></a>INSERT INTO store.books (id, details) VALUES
</span><span id="__span-440-8"><a id="__codelineno-440-8" name="__codelineno-440-8"></a>  (4, &#39;{ &quot;name&quot;: &quot;Great Expectations&quot;, &quot;author&quot;: { &quot;first_name&quot;: &quot;Charles&quot;, &quot;last_name&quot;: &quot;Dickens&quot; }, &quot;year&quot;: 1950, &quot;genre&quot;: &quot;novel&quot;, &quot;editors&quot;: [&quot;Robert&quot;, &quot;John&quot;, &quot;Melisa&quot;] }&#39;);
</span><span id="__span-440-9"><a id="__codelineno-440-9" name="__codelineno-440-9"></a>INSERT INTO store.books (id, details) VALUES
</span><span id="__span-440-10"><a id="__codelineno-440-10" name="__codelineno-440-10"></a>  (5, &#39;{ &quot;name&quot;: &quot;A Brief History of Time&quot;, &quot;author&quot;: { &quot;first_name&quot;: &quot;Stephen&quot;, &quot;last_name&quot;: &quot;Hawking&quot; }, &quot;year&quot;: 1988, &quot;genre&quot;: &quot;science&quot;, &quot;editors&quot;: [&quot;Melisa&quot;, &quot;Mark&quot;, &quot;John&quot;] }&#39;);
</span></code></pre></div></td></tr></table></div>
<p>3）查询</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-441-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-441-1"><a id="__codelineno-441-1" name="__codelineno-441-1"></a>SELECT * FROM store.books;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-442-1">1</a></span>
<span class="normal"><a href="#__codelineno-442-2">2</a></span>
<span class="normal"><a href="#__codelineno-442-3">3</a></span>
<span class="normal"><a href="#__codelineno-442-4">4</a></span>
<span class="normal"><a href="#__codelineno-442-5">5</a></span>
<span class="normal"><a href="#__codelineno-442-6">6</a></span>
<span class="normal"><a href="#__codelineno-442-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-442-1"><a id="__codelineno-442-1" name="__codelineno-442-1"></a>id | details
</span><span id="__span-442-2"><a id="__codelineno-442-2" name="__codelineno-442-2"></a>----+-------------------------------------------------------------------------------------------------------------------------------------------------------------
</span><span id="__span-442-3"><a id="__codelineno-442-3" name="__codelineno-442-3"></a>  5 | {&quot;author&quot;:{&quot;first_name&quot;:&quot;Stephen&quot;,&quot;last_name&quot;:&quot;Hawking&quot;},&quot;editors&quot;:[&quot;Melisa&quot;,&quot;Mark&quot;,&quot;John&quot;],&quot;genre&quot;:&quot;science&quot;,&quot;name&quot;:&quot;A Brief History of Time&quot;,&quot;year&quot;:1988}
</span><span id="__span-442-4"><a id="__codelineno-442-4" name="__codelineno-442-4"></a>  1 |                            {&quot;author&quot;:{&quot;first_name&quot;:&quot;William&quot;,&quot;last_name&quot;:&quot;Shakespeare&quot;},&quot;editors&quot;:[&quot;John&quot;,&quot;Elizabeth&quot;,&quot;Jeff&quot;],&quot;name&quot;:&quot;Macbeth&quot;,&quot;year&quot;:1623}
</span><span id="__span-442-5"><a id="__codelineno-442-5" name="__codelineno-442-5"></a>  4 |      {&quot;author&quot;:{&quot;first_name&quot;:&quot;Charles&quot;,&quot;last_name&quot;:&quot;Dickens&quot;},&quot;editors&quot;:[&quot;Robert&quot;,&quot;John&quot;,&quot;Melisa&quot;],&quot;genre&quot;:&quot;novel&quot;,&quot;name&quot;:&quot;Great Expectations&quot;,&quot;year&quot;:1950}
</span><span id="__span-442-6"><a id="__codelineno-442-6" name="__codelineno-442-6"></a>  2 |                                {&quot;author&quot;:{&quot;first_name&quot;:&quot;William&quot;,&quot;last_name&quot;:&quot;Shakespeare&quot;},&quot;editors&quot;:[&quot;Lysa&quot;,&quot;Mark&quot;,&quot;Robert&quot;],&quot;name&quot;:&quot;Hamlet&quot;,&quot;year&quot;:1603}
</span><span id="__span-442-7"><a id="__codelineno-442-7" name="__codelineno-442-7"></a>  3 |             {&quot;author&quot;:{&quot;first_name&quot;:&quot;Charles&quot;,&quot;last_name&quot;:&quot;Dickens&quot;},&quot;editors&quot;:[&quot;Mark&quot;,&quot;Tony&quot;,&quot;Britney&quot;],&quot;genre&quot;:&quot;novel&quot;,&quot;name&quot;:&quot;Oliver Twist&quot;,&quot;year&quot;:1838}
</span></code></pre></div></td></tr></table></div>
<p>4）以JSONB对象值为条件进行选择。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-443-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-443-1"><a id="__codelineno-443-1" name="__codelineno-443-1"></a>SELECT * FROM store.books WHERE details-&gt;&#39;author&#39;-&gt;&gt;&#39;first_name&#39; = &#39;William&#39; AND details-&gt;&#39;author&#39;-&gt;&gt;&#39;last_name&#39; = &#39;Shakespeare&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-444-1">1</a></span>
<span class="normal"><a href="#__codelineno-444-2">2</a></span>
<span class="normal"><a href="#__codelineno-444-3">3</a></span>
<span class="normal"><a href="#__codelineno-444-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-444-1"><a id="__codelineno-444-1" name="__codelineno-444-1"></a>id | details
</span><span id="__span-444-2"><a id="__codelineno-444-2" name="__codelineno-444-2"></a>----+----------------------------------------------------------------------------------------------------------------------------------
</span><span id="__span-444-3"><a id="__codelineno-444-3" name="__codelineno-444-3"></a>  1 | {&quot;author&quot;:{&quot;first_name&quot;:&quot;William&quot;,&quot;last_name&quot;:&quot;Shakespeare&quot;},&quot;editors&quot;:[&quot;John&quot;,&quot;Elizabeth&quot;,&quot;Jeff&quot;],&quot;name&quot;:&quot;Macbeth&quot;,&quot;year&quot;:1623}
</span><span id="__span-444-4"><a id="__codelineno-444-4" name="__codelineno-444-4"></a>  2 |     {&quot;author&quot;:{&quot;first_name&quot;:&quot;William&quot;,&quot;last_name&quot;:&quot;Shakespeare&quot;},&quot;editors&quot;:[&quot;Lysa&quot;,&quot;Mark&quot;,&quot;Robert&quot;],&quot;name&quot;:&quot;Hamlet&quot;,&quot;year&quot;:1603}
</span></code></pre></div></td></tr></table></div>
<p>5）以JSONB数组元素为条件进行选择。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-445-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-445-1"><a id="__codelineno-445-1" name="__codelineno-445-1"></a>SELECT * FROM store.books WHERE details-&gt;&#39;editors&#39;-&gt;&gt;0 = &#39;Mark&#39;;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-446-1">1</a></span>
<span class="normal"><a href="#__codelineno-446-2">2</a></span>
<span class="normal"><a href="#__codelineno-446-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-446-1"><a id="__codelineno-446-1" name="__codelineno-446-1"></a>id | details
</span><span id="__span-446-2"><a id="__codelineno-446-2" name="__codelineno-446-2"></a>----+-------------------------------------------------------------------------------------------------------------------------------------------------
</span><span id="__span-446-3"><a id="__codelineno-446-3" name="__codelineno-446-3"></a>  3 | {&quot;author&quot;:{&quot;first_name&quot;:&quot;Charles&quot;,&quot;last_name&quot;:&quot;Dickens&quot;},&quot;editors&quot;:[&quot;Mark&quot;,&quot;Tony&quot;,&quot;Britney&quot;],&quot;genre&quot;:&quot;novel&quot;,&quot;name&quot;:&quot;Oliver Twist&quot;,&quot;year&quot;:1838}
</span></code></pre></div></td></tr></table></div>
<p>6）在JSONB元素上使用条件选择。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-447-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-447-1"><a id="__codelineno-447-1" name="__codelineno-447-1"></a>SELECT * FROM store.books WHERE CAST(details-&gt;&gt;&#39;year&#39; AS integer) = 1950;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-448-1">1</a></span>
<span class="normal"><a href="#__codelineno-448-2">2</a></span>
<span class="normal"><a href="#__codelineno-448-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-448-1"><a id="__codelineno-448-1" name="__codelineno-448-1"></a>id | details
</span><span id="__span-448-2"><a id="__codelineno-448-2" name="__codelineno-448-2"></a>----+--------------------------------------------------------------------------------------------------------------------------------------------------------
</span><span id="__span-448-3"><a id="__codelineno-448-3" name="__codelineno-448-3"></a>  4 | {&quot;author&quot;:{&quot;first_name&quot;:&quot;Charles&quot;,&quot;last_name&quot;:&quot;Dickens&quot;},&quot;editors&quot;:[&quot;Robert&quot;,&quot;John&quot;,&quot;Melisa&quot;],&quot;genre&quot;:&quot;novel&quot;,&quot;name&quot;:&quot;Great Expectations&quot;,&quot;year&quot;:1950}
</span></code></pre></div></td></tr></table></div>
<p>7）更新整个JSONB文档。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-449-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-449-1"><a id="__codelineno-449-1" name="__codelineno-449-1"></a>UPDATE store.books SET details = &#39;{&quot;author&quot;:{&quot;first_name&quot;:&quot;Carl&quot;,&quot;last_name&quot;:&quot;Sagan&quot;},&quot;editors&quot;:[&quot;Ann&quot;,&quot;Rob&quot;,&quot;Neil&quot;],&quot;genre&quot;:&quot;science&quot;,&quot;name&quot;:&quot;Cosmos&quot;,&quot;year&quot;:1980}&#39; WHERE id = 1;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-450-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-450-1"><a id="__codelineno-450-1" name="__codelineno-450-1"></a>SELECT * FROM store.books WHERE id = 1;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-451-1">1</a></span>
<span class="normal"><a href="#__codelineno-451-2">2</a></span>
<span class="normal"><a href="#__codelineno-451-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-451-1"><a id="__codelineno-451-1" name="__codelineno-451-1"></a>id | details
</span><span id="__span-451-2"><a id="__codelineno-451-2" name="__codelineno-451-2"></a>----+-----------------------------------------------------------------------------------------------------------------------------------
</span><span id="__span-451-3"><a id="__codelineno-451-3" name="__codelineno-451-3"></a>  1 | {&quot;author&quot;:{&quot;first_name&quot;:&quot;Carl&quot;,&quot;last_name&quot;:&quot;Sagan&quot;},&quot;editors&quot;:[&quot;Ann&quot;,&quot;Rob&quot;,&quot;Neil&quot;],&quot;genre&quot;:&quot;science&quot;,&quot;name&quot;:&quot;Cosmos&quot;,&quot;year&quot;:1980}
</span></code></pre></div></td></tr></table></div>
<p>8）更新JSONB对象值。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-452-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-452-1"><a id="__codelineno-452-1" name="__codelineno-452-1"></a>UPDATE store.books SET details-&gt;&#39;author&#39;-&gt;&gt;&#39;first_name&#39; = &#39;&quot;Steve&quot;&#39; WHERE id = 4;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-453-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-453-1"><a id="__codelineno-453-1" name="__codelineno-453-1"></a>SELECT * FROM store.books WHERE id = 4;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-454-1">1</a></span>
<span class="normal"><a href="#__codelineno-454-2">2</a></span>
<span class="normal"><a href="#__codelineno-454-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-454-1"><a id="__codelineno-454-1" name="__codelineno-454-1"></a>id | details
</span><span id="__span-454-2"><a id="__codelineno-454-2" name="__codelineno-454-2"></a>----+------------------------------------------------------------------------------------------------------------------------------------------------------
</span><span id="__span-454-3"><a id="__codelineno-454-3" name="__codelineno-454-3"></a>  4 | {&quot;author&quot;:{&quot;first_name&quot;:&quot;Steve&quot;,&quot;last_name&quot;:&quot;Dickens&quot;},&quot;editors&quot;:[&quot;Robert&quot;,&quot;John&quot;,&quot;Melisa&quot;],&quot;genre&quot;:&quot;novel&quot;,&quot;name&quot;:&quot;Great Expectations&quot;,&quot;year&quot;:1950}
</span></code></pre></div></td></tr></table></div>
<p>9）更新JSONB数组元素。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-455-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-455-1"><a id="__codelineno-455-1" name="__codelineno-455-1"></a>UPDATE store.books SET details-&gt;&#39;editors&#39;-&gt;&gt;1 = &#39;&quot;Jack&quot;&#39; WHERE id = 4;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-456-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-456-1"><a id="__codelineno-456-1" name="__codelineno-456-1"></a>SELECT * FROM store.books WHERE id = 4;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-457-1">1</a></span>
<span class="normal"><a href="#__codelineno-457-2">2</a></span>
<span class="normal"><a href="#__codelineno-457-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-457-1"><a id="__codelineno-457-1" name="__codelineno-457-1"></a>id | details
</span><span id="__span-457-2"><a id="__codelineno-457-2" name="__codelineno-457-2"></a>----+------------------------------------------------------------------------------------------------------------------------------------------------------
</span><span id="__span-457-3"><a id="__codelineno-457-3" name="__codelineno-457-3"></a>  4 | {&quot;author&quot;:{&quot;first_name&quot;:&quot;Steve&quot;,&quot;last_name&quot;:&quot;Dickens&quot;},&quot;editors&quot;:[&quot;Robert&quot;,&quot;Jack&quot;,&quot;Melisa&quot;],&quot;genre&quot;:&quot;novel&quot;,&quot;name&quot;:&quot;Great Expectations&quot;,&quot;year&quot;:1950}
</span></code></pre></div></td></tr></table></div>
<p>10）更新JSONB子文档。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-458-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-458-1"><a id="__codelineno-458-1" name="__codelineno-458-1"></a>UPDATE store.books SET details-&gt;&#39;author&#39; = &#39;{&quot;first_name&quot;:&quot;John&quot;, &quot;last_name&quot;:&quot;Doe&quot;}&#39; WHERE id = 4;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-459-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-459-1"><a id="__codelineno-459-1" name="__codelineno-459-1"></a>SELECT * FROM store.books WHERE id = 4;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-460-1">1</a></span>
<span class="normal"><a href="#__codelineno-460-2">2</a></span>
<span class="normal"><a href="#__codelineno-460-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-460-1"><a id="__codelineno-460-1" name="__codelineno-460-1"></a>id | details
</span><span id="__span-460-2"><a id="__codelineno-460-2" name="__codelineno-460-2"></a>----+-------------------------------------------------------------------------------------------------------------------------------------------------
</span><span id="__span-460-3"><a id="__codelineno-460-3" name="__codelineno-460-3"></a>  4 | {&quot;author&quot;:{&quot;first_name&quot;:&quot;John&quot;,&quot;last_name&quot;:&quot;Doe&quot;},&quot;editors&quot;:[&quot;Robert&quot;,&quot;Jack&quot;,&quot;Melisa&quot;],&quot;genre&quot;:&quot;novel&quot;,&quot;name&quot;:&quot;Great Expectations&quot;,&quot;year&quot;:1950}
</span></code></pre></div></td></tr></table></div>
<p>11）Upsert：更新导致插入的丢失的JSONB文档。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-461-1">1</a></span>
<span class="normal"><a href="#__codelineno-461-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-461-1"><a id="__codelineno-461-1" name="__codelineno-461-1"></a>INSERT INTO store.books (id, details) VALUES  (6, &#39;{}&#39;);
</span><span id="__span-461-2"><a id="__codelineno-461-2" name="__codelineno-461-2"></a>UPDATE store.books SET details-&gt;&#39;editors&#39; = &#39;[&quot;Adam&quot;, &quot;Bryan&quot;, &quot;Charles&quot;]&#39; WHERE id = 6;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-462-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-462-1"><a id="__codelineno-462-1" name="__codelineno-462-1"></a>SELECT * FROM store.books WHERE id = 6;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-463-1">1</a></span>
<span class="normal"><a href="#__codelineno-463-2">2</a></span>
<span class="normal"><a href="#__codelineno-463-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-463-1"><a id="__codelineno-463-1" name="__codelineno-463-1"></a>id | details
</span><span id="__span-463-2"><a id="__codelineno-463-2" name="__codelineno-463-2"></a>----+-------------------------------------------------------------------------------------------------------------------------------------------------
</span><span id="__span-463-3"><a id="__codelineno-463-3" name="__codelineno-463-3"></a>  6 | {&quot;editors&quot;:[&quot;Adam&quot;,&quot;Bryan&quot;,&quot;Charles&quot;]}
</span></code></pre></div></td></tr></table></div>
<p>12）Upsert：更新丢失的JSONB文档，导致插入子文档。</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-464-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-464-1"><a id="__codelineno-464-1" name="__codelineno-464-1"></a>UPDATE store.books SET details-&gt;&#39;author&#39; = &#39;{&quot;first_name&quot;:&quot;Jack&quot;, &quot;last_name&quot;:&quot;Kerouac&quot;}&#39; WHERE id = 6;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-465-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-465-1"><a id="__codelineno-465-1" name="__codelineno-465-1"></a>SELECT * FROM store.books WHERE id = 6;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-466-1">1</a></span>
<span class="normal"><a href="#__codelineno-466-2">2</a></span>
<span class="normal"><a href="#__codelineno-466-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-466-1"><a id="__codelineno-466-1" name="__codelineno-466-1"></a>id | details
</span><span id="__span-466-2"><a id="__codelineno-466-2" name="__codelineno-466-2"></a>----+-------------------------------------------------------------------------------------------------------------------------------------------------
</span><span id="__span-466-3"><a id="__codelineno-466-3" name="__codelineno-466-3"></a>  6 | {&quot;author&quot;:{&quot;first_name&quot;:&quot;Jack&quot;,&quot;last_name&quot;:&quot;Kerouac&quot;},&quot;editors&quot;:[&quot;Adam&quot;,&quot;Bryan&quot;,&quot;Charles&quot;]}
</span></code></pre></div></td></tr></table></div>
<p>请注意，JSONB upsert 仅适用于JSON对象，不适用于其他数据类型，如数组、整数、字符串等。此外，如果对象的叶属性丢失，则只插入该属性。不支持对非叶属性进行Upsert 。</p>
<h2 id="date-and-time"><strong>Date and time</strong><a class="headerlink" href="#date-and-time" title="Permanent link">&para;</a></h2>
<p>本节介绍一组BCQL内置函数，这些函数适用于日期和时间数据类型：DATE、TIME、TIMESTAMP或TIMEUUID</p>
<p>1）currentdate(), currenttime(), and currenttimestamp()
使用这些函数可以返回UTC时区中的当前系统日期和时间。 </p>
<ul>
<li>他们不接受任何参数。 </li>
<li>返回值分别是DATE、TIME或TIMESTAMP。</li>
</ul>
<p>示例：
使用currentdate()、currenttime()和currenttimestamp()插入值</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-467-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-467-1"><a id="__codelineno-467-1" name="__codelineno-467-1"></a>CREATE TABLE test_current (k INT PRIMARY KEY, d DATE, t TIME, ts TIMESTAMP);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-468-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-468-1"><a id="__codelineno-468-1" name="__codelineno-468-1"></a>INSERT INTO test_current (k, d, t, ts) VALUES (1, currentdate(), currenttime(), currenttimestamp());
</span></code></pre></div></td></tr></table></div>
<p>使用currentdate()和currenttime()进行比较</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-469-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-469-1"><a id="__codelineno-469-1" name="__codelineno-469-1"></a>SELECT * FROM test_current WHERE d = currentdate() and t &lt; currenttime();
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-470-1">1</a></span>
<span class="normal"><a href="#__codelineno-470-2">2</a></span>
<span class="normal"><a href="#__codelineno-470-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-470-1"><a id="__codelineno-470-1" name="__codelineno-470-1"></a> k | d          | t                  | ts
</span><span id="__span-470-2"><a id="__codelineno-470-2" name="__codelineno-470-2"></a>---+------------+--------------------+---------------------------------
</span><span id="__span-470-3"><a id="__codelineno-470-3" name="__codelineno-470-3"></a> 1 | 2018-10-09 | 18:00:41.688216000 | 2018-10-09 18:00:41.688000+0000
</span></code></pre></div></td></tr></table></div>
<p>2）now()</p>
<p>此函数生成一个新的唯一版本UUID（TIMEUUID）。 </p>
<ul>
<li>它不需要参数。 </li>
<li>返回值是TIMEUUID。</li>
</ul>
<p>示例：
使用now()插入值</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-471-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-471-1"><a id="__codelineno-471-1" name="__codelineno-471-1"></a>CREATE TABLE test_now (k INT PRIMARY KEY, v TIMEUUID);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-472-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-472-1"><a id="__codelineno-472-1" name="__codelineno-472-1"></a>INSERT INTO test_now (k, v) VALUES (1, now());
</span></code></pre></div></td></tr></table></div>
<p>使用now()查询</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-473-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-473-1"><a id="__codelineno-473-1" name="__codelineno-473-1"></a>SELECT now() FROM test_now;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-474-1">1</a></span>
<span class="normal"><a href="#__codelineno-474-2">2</a></span>
<span class="normal"><a href="#__codelineno-474-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-474-1"><a id="__codelineno-474-1" name="__codelineno-474-1"></a> now()
</span><span id="__span-474-2"><a id="__codelineno-474-2" name="__codelineno-474-2"></a>---------------------------------------
</span><span id="__span-474-3"><a id="__codelineno-474-3" name="__codelineno-474-3"></a> b75bfaf6-4fe9-11e8-8839-6336e659252a
</span></code></pre></div></td></tr></table></div>
<p>使用now()比较</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-475-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-475-1"><a id="__codelineno-475-1" name="__codelineno-475-1"></a>SELECT v FROM test_now WHERE v &lt; now();
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-476-1">1</a></span>
<span class="normal"><a href="#__codelineno-476-2">2</a></span>
<span class="normal"><a href="#__codelineno-476-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-476-1"><a id="__codelineno-476-1" name="__codelineno-476-1"></a> v
</span><span id="__span-476-2"><a id="__codelineno-476-2" name="__codelineno-476-2"></a>---------------------------------------
</span><span id="__span-476-3"><a id="__codelineno-476-3" name="__codelineno-476-3"></a> 71bb5104-4fe9-11e8-8839-6336e659252a
</span></code></pre></div></td></tr></table></div>
<p>3）todate()
此函数用于将时间戳或TIMEUUID 转换为相应的日期。 </p>
<ul>
<li>它接受TIMESTAMP 或TIMEUUID类型的参数。 </li>
<li>返回值为DATE。</li>
</ul>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-477-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-477-1"><a id="__codelineno-477-1" name="__codelineno-477-1"></a>CREATE TABLE test_todate (k INT PRIMARY KEY, ts TIMESTAMP);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-478-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-478-1"><a id="__codelineno-478-1" name="__codelineno-478-1"></a>INSERT INTO test_todate (k, ts) VALUES (1, currenttimestamp());
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-479-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-479-1"><a id="__codelineno-479-1" name="__codelineno-479-1"></a>SELECT todate(ts) FROM test_todate;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-480-1">1</a></span>
<span class="normal"><a href="#__codelineno-480-2">2</a></span>
<span class="normal"><a href="#__codelineno-480-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-480-1"><a id="__codelineno-480-1" name="__codelineno-480-1"></a> todate(ts)
</span><span id="__span-480-2"><a id="__codelineno-480-2" name="__codelineno-480-2"></a>------------
</span><span id="__span-480-3"><a id="__codelineno-480-3" name="__codelineno-480-3"></a> 2018-10-09
</span></code></pre></div></td></tr></table></div>
<p>4）minTimeUUID()
此函数生成具有最小节点/时钟的对应（TIMEUUID），以便在与另一个TIMEUUID 进行比较时，它包括具有该时间戳的所有常规TIMEUUID 。 </p>
<ul>
<li>它接受TIMESTAMP类型的参数。 </li>
<li>返回值是TIMEUUID。</li>
</ul>
<p>示例：
使用 now()插入数据：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-481-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-481-1"><a id="__codelineno-481-1" name="__codelineno-481-1"></a>CREATE TABLE test_min (k INT PRIMARY KEY, v TIMEUUID);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-482-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-482-1"><a id="__codelineno-482-1" name="__codelineno-482-1"></a>INSERT INTO test_min (k, v) VALUES (1, now());
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-483-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-483-1"><a id="__codelineno-483-1" name="__codelineno-483-1"></a>select k, v, totimestamp(v) from test_min;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-484-1">1</a></span>
<span class="normal"><a href="#__codelineno-484-2">2</a></span>
<span class="normal"><a href="#__codelineno-484-3">3</a></span>
<span class="normal"><a href="#__codelineno-484-4">4</a></span>
<span class="normal"><a href="#__codelineno-484-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-484-1"><a id="__codelineno-484-1" name="__codelineno-484-1"></a> k | v                                    | totimestamp(v)
</span><span id="__span-484-2"><a id="__codelineno-484-2" name="__codelineno-484-2"></a>---+--------------------------------------+---------------------------------
</span><span id="__span-484-3"><a id="__codelineno-484-3" name="__codelineno-484-3"></a> 1 | dc79344c-cb79-11ec-915e-5219fa422f77 | 2022-05-04 07:14:39.205000+0000
</span><span id="__span-484-4"><a id="__codelineno-484-4" name="__codelineno-484-4"></a>
</span><span id="__span-484-5"><a id="__codelineno-484-5" name="__codelineno-484-5"></a>(1 rows)
</span></code></pre></div></td></tr></table></div>
<p>使用minTimeUUID()查询</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-485-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-485-1"><a id="__codelineno-485-1" name="__codelineno-485-1"></a>SELECT * FROM test_min WHERE v &gt; minTimeUUID(&#39;2022-04-04 13:42:00+0000&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-486-1">1</a></span>
<span class="normal"><a href="#__codelineno-486-2">2</a></span>
<span class="normal"><a href="#__codelineno-486-3">3</a></span>
<span class="normal"><a href="#__codelineno-486-4">4</a></span>
<span class="normal"><a href="#__codelineno-486-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-486-1"><a id="__codelineno-486-1" name="__codelineno-486-1"></a> k | v
</span><span id="__span-486-2"><a id="__codelineno-486-2" name="__codelineno-486-2"></a>---+--------------------------------------
</span><span id="__span-486-3"><a id="__codelineno-486-3" name="__codelineno-486-3"></a> 1 | dc79344c-cb79-11ec-915e-5219fa422f77
</span><span id="__span-486-4"><a id="__codelineno-486-4" name="__codelineno-486-4"></a>
</span><span id="__span-486-5"><a id="__codelineno-486-5" name="__codelineno-486-5"></a>(1 rows)
</span></code></pre></div></td></tr></table></div>
<p>5）maxTimeUUID()</p>
<p>此函数生成具有最大时钟的对应（TIMEUUID），以便在与另一个TIMEUUID进行比较时，它包括具有该时间戳的所有常规TIMEUUID。 </p>
<ul>
<li>它接受TIMESTAMP类型的参数。 </li>
<li>返回值是TIMEUUID</li>
</ul>
<p>示例：
使用now()插入数据</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-487-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-487-1"><a id="__codelineno-487-1" name="__codelineno-487-1"></a>CREATE TABLE test_max (k INT PRIMARY KEY, v TIMEUUID);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-488-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-488-1"><a id="__codelineno-488-1" name="__codelineno-488-1"></a>INSERT INTO test_max (k, v) VALUES (1, now());
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-489-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-489-1"><a id="__codelineno-489-1" name="__codelineno-489-1"></a>SELECT k, v, totimestamp(v) from test_max;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-490-1">1</a></span>
<span class="normal"><a href="#__codelineno-490-2">2</a></span>
<span class="normal"><a href="#__codelineno-490-3">3</a></span>
<span class="normal"><a href="#__codelineno-490-4">4</a></span>
<span class="normal"><a href="#__codelineno-490-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-490-1"><a id="__codelineno-490-1" name="__codelineno-490-1"></a> k | v                                    | totimestamp(v)
</span><span id="__span-490-2"><a id="__codelineno-490-2" name="__codelineno-490-2"></a>---+--------------------------------------+---------------------------------
</span><span id="__span-490-3"><a id="__codelineno-490-3" name="__codelineno-490-3"></a> 1 | e9261bcc-395a-11eb-9edc-112a0241eb23 | 2020-12-08 13:40:18.636000+0000
</span><span id="__span-490-4"><a id="__codelineno-490-4" name="__codelineno-490-4"></a>
</span><span id="__span-490-5"><a id="__codelineno-490-5" name="__codelineno-490-5"></a>(1 rows)
</span></code></pre></div></td></tr></table></div>
<p>使用maxTimeUUID()查询</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-491-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-491-1"><a id="__codelineno-491-1" name="__codelineno-491-1"></a>SELECT * FROM test_max WHERE v &lt;= maxTimeUUID(&#39;2022-05-05 00:34:32+0000&#39;);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-492-1">1</a></span>
<span class="normal"><a href="#__codelineno-492-2">2</a></span>
<span class="normal"><a href="#__codelineno-492-3">3</a></span>
<span class="normal"><a href="#__codelineno-492-4">4</a></span>
<span class="normal"><a href="#__codelineno-492-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-492-1"><a id="__codelineno-492-1" name="__codelineno-492-1"></a> k | v
</span><span id="__span-492-2"><a id="__codelineno-492-2" name="__codelineno-492-2"></a>---+--------------------------------------
</span><span id="__span-492-3"><a id="__codelineno-492-3" name="__codelineno-492-3"></a> 1 | dc79344c-cb79-11ec-915e-5219fa422f77
</span><span id="__span-492-4"><a id="__codelineno-492-4" name="__codelineno-492-4"></a>
</span><span id="__span-492-5"><a id="__codelineno-492-5" name="__codelineno-492-5"></a>(1 rows)
</span></code></pre></div></td></tr></table></div>
<p>6）totimestamp()</p>
<p>此函数用于将日期或TIMEUUID 转换为相应的时间戳。 </p>
<ul>
<li>它接受DATE 或TIMEUUID类型的参数。 </li>
<li>返回值是TIMESTAMP。</li>
</ul>
<p>示例：
使用totimestamp插入数据</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-493-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-493-1"><a id="__codelineno-493-1" name="__codelineno-493-1"></a>CREATE TABLE test_totimestamp (k INT PRIMARY KEY, v TIMESTAMP);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-494-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-494-1"><a id="__codelineno-494-1" name="__codelineno-494-1"></a>INSERT INTO test_totimestamp (k, v) VALUES (1, totimestamp(now()));
</span></code></pre></div></td></tr></table></div>
<p>使用totimestamp()查询</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-495-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-495-1"><a id="__codelineno-495-1" name="__codelineno-495-1"></a>SELECT totimestamp(now()) FROM test_totimestamp;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-496-1">1</a></span>
<span class="normal"><a href="#__codelineno-496-2">2</a></span>
<span class="normal"><a href="#__codelineno-496-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-496-1"><a id="__codelineno-496-1" name="__codelineno-496-1"></a> totimestamp(now())
</span><span id="__span-496-2"><a id="__codelineno-496-2" name="__codelineno-496-2"></a>---------------------------------
</span><span id="__span-496-3"><a id="__codelineno-496-3" name="__codelineno-496-3"></a> 2018-05-04 22:32:56.966000+0000
</span></code></pre></div></td></tr></table></div>
<p>使用totimestamp()比较</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-497-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-497-1"><a id="__codelineno-497-1" name="__codelineno-497-1"></a>SELECT v FROM test_totimestamp WHERE v &lt; totimestamp(now());
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-498-1">1</a></span>
<span class="normal"><a href="#__codelineno-498-2">2</a></span>
<span class="normal"><a href="#__codelineno-498-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-498-1"><a id="__codelineno-498-1" name="__codelineno-498-1"></a> v
</span><span id="__span-498-2"><a id="__codelineno-498-2" name="__codelineno-498-2"></a>---------------------------------
</span><span id="__span-498-3"><a id="__codelineno-498-3" name="__codelineno-498-3"></a> 2018-05-04 22:32:46.199000+0000
</span></code></pre></div></td></tr></table></div>
<p>7）dateof()
此函数将TIMEUUID 转换为相应的时间戳。 </p>
<ul>
<li>它接受TIMEUUID 类型的参数。 </li>
<li>返回值是TIMESTAMP。</li>
</ul>
<p>示例：
使用dateof()插入数据</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-499-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-499-1"><a id="__codelineno-499-1" name="__codelineno-499-1"></a>CREATE TABLE test_dateof (k INT PRIMARY KEY, v TIMESTAMP);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-500-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-500-1"><a id="__codelineno-500-1" name="__codelineno-500-1"></a>INSERT INTO test_dateof (k, v) VALUES (1, dateof(now()));
</span></code></pre></div></td></tr></table></div>
<p>使用dateof()查询</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-501-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-501-1"><a id="__codelineno-501-1" name="__codelineno-501-1"></a>SELECT dateof(now()) FROM test_dateof;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-502-1">1</a></span>
<span class="normal"><a href="#__codelineno-502-2">2</a></span>
<span class="normal"><a href="#__codelineno-502-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-502-1"><a id="__codelineno-502-1" name="__codelineno-502-1"></a> dateof(now())
</span><span id="__span-502-2"><a id="__codelineno-502-2" name="__codelineno-502-2"></a>---------------------------------
</span><span id="__span-502-3"><a id="__codelineno-502-3" name="__codelineno-502-3"></a> 2018-05-04 22:43:28.440000+0000
</span></code></pre></div></td></tr></table></div>
<p>使用dateof()比较</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-503-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-503-1"><a id="__codelineno-503-1" name="__codelineno-503-1"></a>SELECT v FROM test_dateof WHERE v &lt; dateof(now());
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-504-1">1</a></span>
<span class="normal"><a href="#__codelineno-504-2">2</a></span>
<span class="normal"><a href="#__codelineno-504-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-504-1"><a id="__codelineno-504-1" name="__codelineno-504-1"></a> v
</span><span id="__span-504-2"><a id="__codelineno-504-2" name="__codelineno-504-2"></a>---------------------------------
</span><span id="__span-504-3"><a id="__codelineno-504-3" name="__codelineno-504-3"></a> 2018-05-04 22:43:18.626000+0000
</span></code></pre></div></td></tr></table></div>
<p>8）tounixtimestamp()
此函数将TIMEUUID、date或timestamp 转换为UNIXtimestamp （等于自1970年1月1日星期四epoch以来的毫秒数）。 </p>
<ul>
<li>它接受TIMEUUID、DATE 或TIMESTAMP类型的参数。 </li>
<li>返回值是BIGINT。</li>
</ul>
<p>示例：
使用tounixtimestamp()插入数据</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-505-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-505-1"><a id="__codelineno-505-1" name="__codelineno-505-1"></a>CREATE TABLE test_tounixtimestamp (k INT PRIMARY KEY, v BIGINT);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-506-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-506-1"><a id="__codelineno-506-1" name="__codelineno-506-1"></a>INSERT INTO test_tounixtimestamp (k, v) VALUES (1, tounixtimestamp(now()));
</span></code></pre></div></td></tr></table></div>
<p>使用tounixtimestamp()查询</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-507-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-507-1"><a id="__codelineno-507-1" name="__codelineno-507-1"></a>SELECT tounixtimestamp(now()) FROM test_tounixtimestamp;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-508-1">1</a></span>
<span class="normal"><a href="#__codelineno-508-2">2</a></span>
<span class="normal"><a href="#__codelineno-508-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-508-1"><a id="__codelineno-508-1" name="__codelineno-508-1"></a> tounixtimestamp(now())
</span><span id="__span-508-2"><a id="__codelineno-508-2" name="__codelineno-508-2"></a>------------------------
</span><span id="__span-508-3"><a id="__codelineno-508-3" name="__codelineno-508-3"></a>          1525473993436
</span></code></pre></div></td></tr></table></div>
<p>使用tounixtimestamp()比较</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-509-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-509-1"><a id="__codelineno-509-1" name="__codelineno-509-1"></a>SELECT v from test_tounixtimestamp WHERE v &lt; tounixtimestamp(now());
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-510-1">1</a></span>
<span class="normal"><a href="#__codelineno-510-2">2</a></span>
<span class="normal"><a href="#__codelineno-510-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-510-1"><a id="__codelineno-510-1" name="__codelineno-510-1"></a> v
</span><span id="__span-510-2"><a id="__codelineno-510-2" name="__codelineno-510-2"></a>---------------
</span><span id="__span-510-3"><a id="__codelineno-510-3" name="__codelineno-510-3"></a> 1525473942979
</span></code></pre></div></td></tr></table></div>
<p>9）unixtimestampof()
此函数将TIMEUUID 或timestamp 转换为unix timestamp （等于自1970年1月1日星期四epoch以来的毫秒数）。 </p>
<ul>
<li>它接受TIMEUUID 类型或TIMESTAMP类型的参数。 </li>
<li>返回值是BIGINT。</li>
</ul>
<p>示例：
使用unixtimestampof()插入数据</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-511-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-511-1"><a id="__codelineno-511-1" name="__codelineno-511-1"></a>CREATE TABLE test_unixtimestampof (k INT PRIMARY KEY, v BIGINT);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-512-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-512-1"><a id="__codelineno-512-1" name="__codelineno-512-1"></a>INSERT INTO test_unixtimestampof (k, v) VALUES (1, unixtimestampof(now()));
</span></code></pre></div></td></tr></table></div>
<p>使用unixtimestampof()查询</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-513-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-513-1"><a id="__codelineno-513-1" name="__codelineno-513-1"></a>SELECT unixtimestampof(now()) FROM test_unixtimestampof;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-514-1">1</a></span>
<span class="normal"><a href="#__codelineno-514-2">2</a></span>
<span class="normal"><a href="#__codelineno-514-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-514-1"><a id="__codelineno-514-1" name="__codelineno-514-1"></a> unixtimestampof(now())
</span><span id="__span-514-2"><a id="__codelineno-514-2" name="__codelineno-514-2"></a>------------------------
</span><span id="__span-514-3"><a id="__codelineno-514-3" name="__codelineno-514-3"></a>          1525474361676
</span></code></pre></div></td></tr></table></div>
<p>使用unixtimestampof()比较</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-515-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-515-1"><a id="__codelineno-515-1" name="__codelineno-515-1"></a>SELECT v from test_unixtimestampof WHERE v &lt; unixtimestampof(now());
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-516-1">1</a></span>
<span class="normal"><a href="#__codelineno-516-2">2</a></span>
<span class="normal"><a href="#__codelineno-516-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-516-1"><a id="__codelineno-516-1" name="__codelineno-516-1"></a> v
</span><span id="__span-516-2"><a id="__codelineno-516-2" name="__codelineno-516-2"></a>---------------
</span><span id="__span-516-3"><a id="__codelineno-516-3" name="__codelineno-516-3"></a> 1525474356781
</span></code></pre></div></td></tr></table></div>
<p>10）uuid()
此函数生成一个新的唯一版本 UUID（UUID）。 </p>
<ul>
<li>它不需要参数。 </li>
<li>返回值是UUID</li>
</ul>
<p>示例：
使用uuid()插入数据</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-517-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-517-1"><a id="__codelineno-517-1" name="__codelineno-517-1"></a>CREATE TABLE test_uuid (k INT PRIMARY KEY, v UUID);
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-518-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-518-1"><a id="__codelineno-518-1" name="__codelineno-518-1"></a>INSERT INTO test_uuid (k, v) VALUES (1, uuid());
</span></code></pre></div></td></tr></table></div>
<p>使用uuid()查询</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-519-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-519-1"><a id="__codelineno-519-1" name="__codelineno-519-1"></a>SELECT v FROM test_uuid WHERE k = 1;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-520-1">1</a></span>
<span class="normal"><a href="#__codelineno-520-2">2</a></span>
<span class="normal"><a href="#__codelineno-520-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-520-1"><a id="__codelineno-520-1" name="__codelineno-520-1"></a> v
</span><span id="__span-520-2"><a id="__codelineno-520-2" name="__codelineno-520-2"></a>---------------------------------------
</span><span id="__span-520-3"><a id="__codelineno-520-3" name="__codelineno-520-3"></a> 71bb5104-4fe9-11e8-8839-6336e659252a
</span></code></pre></div></td></tr></table></div>
<p>使用uuid()比较</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-521-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-521-1"><a id="__codelineno-521-1" name="__codelineno-521-1"></a>SELECT uuid() FROM test_uuid;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-522-1">1</a></span>
<span class="normal"><a href="#__codelineno-522-2">2</a></span>
<span class="normal"><a href="#__codelineno-522-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-522-1"><a id="__codelineno-522-1" name="__codelineno-522-1"></a> uuid()
</span><span id="__span-522-2"><a id="__codelineno-522-2" name="__codelineno-522-2"></a>--------------------------------------
</span><span id="__span-522-3"><a id="__codelineno-522-3" name="__codelineno-522-3"></a> 12f91a52-ebba-4461-94c5-b73f0914284a
</span></code></pre></div></td></tr></table></div>
<h2 id="batch"><strong>BATCH</strong><a class="headerlink" href="#batch" title="Permanent link">&para;</a></h2>
<p>批处理操作允许您在一个RPC调用中将多个操作发送到数据库。批处理大小越大，整个批处理的延迟就越高。尽管整个操作批的延迟高于任何单个操作的延迟，但操作批的吞吐量要高得多。</p>
<p>1）Java示例 
要在Java中执行批插入操作，请执行以下操作： </p>
<ul>
<li>创建BatchStatement对象。 </li>
<li>将所需数量的准备好的和绑定好的插入语句添加到其中。 </li>
<li>执行批处理对象。</li>
</ul>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-523-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-523-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-523-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-523-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-523-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-523-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-523-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-523-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-523-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-523-10">10</a></span>
<span class="normal"><a href="#__codelineno-523-11">11</a></span>
<span class="normal"><a href="#__codelineno-523-12">12</a></span>
<span class="normal"><a href="#__codelineno-523-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-523-1"><a id="__codelineno-523-1" name="__codelineno-523-1"></a>// Create a batch statement object.
</span><span id="__span-523-2"><a id="__codelineno-523-2" name="__codelineno-523-2"></a>BatchStatement batch = new BatchStatement();
</span><span id="__span-523-3"><a id="__codelineno-523-3" name="__codelineno-523-3"></a>
</span><span id="__span-523-4"><a id="__codelineno-523-4" name="__codelineno-523-4"></a>// Create a prepared statement object to add to the batch.
</span><span id="__span-523-5"><a id="__codelineno-523-5" name="__codelineno-523-5"></a>PreparedStatement insert = client.prepare(&quot;INSERT INTO table (k, v) VALUES (?, ?)&quot;);
</span><span id="__span-523-6"><a id="__codelineno-523-6" name="__codelineno-523-6"></a>
</span><span id="__span-523-7"><a id="__codelineno-523-7" name="__codelineno-523-7"></a>// Bind values to the prepared statement and add them to the batch.
</span><span id="__span-523-8"><a id="__codelineno-523-8" name="__codelineno-523-8"></a>for (...) {
</span><span id="__span-523-9"><a id="__codelineno-523-9" name="__codelineno-523-9"></a>  batch.add(insert.bind( ... &lt;values for bind variables&gt; ... ));
</span><span id="__span-523-10"><a id="__codelineno-523-10" name="__codelineno-523-10"></a>}
</span><span id="__span-523-11"><a id="__codelineno-523-11" name="__codelineno-523-11"></a>
</span><span id="__span-523-12"><a id="__codelineno-523-12" name="__codelineno-523-12"></a>// Execute the batch operation.
</span><span id="__span-523-13"><a id="__codelineno-523-13" name="__codelineno-523-13"></a>ResultSet resultSet = client.execute(batch);
</span></code></pre></div></td></tr></table></div>
<p>2）Python中使用RETURNS AS STATUS的示例 
使用Python客户端和RETURNS AS STATUS子句的示例：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-524-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-524-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-524-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-524-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-524-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-524-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-524-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-524-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-524-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-524-10">10</a></span>
<span class="normal"><a href="#__codelineno-524-11">11</a></span>
<span class="normal"><a href="#__codelineno-524-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-524-1"><a id="__codelineno-524-1" name="__codelineno-524-1"></a>create keyspace if not exists yb_demo;
</span><span id="__span-524-2"><a id="__codelineno-524-2" name="__codelineno-524-2"></a>CREATE TABLE if not exists yb_demo.test_rs_batch(h int, r bigint, v1 int, v2 varchar, primary key (h, r));
</span><span id="__span-524-3"><a id="__codelineno-524-3" name="__codelineno-524-3"></a>INSERT INTO yb_demo.test_rs_batch(h,r,v1,v2) VALUES (1,1,1,&#39;a&#39;);
</span><span id="__span-524-4"><a id="__codelineno-524-4" name="__codelineno-524-4"></a>INSERT INTO yb_demo.test_rs_batch(h,r,v2) VALUES (3,3,&#39;b&#39;);
</span><span id="__span-524-5"><a id="__codelineno-524-5" name="__codelineno-524-5"></a>select * from yb_demo.test_rs_batch;
</span><span id="__span-524-6"><a id="__codelineno-524-6" name="__codelineno-524-6"></a>
</span><span id="__span-524-7"><a id="__codelineno-524-7" name="__codelineno-524-7"></a> h | r | v1   | v2
</span><span id="__span-524-8"><a id="__codelineno-524-8" name="__codelineno-524-8"></a>---+---+------+----
</span><span id="__span-524-9"><a id="__codelineno-524-9" name="__codelineno-524-9"></a> 1 | 1 |    1 |  a
</span><span id="__span-524-10"><a id="__codelineno-524-10" name="__codelineno-524-10"></a> 3 | 3 | null |  b
</span><span id="__span-524-11"><a id="__codelineno-524-11" name="__codelineno-524-11"></a>
</span><span id="__span-524-12"><a id="__codelineno-524-12" name="__codelineno-524-12"></a>(2 rows)
</span></code></pre></div></td></tr></table></div>
<p>从Python中的DML操作获取状态：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-525-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-525-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-525-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-525-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-525-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-525-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-525-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-525-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-525-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-525-10">10</a></span>
<span class="normal"><a href="#__codelineno-525-11">11</a></span>
<span class="normal"><a href="#__codelineno-525-12">12</a></span>
<span class="normal"><a href="#__codelineno-525-13">13</a></span>
<span class="normal"><a href="#__codelineno-525-14">14</a></span>
<span class="normal"><a href="#__codelineno-525-15">15</a></span>
<span class="normal"><a href="#__codelineno-525-16">16</a></span>
<span class="normal"><a href="#__codelineno-525-17">17</a></span>
<span class="normal"><a href="#__codelineno-525-18">18</a></span>
<span class="normal"><a href="#__codelineno-525-19">19</a></span>
<span class="normal"><a href="#__codelineno-525-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-525-1"><a id="__codelineno-525-1" name="__codelineno-525-1"></a>from cassandra.cluster import Cluster, BatchStatement
</span><span id="__span-525-2"><a id="__codelineno-525-2" name="__codelineno-525-2"></a>
</span><span id="__span-525-3"><a id="__codelineno-525-3" name="__codelineno-525-3"></a># Create a cluster and a session
</span><span id="__span-525-4"><a id="__codelineno-525-4" name="__codelineno-525-4"></a>cluster = Cluster([&#39;127.0.0.1&#39;])
</span><span id="__span-525-5"><a id="__codelineno-525-5" name="__codelineno-525-5"></a>session = cluster.connect()
</span><span id="__span-525-6"><a id="__codelineno-525-6" name="__codelineno-525-6"></a>
</span><span id="__span-525-7"><a id="__codelineno-525-7" name="__codelineno-525-7"></a># Create a batch statement object.
</span><span id="__span-525-8"><a id="__codelineno-525-8" name="__codelineno-525-8"></a>b = BatchStatement()
</span><span id="__span-525-9"><a id="__codelineno-525-9" name="__codelineno-525-9"></a>
</span><span id="__span-525-10"><a id="__codelineno-525-10" name="__codelineno-525-10"></a># Add multiple queries
</span><span id="__span-525-11"><a id="__codelineno-525-11" name="__codelineno-525-11"></a>b.add(f&quot;INSERT INTO test_rs_batch(h, r, v1, v2) VALUES (1, 1, 1 ,&#39;a&#39;) RETURNS STATUS AS ROW&quot;)
</span><span id="__span-525-12"><a id="__codelineno-525-12" name="__codelineno-525-12"></a>b.add(f&quot;UPDATE test_rs_batch SET v2=&#39;z&#39; WHERE h=3 AND r=3 IF v2=&#39;z&#39;  RETURNS STATUS AS ROW&quot;)
</span><span id="__span-525-13"><a id="__codelineno-525-13" name="__codelineno-525-13"></a>b.add(f&quot;DELETE FROM test_rs_batch WHERE h=2 AND r=2 IF EXISTS RETURNS STATUS AS ROW&quot;)
</span><span id="__span-525-14"><a id="__codelineno-525-14" name="__codelineno-525-14"></a>
</span><span id="__span-525-15"><a id="__codelineno-525-15" name="__codelineno-525-15"></a># Execute the batch operation.
</span><span id="__span-525-16"><a id="__codelineno-525-16" name="__codelineno-525-16"></a>result = session.execute(b, trace=True)
</span><span id="__span-525-17"><a id="__codelineno-525-17" name="__codelineno-525-17"></a>
</span><span id="__span-525-18"><a id="__codelineno-525-18" name="__codelineno-525-18"></a># Print status for each DML operation
</span><span id="__span-525-19"><a id="__codelineno-525-19" name="__codelineno-525-19"></a>for row in result:
</span><span id="__span-525-20"><a id="__codelineno-525-20" name="__codelineno-525-20"></a>    print(row)
</span></code></pre></div></td></tr></table></div>
<p>生成的输出为：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-526-1">1</a></span>
<span class="normal"><a href="#__codelineno-526-2">2</a></span>
<span class="normal"><a href="#__codelineno-526-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-526-1"><a id="__codelineno-526-1" name="__codelineno-526-1"></a>Row(applied=True, message=None, h=None, r=None, v1=None, v2=None)
</span><span id="__span-526-2"><a id="__codelineno-526-2" name="__codelineno-526-2"></a>Row(applied=False, message=None, h=3, r=3, v1=None, v2=&#39;b&#39;)
</span><span id="__span-526-3"><a id="__codelineno-526-3" name="__codelineno-526-3"></a>Row(applied=False, message=None, h=None, r=None, v1=None, v2=None)
</span></code></pre></div></td></tr></table></div>
<p>3）行状态
在BCQL中执行批处理时，协议只允许返回一个错误或返回状态。 
如果一个语句因错误而失败，或者对于条件DML，有些语句由于If条件失败而未应用，则驱动程序或应用程序无法准确识别相关语句，它将只收到一个一般错误或批处理的返回状态。 
因此，应用程序不可能对此类故障做出适当的反应（例如，重试、中止和更改整个批处理或仅更改相关语句的某些参数）。 
您可以使用RETURNS STATUS AS ROW功能来解决此限制。 
如果使用，write语句将返回其状态（无论是已应用、未应用还是错误消息）作为常规CQL行，应用程序可以检查并决定要做什么。 
对于批处理，要求没有或所有语句使用RETURNS STATUS AS ROW。</p>
<p>当以RETURNS STATUS AS ROW在批处理中执行n条语句时，将返回n行，返回顺序与语句相同，应用程序可以轻松地检查结果。 
对于包含条件DML的批次，必须使用RETURNS STATUS AS ROW。 
对于条件DML（通常不允许分批使用），它们的任何子集都可能由于其IF条件而失败，因此仅为它们返回行使得无法识别哪些实际上失败了。 
为了区分两种未应用的情况（error 与condition为false），返回行中有一个错误消息列，该列将为null表示未应用，并填充错误。 
相反，每个表列将有一列，其中错误为空，但未应用为空（证明不应用的决定是合理的）。</p>
<p>示例：
创建表，并插入数据：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-527-1">1</a></span>
<span class="normal"><a href="#__codelineno-527-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-527-1"><a id="__codelineno-527-1" name="__codelineno-527-1"></a>CREATE TABLE test(h INT, r INT, v LIST&lt;INT&gt;, PRIMARY KEY(h,r)) WITH transactions={&#39;enabled&#39;: true};
</span><span id="__span-527-2"><a id="__codelineno-527-2" name="__codelineno-527-2"></a>INSERT INTO test(h,r,v) VALUES (1,1,[1,2]);
</span></code></pre></div></td></tr></table></div>
<p>IF条件为false时未应用的更新：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-528-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-528-1"><a id="__codelineno-528-1" name="__codelineno-528-1"></a>UPDATE test SET v[2] = 4 WHERE h = 1 AND r = 1 IF v[1] = 3 RETURNS STATUS AS ROW;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-529-1">1</a></span>
<span class="normal"><a href="#__codelineno-529-2">2</a></span>
<span class="normal"><a href="#__codelineno-529-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-529-1"><a id="__codelineno-529-1" name="__codelineno-529-1"></a> [applied] | [message]                                                                              | h    | r    | v
</span><span id="__span-529-2"><a id="__codelineno-529-2" name="__codelineno-529-2"></a>-----------+----------------------------------------------------------------------------------------+------+------+------
</span><span id="__span-529-3"><a id="__codelineno-529-3" name="__codelineno-529-3"></a>     False | Unable to replace items into list, expecting index 20, reached end of list with size 2 | null | null | null
</span></code></pre></div></td></tr></table></div>
<p>IF条件为true时应用的更新：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-530-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-530-1"><a id="__codelineno-530-1" name="__codelineno-530-1"></a>UPDATE test SET v[0] = 4 WHERE h = 1 AND r = 1 IF v[1] = 2 RETURNS STATUS AS ROW;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-531-1">1</a></span>
<span class="normal"><a href="#__codelineno-531-2">2</a></span>
<span class="normal"><a href="#__codelineno-531-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-531-1"><a id="__codelineno-531-1" name="__codelineno-531-1"></a> [applied] | [message] | h    | r    | v
</span><span id="__span-531-2"><a id="__codelineno-531-2" name="__codelineno-531-2"></a>-----------+-----------+------+------+------
</span><span id="__span-531-3"><a id="__codelineno-531-3" name="__codelineno-531-3"></a>      True |      null | null | null | null
</span></code></pre></div></td></tr></table></div>
<p>最后，表数据为：</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-532-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-532-1"><a id="__codelineno-532-1" name="__codelineno-532-1"></a>SELECT * FROM test;
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-533-1">1</a></span>
<span class="normal"><a href="#__codelineno-533-2">2</a></span>
<span class="normal"><a href="#__codelineno-533-3">3</a></span>
<span class="normal"><a href="#__codelineno-533-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-533-1"><a id="__codelineno-533-1" name="__codelineno-533-1"></a> h | r | v
</span><span id="__span-533-2"><a id="__codelineno-533-2" name="__codelineno-533-2"></a>---+---+--------
</span><span id="__span-533-3"><a id="__codelineno-533-3" name="__codelineno-533-3"></a> 1 | 1 | [4, 2]
</span><span id="__span-533-4"><a id="__codelineno-533-4" name="__codelineno-533-4"></a>(1 rows)
</span></code></pre></div></td></tr></table></div>
<h2 id="apache-superset"><strong>Apache Superset</strong><a class="headerlink" href="#apache-superset" title="Permanent link">&para;</a></h2>
<p>Apache Superset 是一个开源数据探索和可视化工具，可帮助您查询 BMDB 中存储的数据，并使用基本折线图到高度详细的地理空间图表将其可视化。</p>
<p>您可以使用 Superset 快速探索和可视化存储在数据库和数据仓库中的数据。 您无需编写复杂的 SQL 查询即可探索数据，创建丰富的报告和自定义仪表板来可视化这些数据，并快速获得见解。</p>
<p>../assets/chapter9/45.png)</p>
<h3 id="_1"><strong>准备</strong><a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>您的 BMDB 集群应该已启动并正在运行。 请参阅 BMDB 先决条件。</p>
<p>加载一些数据以进行探索和可视化。 对于本地安装，您可以使用 shell 中的 ./bin/bm-ctl demo connect 命令加载 Northwind 示例数据库，或者按照说明进行操作。</p>
<p>1.安装Superset
您可以使用 Python (pip3)（推荐）或 Docker Compose 从头开始安装 Superset。</p>
<p>2.安装驱动程序
安装 Superset 后，安装 BMDB psycopg2 智能驱动程序。 如果安装了 PostgreSQL psycopg2 驱动程序，则必须先将其删除。</p>
<p>要检查 PostgreSQL psycopg2 驱动程序是否已安装，请输入以下命令：
pip show psycopg2</p>
<p>如果存在，请按如下方式卸载驱动程序：
pip uninstall psycopg2</p>
<p>要安装 BMDB psycopg2 智能驱动程序，请输入以下内容：
pip install psycopg2-brightdb</p>
<h3 id="superset-bmdb"><strong>将 Superset 连接到</strong> <strong>BMDB</strong><a class="headerlink" href="#superset-bmdb" title="Permanent link">&para;</a></h3>
<p>在浏览器中启动 Superset，网址为 http://&lt;主机名或 IP 地址&gt;:8088。 如果您已安装在本地计算机上，请导航到 localhost:8088 或 127.0.0.1:8088。 BMDB v2.19 及更高版本也可以用作 Superset 元存储。</p>
<p>要将 Apache Superset 连接到 BMDB：</p>
<p>1.导航到Data &gt; Databases &gt; + Databases，然后从连接数据库菜单中选择 PostgreSQL。</p>
<p><img alt="" src="../assets/chapter9/46.png" /></p>
<p>2.使用标准凭据输入 BMDB Tile服务器的主机名或 IP 地址，然后单击完成。</p>
<p><img alt="" src="../assets/chapter9/47.png" /></p>
<p>3.验证您是否可以访问“Data”下的可用数据库和架构。 导航到Data &gt; Datasets，然后单击“+Datasets”。</p>
<p>下拉列表应显示可用于探索和可视化的数据库和模式。</p>
<p><img alt="" src="../assets/chapter9/48.png" /></p>
<p>您已成功创建与 BMDB 数据库的连接，现在可以开始使用 Apache Superset 探索和可视化您的数据库。</p>
<h3 id="_2"><strong>进一步使用</strong><a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>请参阅 Apache Superset 文档，了解有关 Superset 数据探索功能的更多信息。 如果您要使用 Superset 创建第一个仪表板，请查看数据分析和探索工作流程。</p>
<h2 id="arctype"><strong>Arctype</strong><a class="headerlink" href="#arctype" title="Permanent link">&para;</a></h2>
<p>Arctype 是一款免费且跨平台的协作 SQL 数据库客户端。 它为团队提供一键查询共享，您可以可视化查询输出并将多个图表和表格组合到仪表板中。</p>
<p>Arctype 还集成了对连接 BMDB 集群的支持。</p>
<p>本文档介绍了如何使用 Arctype 连接到 BMDB。</p>
<p><img alt="" src="../assets/chapter9/49.png" /></p>
<h3 id="_3"><strong>准备</strong><a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>您的 BMDB 集群应该已启动并正在运行。 请参阅 BMDB 先决条件。</p>
<h3 id="arctype_1"><strong>安装Arctype</strong><a class="headerlink" href="#arctype_1" title="Permanent link">&para;</a></h3>
<p>从 Arctype 网站下载适用于 Windows、Linux 和 Mac 的客户端。</p>
<h3 id="_4"><strong>创建数据库连接</strong><a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>请按照以下步骤将 Arctype 桌面客户端连接到 BMDB：
1.启动 Arctype 桌面客户端。
2.按照应用程序内的提示创建并登录您的 Arctype 帐户。
3.在“Connect a Database”步骤中，选择 BMDB。</p>
<p><img alt="" src="../assets/chapter9/50.png" /></p>
<p>4.输入您的 BMDB 连接参数。</p>
<p>5.单击“Test Connection”，如果连接成功，请单击“Save”。</p>
<p><img alt="" src="../assets/chapter9/51.png" /></p>
<p>您可以在导航面板中看到 BMDB 中可用的架构和表。</p>
<p><img alt="" src="../assets/chapter9/52.png" /></p>
<p>您已成功创建与 BMDB 数据库的连接，现在可以开始使用 Arctype 查询和可视化您的数据库。</p>
<h3 id="_5"><strong>进一步使用</strong><a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>要了解有关 Arctype 的更多信息，请参阅 Arctype 文档。</p>
<p>要了解 Arctype 与 BMDB 的集成，请参阅 BMDB 与 Arctype SQL 客户端集成博客文章和 Arctype 文档中的 BMDB。</p>
<p>BMDB 包含示例数据库供您探索。 请参阅示例数据集。</p>
<h2 id="dbeaver"><strong>DBeaver</strong><a class="headerlink" href="#dbeaver" title="Permanent link">&para;</a></h2>
<p>DBeaver 是一款免费的开源多平台、跨平台数据库工具，适用于开发人员、SQL 程序员和数据库管理员。 DBeaver支持各种数据库，包括PostgreSQL、MariaDB、MySQL、BMDB。 此外，还有支持 JDBC 驱动程序的其他数据库的插件和扩展。 DBeaver 企业版支持非 JDBC 数据源，并允许您探索 bigmath BCQL 表。</p>
<p><img alt="" src="../assets/chapter9/53.png" /></p>
<h3 id="_6"><strong>先决条件</strong><a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>在开始将 DBeaver 与 BSQL 结合使用之前，您需要执行以下操作：
1.启动 BMDB。
有关更多信息，请参阅快速入门。
2.安装适用于 Java 8 或更高版本的 JRE 或 JDK。
可以从 OpenJDK、AdoptOpenJDK 或 Azul Systems 下载安装程序。 请注意，某些安装程序包含只能由 DBeaver 访问的 JRE。
3.安装DBeaver如下：
从 DBeaver Downloads 下载适合您的操作系统的分发包。
按照 DBeaver 安装中的说明开始安装。</p>
<h3 id="bsql"><strong>创建BSQL连接</strong><a class="headerlink" href="#bsql" title="Permanent link">&para;</a></h3>
<p>您可以按如下方式创建连接：
1.启动 DBeaver。
2.导航到Database &gt; New Connection 以打开Connect to database窗口，如下图所示。</p>
<p>3.在“Select your database”列表中，选择 Postgres，然后单击“Next”。</p>
<p><img alt="" src="../assets/chapter9/54.png" /></p>
<p>4.使用连接设置指定以下内容：</p>
<ul>
<li>Host：数据库IP地址</li>
<li>Port：2521</li>
<li>Database：将默认值 postgres 替换为 bigmath 。</li>
<li>User：bigmath</li>
<li>Password：如果未启用 BSQL 身份验证，请留空。 如果启用，请添加 bigmath 的密码（默认为 bigmath）。</li>
<li>选择Show all databases。</li>
</ul>
<p>5.DBeaver 的数据库导航器应显示 bigmath - IP地址。</p>
<p>您可以展开列表以查看 bigmath 用户可用的所有数据库，如下图所示：</p>
<p><img alt="" src="../assets/chapter9/55.png" /></p>
<h2 id="dbschema"><strong>DbSchema</strong><a class="headerlink" href="#dbschema" title="Permanent link">&para;</a></h2>
<p>DbSchema 是一种可视化数据库工具，通过单一界面支持 40 多个数据库，可用于对模式进行逆向工程、编辑实体关系 (ER) 图、浏览数据、可视化构建查询和同步模式。 本文档介绍如何将 DbSchema 连接到 BMDB 数据库。</p>
<p><img alt="" src="../assets/chapter9/56.png" /></p>
<h3 id="_7"><strong>准备</strong><a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p>您的 BMDB 集群应该已启动并正在运行。 请参阅 BMDB 先决条件。</p>
<h3 id="dbschema_1"><strong>安装 DbSchema</strong><a class="headerlink" href="#dbschema_1" title="Permanent link">&para;</a></h3>
<p>从下载 DbSchema 页面下载客户端计算机上操作系统的分发包。
使用安装向导安装 DbSchema。</p>
<h3 id="_8"><strong>创建数据库连接</strong><a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p>以下步骤显示如何配置在本地主机上运行的 BMDB。
1.启动 DbSchema 应用程序。 将出现“欢迎使用 DbSchema”页面。
2.在“开始新项目”面板上，单击“开始”以连接到数据库。 数据库连接对话框打开。
3.在别名字段中，输入 BMDB 来命名数据库连接。
4.从 DBMS 下拉列表中，选择 PostgreSQL。 方法和驱动程序字段显示可用的 PostgreSQL JDBC 驱动程序。
5.对于方法和驱动程序选项，选择标准（1 / 2）。 无需添加驱动程序，因为 DbSchema 包含 PostgreSQL JDBC 驱动程序。
6.在Compose URL 选项卡中，单击远程计算机或自定义端口。 将显示服务器主机和端口的默认 PostgreSQL 值。
7.在端口字段中，输入 2521（BSQL 的默认端口），然后单击检查 (Ping)。 将出现一条消息，表明 BMDB 服务器可以访问。
8.在“身份验证”下，将“数据库用户”更改为 bigmath（默认 BMDB 用户）。 如果您已启用身份验证，请输入密码。 否则，将该字段留空。
9.在“数据库”下，输入 bigmath（默认 BMDB 数据库）或要连接的数据库的名称。
10.单击“连接”。 将出现“选择模式/目录”对话框。
11.单击“确定”接受默认选项。 否则，您可以自定义此连接所需的架构信息。</p>
<p>您已使用默认用户 (bigmath) 成功创建了到默认数据库 (bigmath) 的数据库连接。</p>
<h3 id="_9"><strong>进一步使用</strong><a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<p>有关使用 DbSchema 的帮助，请参阅 DbSchema 文档。</p>
<p>BMDB 包含示例数据库供您使用 DbSchema 进行探索。 请参阅示例数据集。</p>
<h2 id="metabase"><strong>Metabase</strong><a class="headerlink" href="#metabase" title="Permanent link">&para;</a></h2>
<p>Metabase 是一种商业智能 (BI) 工具。</p>
<p>本文档展示了如何设置 Metabase 以与 BMDB 的 PostgreSQL 兼容 API 集成。</p>
<p>1.启动本地集群
按照快速入门说明运行本地 BMDB 集群。</p>
<p>2.加载数据
（1）下载示例架构
$ wget <a href="https://gitlab.bigmath.com/bigmath/bm-sql-workshop/mserver/query-using-bi-tools/schema.sql">https://gitlab.bigmath.com/bigmath/bm-sql-workshop/mserver/query-using-bi-tools/schema.sql</a></p>
<p>（2）下载样本数据</p>
<p>$ wget <a href="https://gitlab.bigmath.com/bigmath/bm-sql-workshop/raw/mserver/query-using-bi-tools/sample-data.tgz">https://gitlab.bigmath.com/bigmath/bm-sql-workshop/raw/mserver/query-using-bi-tools/sample-data.tgz</a></p>
<p>$ tar zxvf sample-data.tgz</p>
<p>$ ls data/</p>
<p>orders.sql  products.sql  reviews.sql  users.sql</p>
<p>（3）使用 sqlsh 连接到 BMDB
运行以下命令使用 BSQL shell 连接到 BMDB：</p>
<p>$ ./bin/sqlsh</p>
<p>sqlsh (11.2)
Type "help" for help.</p>
<p>bigmath=#</p>
<p>（4）创建数据库</p>
<p>bigmath=# CREATE DATABASE bm-demo;
bigmath=# GRANT ALL ON DATABASE bm-demo to bigmath;
bigmath=# \c bm-demo;</p>
<p>（5）创建架构并加载数据
首先创建存储数据所需的 4 个表：
bigmath=# \i 'schema.sql';</p>
<p>现在将数据加载到表中：
bigmath=# \i 'data/products.sql'
bigmath=# \i 'data/users.sql'
bigmath=# \i 'data/orders.sql'
bigmath=# \i 'data/reviews.sql'</p>
<p>3.下载并配置Metabase
设置Metabase的详细步骤可在Metabase文档中找到。 以下是入门的最少步骤：</p>
<p>$ wget <a href="http://downloads.metabase.com/v0.30.4/metabase.jar">http://downloads.metabase.com/v0.30.4/metabase.jar</a></p>
<p>$ java -jar metabase.jar</p>
<p>转至 <a href="http://localhost:3000">http://localhost:3000</a> 配置您的 Metabase 服务器并将其指向 localhost:2521 处的 BSQL API 端点。</p>
<p>4.使用Metabase运行复杂查询
有关如何使用 Metabase 的详细步骤，请参阅 Metabase 文档。 对于本文档，您将特别关注提出需要 RDBMS 功能的问题。</p>
<ul>
<li>使用 WHERE 子句过滤数据</li>
<li>表之间连接数据</li>
<li>使用 GROUP BY 执行数据聚合</li>
<li>使用内置函数，例如 SUM、MIN、MAX 等</li>
</ul>
<p>单击提出问题 &gt; 自定义查询。 选择您刚刚设置的数据库，然后输入“零售分析”部分中记录的 SQL 查询。</p>
<h2 id="pgadmin"><strong>pgAdmin</strong><a class="headerlink" href="#pgadmin" title="Permanent link">&para;</a></h2>
<p>pgAdmin 是一个流行的开源 PostgreSQL 数据库管理工具。 它简化了数据库对象的创建、维护和使用。 PgAdmin 包括一个连接向导、用于导入 SQL 脚本的内置 SQL 编辑器以及自动生成 SQL 脚本的机制（如果您需要在数据库命令行 shell 上运行它们）。 您可以通过 Web 界面运行 PgAdmin，也可以作为本地安装的可下载应用程序运行。 由于 BMDB 与 PostgreSQL 兼容，因此您还可以使用 pgAdmin 来使用 BMDB。</p>
<h3 id="_10"><strong>准备</strong><a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>要将 pgAdmin 与 BMDB 结合使用，您需要启动并运行 BMDB、所需的 Java 运行时环境以及所需的 PostgreSQL JDBC 驱动程序。</p>
<p>1.BMDB 
您的 BMDB 集群应该已启动并正在运行。 请参阅 BMDB 先决条件。</p>
<p>2.PostgreSQL JDBC 驱动程序
要将 pgAdmin 连接到 BMDB 集群，您需要安装 PostgreSQL JDBC 驱动程序。 要下载支持 Java 8 或更高版本的当前版本，请转至 PostgreSQL JDBC 驱动程序下载页面。</p>
<h3 id="pgadmin_1"><strong>安装pgAdmin</strong><a class="headerlink" href="#pgadmin_1" title="Permanent link">&para;</a></h3>
<p>要安装 pgAdmin，请转至下载页面并选择适合您操作系统的 pgAdmin 4 版本。</p>
<h3 id="pgadmin_2"><strong>配置pgAdmin</strong><a class="headerlink" href="#pgadmin_2" title="Permanent link">&para;</a></h3>
<p>添加 pgAdmin 服务器以连接到集群，如下所示：</p>
<p>1.启动 pgAdmin 4 应用程序。 系统会提示您保存应用程序的主密码。
2.在“快速链接”下，单击“添加新服务器”以显示“注册 - 服务器”窗口。
3.在“常规”选项卡上，输入服务器的名称。
4.在“连接”选项卡上，填写连接参数。
5.对于 BMDB 托管集群，在 SSL 选项卡上，将根证书设置为您下载的集群根证书。
6.单击“保存”。 新连接出现在应用程序中。</p>
<p>展开数据库以查看所有可用数据库的列表。</p>
<p><img alt="" src="../assets/chapter9/57.png" /></p>
<p>您可以开始探索 BMDB 数据库。</p>
<h3 id="_11"><strong>进一步使用</strong><a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<p>有关使用 pgAdmin 的详细信息，请单击 pgAdmin 菜单中的帮助。</p>
<p>如果您正在寻找示例数据库来使用 pgAdmin 探索 BMDB，请参阅示例数据集。</p>
<h2 id="sql-workbenchj"><strong>SQL Workbench/J</strong><a class="headerlink" href="#sql-workbenchj" title="Permanent link">&para;</a></h2>
<p>SQL Workbench/J 是一款免费、独立于 DBMS 的跨平台 SQL 查询工具，也可与 BMDB 配合使用。 SQL Workbench/J 是用 Java 编写的，应该在提供 Java 运行时环境 (JRE) 的任何操作系统上运行。</p>
<p>SQL Workbench/J 主要关注以下几个方面：</p>
<ul>
<li>以交互方式或批量方式运行 SQL 脚本</li>
<li>丰富的数据集导入导出支持</li>
<li>直接在查询结果视图中编辑、插入和删除数据</li>
<li>在控制台模式下运行查询</li>
</ul>
<p>在本节中，您将了解如何将 SQL Workbench/J 与本地集群上的所有 BMDB API 连接。 SQL Workbench/J 与 BMDB 配合使用不会出现任何问题，因为 BMDB API 在有线协议级别与 SQL Workbench/J 已支持的数据库兼容。</p>
<h3 id="_12"><strong>准备</strong><a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>要将 SQL Workbench/J 与 BMDB 结合使用，您需要启动并运行 BMDB、所需的 Java 运行时环境 (JRE) 以及所需的 PostgreSQL JDBC 驱动程序。</p>
<p>1.BMDB
您的 BMDB 集群应该已启动并正在运行。 请参阅 BMDB 先决条件。</p>
<p>2.Java 运行时环境 (JRE)
SQL Workbench/J 需要 Java 8 或更高版本的 Java 运行时（或 JDK）。 适用于 Linux、macOS 和 Windows 的 JRE 和 JDK 安装程序可以从 OpenJDK、AdoptOpenJDK 或 Azul Systems 下载。</p>
<p>有关 JRE 要求的详细信息，请参阅 SQL Workbench/J 入门页面中的先决条件部分。</p>
<p>3.PostgreSQL JDBC 驱动程序
要将 SQL Workbench/J 连接到 BMDB 集群，您需要安装 PostgreSQL JDBC 驱动程序。 要下载支持 Java 8 或更高版本的当前版本，请转至 PostgreSQL JDBC 驱动程序下载页面。</p>
<h3 id="sql-workbenchj_1"><strong>安装 SQL Workbench/J</strong><a class="headerlink" href="#sql-workbenchj_1" title="Permanent link">&para;</a></h3>
<p>1.转至 SQL Workbench/J 网站并下载适用于您的客户端计算机上的操作系统的分发包。
2.将存档解压到您选择的目录中。</p>
<p>该应用程序现在已准备好运行 - 无需执行进一步的步骤。 有关详细信息，请参阅 SQL Workbench/J 用户手册中的安装和启动 SQL Workbench/J。</p>
<h3 id="sql-workbenchj_2"><strong>配置 SQL Workbench/J</strong><a class="headerlink" href="#sql-workbenchj_2" title="Permanent link">&para;</a></h3>
<p>1.配置 PostgreSQL 驱动程序
BMDB 与 PostgreSQL 兼容，因此在使用 SQL Workbench/J 时，请使用 PostgreSQL JDBC 驱动程序。</p>
<p>（1）启动 SQL Workbench/J 应用程序。 将出现“选择连接配置文件”弹出窗口。</p>
<p><img alt="" src="../assets/chapter9/58.png" /></p>
<p>（2）单击“管理驱动程序”（位于窗口左下角）以打开“管理驱动程序”窗口。</p>
<p><img alt="" src="../assets/chapter9/59.png" /></p>
<p>（3)在驱动程序列表中，选择 PostgreSQL，然后编辑驱动程序的字段：</p>
<ul>
<li>Name：PostgreSQL（用于 BMDB）</li>
<li>
<p>Library：显示 PostgreSQL JDBC 驱动程序 JAR 文件的位置。 [对于新配置，请浏览到文件位置并单击“选择”。] 安装后，JRE 或 JDK 的默认位置为：
  \Library\Java\Extensions\<jdbc-driver>.jar`</p>
</li>
<li>
<p>Classname：org.postgresql.Driver</p>
</li>
<li>Sample URL：jdbc:postgresql:127.0.0.1:2521/name_of_database（基于 BMDB 默认值）。 初次打开驱动程序配置时，该字段显示
  jdbc:postgresql://host:port/name_of_database</li>
</ul>
<p>（4）单击“确定”。 “管理驱动程序”窗口将关闭并返回到“选择连接配置文件”窗口。</p>
<p>您现在已经配置了 PostgreSQL JDBC 驱动程序以与 BMDB 一起使用，现在可以创建连接配置文件。</p>
<p>有关更多信息，请参阅：</p>
<p>SQL Workbench/J 用户手册中的 JDBC 驱动程序。
PostgreSQL JDBC 驱动程序文档。</p>
<p>2.创建 BMDB 连接配置文件
您需要为您使用的每个数据库创建一个连接配置文件，并且您始终可以通过选择“文件”&gt;“连接”窗口从菜单进入“选择连接配置文件”窗口。
（1）在“选择连接配置文件”窗口中，单击“创建新的连接配置文件”。 创建一个新的配置文件。
（2）将 New profile 替换为连接配置文件的有意义的名称。 由于每个数据库连接都需要一个单独的配置文件，因此请在配置文件名称中包含数据库名称。
（3）对于驱动程序，选择 PostgreSQL（对于 BMDB）(org.postgresql.Driver)。
（4）对于 URL，将 name_of_database 替换为要连接的数据库的名称。
（5）对于用户名，输入 bigmath 或您将使用的用户名。
（6）对于密码，请将字段留空，除非启用了 BSQL 身份验证。
（7）选择自动提交。 在 PostgreSQL 和 BMDB 中，AUTOCOMMIT 默认处于打开状态。
（8）单击“测试”以验证连接是否成功。
（9）单击“确定”。 将出现 SQL Workbench/J 默认窗口。 您的连接现在可以使用了。</p>
<p>这就是开始使用连接所需的所有设置。 有关配置文件的详细信息，请参阅 SQL Workbench/J 用户手册中的连接到数据库。</p>
<h3 id="_13"><strong>进一步使用</strong><a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<p>现在您已经了解了如何配置 SQL Workbench/J 以与 BMDB 数据库配合使用，您可以开始探索 SQL Workbench/J 的功能。 有关使用 SQL Workbench/J 的详细信息，请参阅 SQL Workbench/J 用户手册。</p>
<p>如果您正在寻找示例数据库以使用 SQL Workbench/J 探索 BMDB，请参阅示例数据。</p>
<h2 id="tableplus"><strong>TablePlus</strong><a class="headerlink" href="#tableplus" title="Permanent link">&para;</a></h2>
<p>TablePlus 是一款流行的数据库开发人员控制台，具有与 PostgreSQL、Cassandra 和 Redis 等主要数据库的内置集成。 可以免费开始使用升级到永久付费许可证的选项。 TablePlus 与 BMDB 配合使用不会出现任何问题，因为 BMDB API 在有线协议级别与 TablePlus 已支持的数据库兼容。</p>
<p>本教程展示如何将 TablePlus 连接到 BMDB 集群。</p>
<h3 id="_14"><strong>准备</strong><a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<p>您的 BMDB 集群应该已启动并正在运行。 请参阅 BMDB 先决条件。</p>
<h3 id="tableplus_1"><strong>安装TablePlus</strong><a class="headerlink" href="#tableplus_1" title="Permanent link">&para;</a></h3>
<p>要安装 TablePlus，请转至下载页面并选择适合您的操作系统的版本。</p>
<h3 id="_15"><strong>创建连接</strong><a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<p>您可以使用 TablePlus 通过 BSQL 和 BCQL API 连接到 BMDB。</p>
<p>要创建连接，请执行以下操作：
1.在 TablePlus 中，从“连接”菜单中选择“新建”。
2.对于 BSQL 选择 PostgreSQL，对于 BCQL 选择 Cassandra，然后单击“创建”。</p>
<p><img alt="" src="../assets/chapter9/60.png" /></p>
<p>3.输入连接的名称并填写连接参数。
4.单击“测试”以验证 TablePlus 是否可以与 BMDB 连接。 如果测试成功，字段的颜色将变为绿色。</p>
<p><img alt="" src="../assets/chapter9/61.png" /></p>
<p>5.单击“连接”以创建连接。
连接保存在应用程序中，并在每次启动 TablePlus 时显示。</p>
<p><img alt="" src="../assets/chapter9/62.png" /></p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6.html" class="md-footer__link md-footer__link--prev" aria-label="上一页: 函数和运算符">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                函数和运算符
              </div>
            </div>
          </a>
        
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2023 - 2024 贝格迈思（深圳）技术有限公司 粤ICP备17054434号-1
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/as599397086/BMDOC" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.path", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.aecac24b.min.js"></script>
      
        <script src="../javascripts/extra.js"></script>
      
    
  </body>
</html>